---
title: Руководство. Включение ресурсов во время компиляции (C++)
ms.date: 02/14/2019
f1_keywords:
- vs.resvw.resource.including
- vc.resvw.resource.including
- vc.editors.resourceincludes
helpviewer_keywords:
- comments [C++], compiled files
- resources [C++], including at compile time
- projects [C++], including resources
- '#include directive'
- include directive (#include)
- Resource Includes dialog box [C++]
- rc files [C++], changing storage
- symbol header files [C++], changing
- .rc files [C++], changing storage
- symbol header files [C++], read-only
- symbols [C++], symbol header files
- directories [C++], specifying include paths for resources
- include files [C++], specifying for resources
- resources [C++], including in projects
- symbols [C++], finding
- resources [C++], searching for symbols
ms.assetid: 357e93c2-0a29-42f9-806f-882f688b8924
ms.openlocfilehash: 5ac4cba4e8ad8a08fa1010758c5a343501d3af2c
ms.sourcegitcommit: a1676bf6caae05ecd698f26ed80c08828722b237
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/29/2020
ms.locfileid: "91504415"
---
# <a name="how-to-include-resources-at-compile-time-c"></a>Руководство. Включение ресурсов во время компиляции (C++)

По умолчанию все ресурсы находятся в одном файле скрипта ресурсов (. RC), однако существует множество причин для размещения ресурсов в файле, отличном от основного RC-файла:

- Чтобы добавить комментарии в инструкции ресурсов, которые не удаляются при сохранении RC-файла.

- Для включения ресурсов, которые уже были разработаны и протестированы и не требуют дальнейших изменений. Все файлы, которые включены, но не имеют расширения RC, не будут изменены редакторами ресурсов.

- Для включения ресурсов, используемых различными проектами или которые являются частью системы управления версиями исходного кода. Эти ресурсы должны находиться в центральном расположении, где изменения повлияют на все проекты.

- Для включения ресурсов (например, ресурсов RCDATA), которые являются пользовательскими форматами. Ресурсы RCDATA имеют особые требования, при которых нельзя использовать выражение в качестве значения для `nameID` поля.

Если в существующих RC-файлах есть разделы, которые соответствуют любому из этих условий, поместите эти разделы в один или несколько отдельных RC-файлов и включите их в проект с помощью диалогового окна " **включения ресурсов** ".

## <a name="resource-includes"></a>Включения ресурсов

Вы можете добавлять ресурсы из других файлов в проект во время компиляции, перечисляя их в поле **директивы времени компиляции** в диалоговом окне " **Включение ресурсов** ". Используйте диалоговое окно « **включения ресурсов** », чтобы изменить нормальное рабочее расположение для хранения всех ресурсов в файле Project. RC и всех [символов](../windows/symbols-resource-identifiers.md) в среде проекта `Resource.h` .

Чтобы начать работу, откройте диалоговое окно " **включаемые ресурсы** ", щелкнув правой кнопкой мыши RC-файл в [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources), выберите пункт **включения ресурсов** и обратите внимание на следующие свойства:

| Свойство | Описание |
|---|---|
| **Файл заголовков символов** | Позволяет изменить имя файла заголовка, в котором хранятся определения символов для файлов ресурсов.<br/><br/>Дополнительные сведения см. [в разделе изменение имен файлов заголовков символов](./changing-a-symbol-or-symbol-name-id.md). |
| **Директивы символов только для чтения** | Позволяет включать файлы заголовков, содержащие символы, которые не должны изменяться.<br/><br/>Например, файлы символов для совместного использования с другими проектами. Сюда также могут входить файлы MFC. h. Дополнительные сведения см. в разделе [Включение общих (только для чтения) или вычисляемых символов](./changing-a-symbol-or-symbol-name-id.md). |
| **Директивы времени компиляции** | Позволяет включать файлы ресурсов, которые создаются и редактируются отдельно от ресурсов в основном файле ресурсов, содержат директивы времени компиляции (например, директивы, которые условно включают ресурсы) или содержат ресурсы в пользовательском формате.<br/><br/>Можно также использовать **поле Директивы времени компиляции** для включения стандартных файлов ресурсов MFC. |

> [!NOTE]
> Записи в этих текстовых полях отображаются в RC-файле `TEXTINCLUDE 1` , который помечен как, `TEXTINCLUDE 2` и `TEXTINCLUDE 3` соответственно. Дополнительные сведения см. в разделе [TN035: использование нескольких файлов ресурсов и файлов заголовков с Visual C++](../mfc/tn035-using-multiple-resource-files-and-header-files-with-visual-cpp.md).

После внесения изменений в файл ресурсов с помощью диалогового окна " **включаемые ресурсы** " необходимо закрыть и снова открыть *RC* -файл, чтобы изменения вступили в силу.

### <a name="to-include-resources-in-your-project-at-compile-time"></a>Включение ресурсов в проект во время компиляции

1. Поместите ресурсы в файл описания ресурсов с уникальным именем. Не используйте *имя_проекта. RC*, так как это имя файла, используемого для основного файла скрипта ресурсов.

1. Щелкните правой кнопкой мыши *RC* -файл в [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources) и выберите пункт **включения ресурсов**.

1. В поле **директивы времени компиляции** добавьте директиву компилятора [#include](../preprocessor/hash-include-directive-c-cpp.md) , чтобы включить новый файл ресурсов в основной файл ресурсов в среде разработки.

Ресурсы в файлах, включенных таким образом, становятся частью исполняемого файла во время компиляции и недоступны для редактирования или изменения при работе с главным RC-файлом проекта. Включаемые файлы. RC необходимо открывать отдельно, а все файлы, включаемые без расширения RC, не будут редактироваться редакторами ресурсов.

### <a name="to-specify-include-directories-for-a-specific-resource-rc-file"></a>Указание каталогов включения для определенного файла ресурсов (. RC)

1. Щелкните правой кнопкой мыши *RC* -файл в **Обозреватель решений** и выберите пункт **Свойства**.

1. Выберите узел **ресурсы** в левой области и укажите дополнительные каталоги включения в свойстве **Дополнительные каталоги включаемых каталогов** .

### <a name="to-find-symbols-in-resources"></a>Поиск символов в ресурсах

1. Последовательно выберите пункты меню **Правка**  >  [найти символ](/visualstudio/ide/go-to).

   > [!TIP]
   > Чтобы использовать [регулярные выражения](/visualstudio/ide/using-regular-expressions-in-visual-studio) в поиске, выберите [найти в файлах](/visualstudio/ide/reference/find-command) в меню **Правка** , а не **найти символ**. Установите флажок **use: регулярные выражения** в [диалоговом окне Найти](/visualstudio/ide/finding-and-replacing-text) и в поле **найти** , в раскрывающемся списке которого можно выбрать регулярное выражение поиска. При выборе выражения из этого списка оно подставляется в качестве искомого текста в поле **найти** .

1. В поле **найти** выберите предыдущую строку поиска из раскрывающегося списка или введите сочетание клавиш, которое нужно найти, например `ID_ACCEL1` .

1. Выберите любой из параметров **поиска** и нажмите кнопку **Найти далее**.

> [!NOTE]
> Нельзя выполнять поиск символов в строках, сочетаниях клавиш и двоичных ресурсах.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также раздел

[Файлы ресурсов](../windows/resource-files-visual-studio.md)<br/>
[Руководство. Создание ресурсов](../windows/how-to-create-a-resource-script-file.md)<br/>
[Руководство. Управление ресурсами](../windows/how-to-copy-resources.md)<br/>
