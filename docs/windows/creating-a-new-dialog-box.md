---
title: Как создать диалоговое окно (C++)
ms.date: 02/15/2019
helpviewer_keywords:
- dialog boxes [C++], creating
- Dialog Editor [C++], creating dialog boxes
- modal dialog boxes [C++], logon screens
- logon screens
- Test Dialog command
- testing, dialog boxes
- dialog boxes [C++], testing
- dialog boxes [C++], size
- dialog boxes [C++], positioning
ms.assetid: 303de801-c4f8-42e1-b622-353f6423f688
ms.openlocfilehash: 380cf58180913f538c1c326d6aaf49947b694063
ms.sourcegitcommit: 63784729604aaf526de21f6c6b62813882af930a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/17/2020
ms.locfileid: "79445415"
---
# <a name="how-to-create-a-dialog-box-c"></a>Как создать диалоговое окно (C++)

Расположение и размер C++ диалогового окна, а также расположение и размер элементов управления в нем измеряются в единицах диалогового окна. Значения для отдельных элементов управления и диалогового окна отображаются в правом нижнем углу строки состояния Visual Studio при их выборе.

> [!NOTE]
> Если в проекте еще нет RC-файла, см. раздел [Создание нового файла описания ресурсов](../windows/how-to-create-a-resource-script-file.md).

## <a name="how-to"></a>Инструкции

**Редактор диалоговых окон** позволяет:

### <a name="to-create-a-new-dialog-box"></a>Создание нового диалогового окна

1. В [представление ресурсов](how-to-create-a-resource-script-file.md#create-resources)щелкните правой кнопкой мыши *RC* -файл и выберите **Добавить ресурс**.

1. В диалоговом окне **Добавление ресурса** в списке **тип ресурса** выберите **диалоговое окно** , а затем нажмите кнопку **создать**.

   Если рядом с типом ресурса **диалогового окна** отображается знак «плюс» ( **+** ), это означает, что доступны шаблоны диалоговых окон. Щелкните знак «плюс», чтобы развернуть список шаблонов, выберите шаблон и нажмите кнопку **создать**.

   В **редакторе диалоговых окон**откроется диалоговое окно создать.

Также можно открыть существующие диалоговые окна в редакторе диалоговых окон для редактирования.

### <a name="to-create-a-dialog-box-that-a-user-cant-exit"></a>Создание диалогового окна, которое пользователь не может выйти

Можно создать диалоговое окно среды выполнения, которое пользователь не может закрыть. Такой тип диалогового окна используется для входа в систему, блокирования приложений или документов.

1. В области **Свойства** диалогового окна задайте для свойства **Системное меню** значение **false**.

   Этот параметр отключает системное меню диалогового окна и кнопку **Закрыть** .

1. В форме диалогового окна удалите кнопки **Отмена** и **ОК** .

   Во время выполнения пользователь не может закрыть модальное диалоговое окно с такими характеристиками.

Чтобы включить тестирование этого типа диалогового окна, функция тестового диалогового окна обнаруживает, что нажата **клавиша ESC** . Клавиша **ESC** также называется виртуальным ключом VK_ESCAPE. Независимо от того, как будет работать диалоговое окно во время выполнения, можно завершить тестовый режим, нажав клавишу **ESC**.

> [!NOTE]
> Для создания диалогового окна, которое пользователи не могут выйти из приложений MFC, необходимо переопределить поведение по умолчанию `OnOK` и `OnCancel`, поскольку даже при удалении связанных кнопок диалоговое окно по-прежнему может быть закрыто нажатием клавиши **Ввод** или **ESC**.

### <a name="to-specify-the-location-and-size-of-a-dialog-box"></a>Указание расположения и размера диалогового окна

В [окне Свойства](/visualstudio/ide/reference/properties-window) можно задать свойства, чтобы указать, где будет отображаться диалоговое окно на экране.

- Логическое свойство **центра** .

   Если задать значение **true**, диалоговое окно всегда будет отображаться в центре экрана. Если для этого свойства задано **значение false**, можно задать свойства **кспос** и **ИПОС** .

- Свойства **кспос** и **ИПОС** , которые используются для явного определения того, где появится диалоговое окно.

   Эти свойства позиции являются значениями смещения в верхнем левом углу области просмотра, которая определяется как `{X=0, Y=0}`.

- Свойство **абсолютного** соответствия, которое влияет на положение.

   Если **значение равно true**, координаты задаются относительно экрана. Если **значение равно false**, координаты задаются относительно окна владельца диалогового окна.

### <a name="to-test-a-dialog-box"></a>Проверка диалогового окна

При разработке диалогового окна можно смоделировать и протестировать его поведение во время выполнения, не компилируя программу. В этом режиме можно выполнять следующие действия:

- вводить текст, выбирать пункты в полях со списками, включать и отключать параметры, выбирать команды;

- тестировать последовательность табуляции;

- проверять группировку элементов управления, например переключателей и флажков;

- тестировать сочетания клавиш, используемые для доступа к элементам управления в диалоговом окне.

> [!NOTE]
> Подключения к коду диалогового окна, созданному с помощью мастеров, не включаются в имитацию.

При тестировании диалогового окна его положение обычно определяется относительно главного окна программы. Если для свойства **абсолютное** отображение диалогового окна задано **значение true**, то в диалоговом окне отображается положение относительно левого верхнего угла экрана.

1. Когда **Редактор диалоговых окон** является активным окном, перейдите в меню **Формат** > **тестового диалогового окна**.

1. Чтобы завершить моделирование, нажмите клавишу **ESC** или нажмите кнопку **Закрыть** в тестируемом диалоговом окне.

## <a name="requirements"></a>Требования

Win32

## <a name="see-also"></a>См. также раздел

[Редактор диалоговых окон](../windows/dialog-editor.md)<br/>
[Руководство. Управление элементами управления диалоговых окон](../windows/controls-in-dialog-boxes.md)<br/>