---
title: Транзакции (доступ к данным MFC) | Документы Microsoft
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-data
ms.topic: conceptual
dev_langs:
- C++
helpviewer_keywords:
- transactions [C++], support for
- transactions [C++]
- databases [C++], transactions
ms.assetid: f80afbfe-1517-4fec-8870-9ffc70a58b05
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
- data-storage
ms.openlocfilehash: a9dd531aee6ac8014f2ce47ddee7fc5f82e35a63
ms.sourcegitcommit: 76b7653ae443a2b8eb1186b789f8503609d6453e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
---
# <a name="transactions--mfc-data-access"></a>Транзакции (доступ к данным MFC)
Концепция транзакции была разработана для обработки случаев, в которых результирующее состояние базы данных зависит от общей успешности выполнения ряда операций. Это может происходить потому, что последующие операции могут изменять результаты предыдущих операций. В таких случаях, если какая либо операция завершается ошибкой, результирующее состояние может быть неопределенным.  
  
 Чтобы решить эту проблему, в транзакциях группируются серии операций таким образом,  что гарантируется целостность конечного результата. Все операции должны завершиться успешно и затем быть подтверждены (записаны в базу данных), либо вся транзакция завершается ошибкой. Отмена транзакции называется откатом. Откат позволяет отказаться от изменений и вернуть базу данных в предыдущее состояние.  
  
 Например, в автоматизированной банковской транзакции, при переводе денег со счета A на счет B, как снятие с А, так и зачисление на B должны успешно завершиться, чтобы корректно обработать денежные средства, или вся транзакция должна закончиться откатом.  
  
 Транзакция должна иметь набор свойств ACID, что означает следующее:  
  
-   **Атомарность** транзакция является единицей работы и выполняется только один раз; или вся работа делается, либо ни один из его.  
  
-   **Согласованность** транзакция сохраняет целостность данных, преобразуя одно согласованное состояние данных в другое согласованное состояние данных. Данные в транзакции должны иметь семантическую сохранность.  
  
-   **Изоляция** транзакция является изолированной единицей и каждая возникает отдельно и независимо от параллельных транзакций. Транзакция никогда не должна включать промежуточные стадии другой транзакции.  
  
-   **Устойчивость** транзакция является единицей восстановления. Если транзакция выполнена успешно, ее изменения сохраняются даже в том случае, если система зависает или завершает работы. Если транзакция дает сбой, система остается в предыдущем состоянии, которое было до подтверждения транзакции.  
  
 Можно выполнять поддержку транзакций в OLE DB (см. [поддержка транзакций в OLE DB](../data/oledb/supporting-transactions-in-ole-db.md)) или ODBC (см. [транзакции (ODBC)](../data/odbc/transaction-odbc.md)).  
  
 Распределенная транзакция предназначена для обновления распределенных данных, т.е., данных на нескольких компьютерах в сети. Если вы хотите выполнить поддержку транзакций в распределенной системе, следует использовать ADO.NET, а не поддержку транзакций OLE DB.  
  
## <a name="see-also"></a>См. также  
 [Доступ к данным программирования (MFC/ATL)](../data/data-access-programming-mfc-atl.md)