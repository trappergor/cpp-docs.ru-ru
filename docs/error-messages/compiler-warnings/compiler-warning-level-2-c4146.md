---
title: Предупреждение компилятора (уровень 2) C4146
ms.date: 11/04/2016
f1_keywords:
- C4146
helpviewer_keywords:
- C4146
ms.assetid: d6c31ab1-3120-40d5-8d80-32b5f7046e32
ms.openlocfilehash: b945853a3d32f91c821d6fa174371df39bf183b3
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/27/2020
ms.locfileid: "87218160"
---
# <a name="compiler-warning-level-2-c4146"></a>Предупреждение компилятора (уровень 2) C4146

оператор унарного минуса применен к типу без знака, результат все еще не подписан

Неподписанные типы могут содержать только неотрицательные значения, поэтому унарный минус (отрицание) обычно не имеет смысла при применении к типу без знака. Операнд и результат не являются отрицательными.

Фактически это происходит, когда программист пытается выразить минимальное целое значение, равное-2147483648. Это значение не может быть записано как-2147483648, так как выражение обрабатывается в два этапа:

1. Вычисляется число 2147483648. Так как это значение больше максимального целого числа 2147483647, тип 2147483648 — это не [int](../../c-language/integer-types.md), а **`unsigned int`** .

1. К значению применяется унарный минус с неподписанным результатом, что также происходит в 2147483648.

Неподписанный тип результата может привести к непредвиденному поведению. Если результат используется в сравнении, можно использовать сравнение без знака, например, если другой операнд — **`int`** . Это объясняется тем, почему в примере программы ниже выводится только одна строка.

Ожидаемая вторая строка `1 is greater than the most negative int` не печатается, так как `((unsigned int)1) > 2147483648` имеет значение false.

Можно избежать C4146 с помощью INT_MIN из limits. h, имеющего тип **`signed int`** .

## <a name="example"></a>Пример

Следующий пример приводит к возникновению ошибки C4146:

```cpp
// C4146.cpp
// compile with: /W2
#include <stdio.h>

void check(int i)
{
    if (i > -2147483648)   // C4146
        printf_s("%d is greater than the most negative int\n", i);
}

int main()
{
    check(-100);
    check(1);
}
```
