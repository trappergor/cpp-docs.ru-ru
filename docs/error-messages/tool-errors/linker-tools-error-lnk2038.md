---
title: Ошибка средств компоновщика LNK2038
ms.date: 12/15/2017
f1_keywords:
- LNK2038
helpviewer_keywords:
- LNK2038
ms.openlocfilehash: 69a832716dffee4e024b3bb1a1f0de6ee8105e99
ms.sourcegitcommit: 6b3d793f0ef3bbb7eefaf9f372ba570fdfe61199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/15/2020
ms.locfileid: "86404168"
---
# <a name="linker-tools-error-lnk2038"></a>Ошибка средств компоновщика LNK2038

> обнаружено несоответствие для "*имя*": значение "*Value_1*" не соответствует значению "*Value_2*" в *filename. obj*

Компоновщику обнаружено несоответствие символов. Эта ошибка означает, что различные части приложения, включая библиотеки или другой объектный код, на которые ссылается приложение, используют конфликтующие определения символа. Прагма-директива [обнаружения несоответствий](../../preprocessor/detect-mismatch.md) используется для определения таких символов и обнаружения их конфликтующих значений.

## <a name="possible-causes-and-solutions"></a>Возможные причины и решения

Эта ошибка может возникать, когда объектный файл в проекте устарел. Прежде чем использовать другие решения для этой ошибки, выполните чистую сборку, чтобы убедиться, что объектные файлы являются актуальными.

Visual Studio определяет следующие символы, чтобы предотвратить связывание несовместимого кода, что может вызвать ошибки во время выполнения или другое непредвиденное поведение.

- `_MSC_VER`Указывает основной и дополнительный номера версий компилятора Microsoft C++ (КОМПИЛЯТОРОМ MSVC), используемого для построения приложения или библиотеки. Код, скомпилированный с использованием одной версии КОМПИЛЯТОРОМ MSVC, несовместим с кодом, компилируемым с использованием версии с различными номерами основной и дополнительной версий. Дополнительные сведения см `_MSC_VER` . в разделе Встроенные [макросы](../../preprocessor/predefined-macros.md).

   Если вы устанавливаете связь с библиотекой, которая несовместима с используемой версией КОМПИЛЯТОРОМ MSVC, и вы не можете получить или создать совместимую версию библиотеки, вы можете использовать более раннюю версию компилятора для построения проекта: изменить свойство **набора инструментов платформы** проекта на предыдущий набор инструментов. Дополнительные сведения см. в разделе [руководство. изменение целевой платформы и набора инструментов платформы](../../build/how-to-modify-the-target-framework-and-platform-toolset.md).

- `_ITERATOR_DEBUG_LEVEL`Указывает уровень функций безопасности и отладки, включенных в стандартной библиотеке C++. Эти функции могут изменить представление определенных объектов стандартной библиотеки C++ и, таким образом, сделать их несовместимыми с теми, которые используют различные функции безопасности и отладки. Дополнительные сведения см. в разделе [_ITERATOR_DEBUG_LEVEL](../../standard-library/iterator-debug-level.md).

- `RuntimeLibrary`Указывает версию стандартной библиотеки C++ и среду выполнения C, используемую приложением или библиотекой. Код, использующий одну версию стандартной библиотеки C++ или среду выполнения C, несовместим с кодом, использующим другую версию. Дополнительные сведения см. в разделе [/MD, /MT, /LD (использование библиотеки времени выполнения)](../../build/reference/md-mt-ld-use-run-time-library.md).

- `_PPLTASKS_WITH_WINRT`Указывает, что код, использующий [библиотеку параллельных шаблонов (PPL)](../../parallel/concrt/parallel-patterns-library-ppl.md) , связан с объектами, скомпилированными с помощью другого параметра компилятора [/ZW](../../build/reference/zw-windows-runtime-compilation.md) . (**/ZW** поддерживает C++/CX.) Код, который использует или зависит от PPL, должен быть скомпилирован с использованием того же параметра **/ZW** , который используется в остальной части приложения.

Убедитесь, что значения этих символов согласованы по всем проектам в решении Visual Studio, а также что они согласованы с кодом и библиотеками, на которые ссылается ваше приложение.

## <a name="third-party-library-issues-and-vcpkg"></a>Проблемы с библиотекой сторонних производителей и vcpkg

Если вы видите эту ошибку при попытке настроить библиотеку стороннего производителя в рамках сборки, рассмотрите возможность использования [vcpkg](../../vcpkg.md), диспетчера пакетов C++ для установки и сборки библиотеки. vcpkg поддерживает большой и растущей [список библиотек сторонних производителей](https://github.com/Microsoft/vcpkg/tree/master/ports)и задает все свойства конфигурации и зависимости, необходимые для успешной сборки в рамках проекта.

## <a name="see-also"></a>См. также раздел

[Ошибки и предупреждения средств компоновщика](../../error-messages/tool-errors/linker-tools-errors-and-warnings.md)
