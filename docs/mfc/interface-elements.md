---
title: Элементы интерфейса
ms.date: 11/19/2018
helpviewer_keywords:
- architecture [MFC], MFC Feature Pack
- MFC Feature Pack, architecture
ms.assetid: eead6827-9602-40a3-8038-8986e8207385
ms.openlocfilehash: 4d4d81287cb30a7d3608025085cdb3f9a208147a
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84619993"
---
# <a name="interface-elements"></a>Элементы интерфейса

В этом документе описываются элементы интерфейса, появившиеся в Visual Studio 2008 с пакетом обновления 1 (SP1), а также различия в более ранней версии библиотеки.

На следующем рисунке показано приложение, созданное с помощью новых элементов интерфейса.

![Приложение примера MFC Feature Pack](../mfc/media/mfc_featurepack.png "Приложение примера MFC Feature Pack")

## <a name="window-docking"></a>Закрепление окон

Функция закрепления окон напоминает закрепление окон, которое использует графический пользовательский интерфейс Visual Studio.

## <a name="control-bars-are-now-panes"></a>Панели элементов управления теперь являются панелями

Панели элементов управления теперь называются панелями и являются производными от [класса CBasePane](reference/cbasepane-class.md). В более ранних версиях MFC базовым классом панелей элементов управления было `CControlBar` .

Главное окно приложения обычно представлено [классом CFrameWndEx](reference/cframewndex-class.md) или [классом CMDIFrameWndEx](reference/cmdiframewndex-class.md). Основной кадр называется *узлом DOCKER*. Панели могут иметь один из трех типов родителей: узел закрепления, панель закрепления или окно с мини-рамкой.

Существует два типа панелей: без изменения размера и с возможностью изменения размера. Размеры панелей с изменяемыми размерами, таких как строки состояния и панели инструментов, можно изменить с помощью разделителей или ползунков. Области с изменяемым размером могут формировать контейнеры (одну панель можно закрепить на другой панели, создавая разделитель между ними). Однако панели с изменяемыми размерами не могут быть присоединены (закреплены) к панелям закрепления.

Если приложение использует неизменяемые панели, производные от [класса CPane](reference/cpane-class.md).  Если приложение использует панели с изменяемыми размерами, производные от [класса CDockablePane](reference/cdockablepane-class.md)

## <a name="dock-site"></a>Закрепить сайт

Узел закрепления (или окно главного фрейма) владеет всеми панелями и окнами с мини-рамками в приложении. Сайт закрепления содержит элемент [кдоккингманажер](reference/cdockingmanager-class.md) . Этот элемент содержит список всех панелей, принадлежащих сайту закрепления. Список упорядочивается таким образом, что панели, созданные на внешних краях сайта закрепления, располагаются в начале списка. Когда платформа перерисовывает сайт закрепления, она циклически проходит по этому списку и корректирует макет каждой панели, чтобы включить текущий ограничивающий прямоугольник сайта DOCKER. Можно вызвать метод `AdjustDockingLayout` или `RecalcLayout` , если необходимо скорректировать макет закрепления, а платформа перенаправит этот вызов диспетчеру закрепления.

## <a name="dock-bars"></a>Панели закрепления

В каждом главном окне фрейма можно располагать *строки закрепления* вдоль границ. Панель закрепления — это область, которая принадлежит [классу CDockSite](reference/cdocksite-class.md). Строки закрепления могут принимать объекты, производные от [CPane](reference/cpane-class.md), например панели инструментов. Чтобы создать панели прикрепления при инициализации главного окна фрейма, вызовите `EnableDocking` . Чтобы включить автоматическое скрытие полос, вызовите `EnableAutoHideBars` . `EnableAutoHideBars`создает объекты [CAutoHideDockSite](reference/cautohidedocksite-class.md) и размещает их рядом с каждой панелью закрепления.

Каждая строка закрепления делится на строки закрепления. Строки закрепления представлены [классом CDockingPanesRow](reference/cdockingpanesrow-class.md). Каждая строка закрепления содержит список панелей инструментов. Если пользователь закрепляет панель инструментов или перемещает панель инструментов из одной строки в другую в пределах той же панели закрепления, платформа либо создает новую строку, соответственно изменяет размер строки закрепления, либо размещает панель инструментов на существующей строке.

## <a name="mini-frame-windows"></a>Окна мини-рамки

Плавающая панель находится в окне с рамкой. Окна с мини-кадрами представлены двумя классами: [Класс CMDITabInfo](reference/cmditabinfo-class.md) (который может содержать только одну панель) и [класс кмултипанефрамевнд](reference/cmultipaneframewnd-class.md) (который может содержать несколько панелей). Чтобы перечислить область в коде, вызовите метод [CBasePane:: флоатпане](reference/cbasepane-class.md#floatpane). После того, как панель помещается в плавающую область, платформа автоматически создает окно с мини-рамкой, а окно с рамкой становится родителем плавающей панели. Когда Плавающая панель закреплена, платформа сбрасывает родительский элемент, а Плавающая панель преобразуется в панель закрепления (для панелей инструментов) или на сайт закрепления (для панелей с изменяемыми размерами).

## <a name="pane-dividers"></a>Разделители панели

Разделители областей (также именованные ползунки или разделителей) представлены [классом кпанедивидер](reference/cpanedivider-class.md). Когда пользователь закрепляет панель, платформа создает разделители областей независимо от того, закреплена ли панель на сайте DOCKER или на другой панели. Когда панель закрепляется на сайте DOCKER, разделитель панелей называется *разделителем панели по умолчанию*. Разделитель панели по умолчанию отвечает за размещение всех закрепляемых панелей на сайте закрепления. Диспетчер закрепления ведет список разделителей панели по умолчанию и список панелей. Руководители закрепления отвечают за размещение всех панелей закрепления.

## <a name="containers"></a>Контейнеры

Все панели с изменяемыми размерами, при закреплении друг с другом, сохраняются в контейнерах. Контейнеры представлены [классом кпанеконтаинер](reference/cpanecontainer-class.md). Каждый контейнер имеет указатели на левую панель, правую область, левый вложенный контейнер, правый вложенный контейнер и разделитель между левой и правой частями. (*Left* и *right* не ссылаются на физические стороны, а просто определяет ветви древовидной структуры.) Таким образом можно создать дерево панелей и разделителей и, следовательно, добиться сложных макетов панелей, размер которых можно изменить вместе. `CPaneContainer`Класс поддерживает дерево контейнеров. оно также поддерживает два списка панелей и ползунков, которые находятся в этом дереве. Диспетчеры контейнеров панели обычно внедряются в ползунки по умолчанию и окна мини-кадров с несколькими панелями.

## <a name="auto-hide-control-bars"></a>Автоматически скрывать панели элементов управления

По умолчанию каждая `CDockablePane` из них поддерживает функцию автоматического скрытия. Когда пользователь нажимает кнопку закрепить на заголовке `CDockablePane` , платформа переключает панель в режим автоматического скрытия. Чтобы справиться с нажатием кнопки, платформа создает [класс CMFCAutoHideBar](reference/cmfcautohidebar-class.md) и [Класс CMFCAutoHideButton](reference/cmfcautohidebutton-class.md) , связанный с `CMFCAutoHideBar` объектом. Платформа помещает новый объект `CMFCAutoHideBar` в [CAutoHideDockSite](reference/cautohidedocksite-class.md). Платформа также присоединяет `CMFCAutoHideButton` к панели инструментов. [Класс кдоккингманажер](reference/cdockingmanager-class.md) поддерживает `CDockablePane` .

## <a name="tabbed-control-bars-and-outlook-bars"></a>Панели элементов управления и панели Outlook с вкладками

[Класс CMFCBaseTabCtrl](reference/cmfcbasetabctrl-class.md) реализует базовую функциональность окна с вкладками с отсоединяемыми вкладками. Чтобы использовать `CMFCBaseTabCtrl` объект, инициализируйте [класс CBaseTabbedPane](reference/cbasetabbedpane-class.md) в приложении. `CBaseTabbedPane`является производным от `CDockablePane` и поддерживает указатель на `CMFCBaseTabCtrl` объект. `CBaseTabbedPane`Позволяет пользователям закреплять и изменять размеры панелей элементов управления с вкладками. Используйте [CDockablePane:: аттачтотабвнд](reference/cdockablepane-class.md#attachtotabwnd) для динамического создания закрепленных и вкладками панелей элементов управления.

Элемент управления "панель Outlook" также основан на столбцах с вкладками. [Класс CMFCOutlookBar](reference/cmfcoutlookbar-class.md) является производным от `CBaseTabbedPane` . Дополнительные сведения об использовании панели Outlook см. в разделе [Класс CMFCOutlookBar](reference/cmfcoutlookbar-class.md).

## <a name="see-also"></a>См. также раздел

[Концепции](mfc-concepts.md)
