---
title: 'Tn025: создание Документов, просмотра и фреймов | Документация Майкрософт'
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: conceptual
f1_keywords:
- vc.creation
dev_langs:
- C++
helpviewer_keywords:
- documents [MFC], view and frame creation
- TN025
ms.assetid: 09254d72-6e1d-43db-80e9-693887dbeda2
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: 75530d8133806357dba7a30862095ea08bd022b9
ms.sourcegitcommit: 799f9b976623a375203ad8b2ad5147bd6a2212f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/19/2018
ms.locfileid: "46422016"
---
# <a name="tn025-document-view-and-frame-creation"></a>TN025. Создание документов, представлений и фреймов

> [!NOTE]
>  Следующее техническое примечание не было обновлено, поскольку сначала оно было включено в электронную документацию. В результате некоторые процедуры и разделы могут быть устаревшими или неверными. Для получения последних сведений рекомендуется выполнить поиск интересующей темы в алфавитном указателе документации в Интернете.

Эта заметка вопросы создания и владения WinApps, DocTemplates, документов, кадров и представлений.

## <a name="winapp"></a>WinApp

Имеется один `CWinApp` объекта в системе.

Он является статически создан и инициализирован с внутренней реализации платформы из `WinMain`. Должен быть производным от `CWinApp` сделать ничего полезного (исключение: библиотеки DLL расширений MFC не должны иметь `CWinApp` экземпляра — инициализация выполняется `DllMain` вместо этого).

Один `CWinApp` объект владеет список шаблонов документов ( `CPtrList`). Отсутствует один или несколько шаблон документа каждого приложения. DocTemplates обычно загружаются из файла ресурсов (то есть строковый массив) в `CWinApp::InitInstance`.

```
pTemplate = new CDocTemplate(IDR_MYDOCUMENT, ...);

AddDocTemplate(pTemplate);
```

Один `CWinApp` всех фреймов в приложения, которому принадлежит объект. Фрейма главного окна приложения, которые должны храниться в `CWinApp::m_pMainWnd`; обычно задаются *m_pMainWnd* в `InitInstance` реализации, если запретить AppWizard сделаем это за вас. Для интерфейса одного документа (SDI) это один `CFrameWnd` который выступает в качестве главного фрейма окна приложения, а также единственным окном фрейма документа. Для многодокументного интерфейса (MDI) это кадрам MDI (класс `CMDIFrameWnd`) который выступает в качестве главного фрейма окна приложения, содержащий все дочерние `CFrameWnd`s. Каждого дочернего окна является класса `CMDIChildWnd` (производный от `CFrameWnd`) и служит в качестве одного из возможного множества окон фрейма документа.

## <a name="doctemplates"></a>DocTemplates

`CDocTemplate` — Создатель и диспетчер документов. Он является владельцем документы, которые он создает. Если приложение использует подход на основе ресурсов, описанных ниже, он не потребуется выполнять являются производными от `CDocTemplate`.

Для приложения SDI, класс `CSingleDocTemplate` следит за один открытый документ. Приложение MDI, класс `CMultiDocTemplate` хранит список ( `CPtrList`) из всех открытых документов, созданных на основе этого шаблона. `CDocTemplate::AddDocument` и `CDocTemplate::RemoveDocument` предоставляет виртуальный член функции для добавления или удаления документа на основе шаблона. `CDocTemplate` является дружественной для `CDocument` поэтому мы присвоим защищенный `CDocument::m_pDocTemplate` обратного указателя на указывают на шаблон документа, который создал документ.

`CWinApp` значение по умолчанию обрабатывает `OnFileOpen` реализацию, которая в свою очередь будет запрашивать все шаблоны doc. Реализация включает поиск уже открытых документов и решить, какой формат для открытия новых документов в.

`CDocTemplate` Управляет привязка пользовательского интерфейса для документов и кадры.

`CDocTemplate` Подсчитывает число неименованных документов.

## <a name="cdocument"></a>CDocument

Объект `CDocument` принадлежит `CDocTemplate`.

Документы имеют список в настоящее время откройте представления (производный от `CView`), просматриваете документа ( `CPtrList`).

Документы не создать или удалить представления, но они подключены друг к другу после их создания. При закрытии документа (то есть до файл и закрыть), будут закрыты все вложенные представления. При закрытии последнее представление для документа (то есть, окно/Close) документ будет закрыт.

`CDocument::AddView`, `RemoveView` Интерфейс используется для поддержки представления списка. `CDocument` является дружественной для `CView` поэтому `CView::m_pDocument` обратного указателя.

## <a name="cframewnd"></a>CFrameWnd

Объект `CFrameWnd` (также известный как кадр) играет ту же роль, как в MFC 1.0, но сейчас `CFrameWnd` класс предназначен для использования во многих случаях без создания нового производного класса. Производные классы `CMDIFrameWnd` и `CMDIChildWnd` являются также усовершенствована, что уже реализованы многие стандартные команды.

`CFrameWnd` Отвечает за создание окон в клиентской области рамки. Обычно имеется один главное окно, заполняя клиентскую область фрейма.

Для MDI-окно клиентскую область заполняется MDICLIENT управления, который в свою очередь является родительским для всех окон фрейма дочерней MDI-формы. SDI окно или фрейм окна дочерней MDI-формы, обычно заполняется клиентской области `CView`-производный объект окна. В случае использования `CSplitterWnd`, заполняется клиентской области представления `CSplitterWnd` объект окна и `CView`-объекты производного окон (по одному на область разделения) создаются в виде дочерних окон `CSplitterWnd`.

## <a name="see-also"></a>См. также

[Технические примечания по номеру](../mfc/technical-notes-by-number.md)<br/>
[Технические примечания по категории](../mfc/technical-notes-by-category.md)

