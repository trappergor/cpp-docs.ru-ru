---
title: Родительские и дочерние элементы древовидного элемента управления
ms.date: 11/04/2016
helpviewer_keywords:
- parent items in CTreeCtrl [MFC]
- child items in tree control [MFC]
- CTreeCtrl class [MFC], parent and child items
- tree controls [MFC], parent and child items
ms.assetid: abcea1e4-fe9b-40d9-86dc-1db235f8f103
ms.openlocfilehash: 5a02194ccef8eca81971bb4e8ae24d859e578bcc
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69513971"
---
# <a name="tree-control-parent-and-child-items"></a>Родительские и дочерние элементы древовидного элемента управления

Любой элемент в элементе управления "дерево" ([CTreeCtrl](../mfc/reference/ctreectrl-class.md)) может иметь список вложенных элементов, которые называются связанными с ним дочерними элементами. Элемент с одним или несколькими дочерними элементами называется родительским элементом. Дочерний элемент отображается под родительским элементом и помещается с отступом, чтобы указать, что он является подчиненным для родительского элемента. Элемент, не имеющий родителя, находится в верхней части иерархии и называется корневым элементом.

В любой момент времени состояние списка дочерних элементов родительского элемента может быть либо развернутым, либо свернутым. Когда состояние разворачивается, дочерние элементы отображаются под родительским элементом. Когда он свернут, дочерние элементы не отображаются. Список автоматически переключается между развернутым и свернутым состояниями, когда пользователь дважды щелкает родительский элемент, или, если у родителя есть стиль **TVS_HASBUTTONS** , когда пользователь нажимает кнопку, связанную с родительским элементом. Приложение может развернуть или свернуть дочерние элементы с помощью функции " [развернуть](../mfc/reference/ctreectrl-class.md#expand) элемент".

Чтобы добавить элемент в элемент управления "дерево", вызовите функцию-член [InsertItem](../mfc/reference/ctreectrl-class.md#insertitem) . Эта функция возвращает маркер типа **хтриитем** , который однозначно определяет элемент. При добавлении элемента необходимо указать маркер родительского элемента нового элемента. При указании значения **null** или **TVI_ROOT** вместо маркера родительского элемента в структуре [твинсертструкт](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructw) или параметре *хпарент* элемент добавляется в качестве корневого элемента.

Элемент управления "дерево" отправляет сообщение уведомления [TVN_ITEMEXPANDING](/windows/win32/Controls/tvn-itemexpanding) , когда список дочерних элементов родительского элемента будет развернут или свернут. Уведомление дает возможность предотвратить изменение или задать любые атрибуты родительского элемента, зависящие от состояния списка дочерних элементов. После изменения состояния списка элемент управления "дерево" отправляет сообщение уведомления [TVN_ITEMEXPANDED](/windows/win32/Controls/tvn-itemexpanded) .

Когда список дочерних элементов разворачивается, он располагается с отступом относительно родительского элемента. Можно задать величину отступа с помощью функции члена [сетиндент](../mfc/reference/ctreectrl-class.md#setindent) или получить текущую величину с помощью функции члена с методом [Indent](../mfc/reference/ctreectrl-class.md#getindent) .

## <a name="see-also"></a>См. также

[Использование CTreeCtrl](../mfc/using-ctreectrl.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)
