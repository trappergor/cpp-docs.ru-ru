---
title: Наследование элементов управления от стандартного элемента управления
ms.date: 11/04/2016
helpviewer_keywords:
- standard controls [MFC], deriving controls from
- common controls [MFC], deriving from
- derived controls
- controls [MFC], derived
- Windows common controls [MFC], deriving from
- standard controls
ms.assetid: a6f84315-7007-4e0e-8576-78be81254802
ms.openlocfilehash: 54e43c8445bb6b8db4c6a7a4b28890e81be52d6c
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84616959"
---
# <a name="deriving-controls-from-a-standard-control"></a>Наследование элементов управления от стандартного элемента управления

Как и в любом классе, производном от [CWnd](reference/cwnd-class.md), поведение элемента управления можно изменить, создав новый класс на основе существующего класса элемента управления.

### <a name="to-create-a-derived-control-class"></a>Создание производного класса элемента управления

1. Создайте класс, производный от существующего класса элементов управления, и при необходимости переопределите `Create` функцию-член, чтобы она предоставляющая необходимые аргументы функции базового класса `Create` .

1. Предоставьте функции-члены обработчика сообщений и записи схемы сообщений, чтобы изменить поведение элемента управления в ответ на определенные сообщения Windows. См. раздел [сопоставление сообщений с функциями](reference/mapping-messages-to-functions.md).

1. Предоставьте новые функции-члены для расширения функциональности элемента управления (необязательно).

Использование производного элемента управления в диалоговом окне требует дополнительной работы. Типы и положения элементов управления в диалоговом окне обычно задаются в ресурсе диалога-шаблона. При создании производного класса элемента управления нельзя указать его в шаблоне диалогового окна, так как компилятор ресурсов ничего не знает о вашем производном классе.

#### <a name="to-place-your-derived-control-in-a-dialog-box"></a>Размещение производного элемента управления в диалоговом окне

1. Внедрите объект производного класса элемента управления в объявление производного класса диалогового окна.

1. Переопределите `OnInitDialog` функцию члена в классе диалогового окна, чтобы вызвать `SubclassDlgItem` функцию члена для производного элемента управления.

`SubclassDlgItem`"динамически подклассы" — элемент управления, созданный из шаблона диалогового окна. Если элемент управления является динамически подклассом, вы подключаетесь к Windows, обрабатываете некоторые сообщения в своем приложении, а затем передаете остальные сообщения в Windows. Дополнительные сведения см. в описании функции члена [субклассдлгитем](reference/cwnd-class.md#subclassdlgitem) класса `CWnd` в *справочнике по MFC*. В следующем примере показано, как можно написать переопределение `OnInitDialog` для вызова `SubclassDlgItem` :

[!code-cpp[NVC_MFCControlLadenDialog#3](codesnippet/cpp/deriving-controls-from-a-standard-control_1.cpp)]

Поскольку производный элемент управления внедрен в класс диалогового окна, он будет создан при создании диалогового окна и будет уничтожен при уничтожении диалогового окна. Сравните этот код с примером в [добавлении элементов управления вручную](adding-controls-by-hand.md).

## <a name="see-also"></a>См. также раздел

[Создание и использование элементов управления](making-and-using-controls.md)<br/>
[Элементы управления](controls-mfc.md)
