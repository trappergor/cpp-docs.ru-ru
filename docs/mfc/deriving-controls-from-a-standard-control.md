---
title: Наследование элементов управления от стандартного элемента управления | Документация Майкрософт
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: conceptual
dev_langs:
- C++
helpviewer_keywords:
- standard controls [MFC], deriving controls from
- common controls [MFC], deriving from
- derived controls
- controls [MFC], derived
- Windows common controls [MFC], deriving from
- standard controls
ms.assetid: a6f84315-7007-4e0e-8576-78be81254802
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: bc1b0b047bc8d594a34177cabf1081c0a1c67970
ms.sourcegitcommit: 799f9b976623a375203ad8b2ad5147bd6a2212f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/19/2018
ms.locfileid: "46399773"
---
# <a name="deriving-controls-from-a-standard-control"></a>Наследование элементов управления от стандартного элемента управления

Как и в случае с любым [CWnd](../mfc/reference/cwnd-class.md)-производного класса, можно изменить поведение элемента управления путем создания нового производного класса от существующего класса элемента управления.

### <a name="to-create-a-derived-control-class"></a>Чтобы создать класс производного элемента управления

1. Наследование класса от существующего класса элемента управления и при необходимости переопределить `Create` функцию-член, чтобы на ней присутствовала необходимые аргументы для базового класса `Create` функции.

1. Предоставляют функции-члены обработчика сообщений и записей карты для изменения поведения элемента управления в ответ на определенные сообщения Windows. См. в разделе [сопоставление сообщений с функциями](../mfc/reference/mapping-messages-to-functions.md).

1. Предоставляют новые функции-члены для расширения функциональности элемента управления (необязательно).

Использование производного элемента управления в диалоговом окне требует дополнительной работы. Типы и положение элементов управления в диалоговом окне обычно задаются в ресурсе шаблона диалогового окна. При создании класса производного элемента управления, нельзя указать его в шаблон диалогового окна, так как компилятор ресурсов ничего не известно о производного класса.

#### <a name="to-place-your-derived-control-in-a-dialog-box"></a>Для размещения элемента управления в диалоговое окно

1. Внедрение объекта класса, производного элемента управления в объявлении классов производном диалоговых окон.

1. Переопределить `OnInitDialog` классов диалоговых окон для вызова функции-члена `SubclassDlgItem` функция-член производного элемента управления.

`SubclassDlgItem` «динамически подклассы» элемент управления создан из шаблона диалогового окна. Элемент управления динамически подкласс, вы отладочному Windows, обработки некоторых сообщений в приложении, а затем передать оставшиеся сообщения на Windows. Дополнительные сведения см. в разделе [SubclassDlgItem](../mfc/reference/cwnd-class.md#subclassdlgitem) функция-член класса `CWnd` в *Справочник по библиотеке MFC*. В следующем примере показано, как можно написать переопределение `OnInitDialog` для вызова `SubclassDlgItem`:

[!code-cpp[NVC_MFCControlLadenDialog#3](../mfc/codesnippet/cpp/deriving-controls-from-a-standard-control_1.cpp)]

Поскольку производный элемент управления встроен в класс диалогового окна, он будет создан при диалоговое окно создается, и он уничтожается при уничтожении диалоговое окно. Сравните этот код в примере с [Добавление элементов управления по наличии](../mfc/adding-controls-by-hand.md).

## <a name="see-also"></a>См. также

[Создание и использование элементов управления](../mfc/making-and-using-controls.md)<br/>
[Элементы управления](../mfc/controls-mfc.md)

