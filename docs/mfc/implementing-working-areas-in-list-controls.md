---
title: Реализация рабочих областей в элементах управления "Список"
ms.date: 11/04/2016
helpviewer_keywords:
- list controls [MFC], working areas
- working areas in list control [MFC]
ms.assetid: fbbb356b-3359-4348-8603-f1cb114cadde
ms.openlocfilehash: abbf9dd823e13fab252b7af8f32338b0d801079b
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84626374"
---
# <a name="implementing-working-areas-in-list-controls"></a>Реализация рабочих областей в элементах управления "Список"

По умолчанию элемент управления "список" упорядочивает все элементы стандартным способом сетки. Однако поддерживается другой метод, рабочие области, который упорядочивает элементы списка по прямоугольным группам. Изображение элемента управления "список", реализующего рабочие области, см. в разделе Использование элементов управления List-View в Windows SDK.

> [!NOTE]
> Рабочие области отображаются только в том случае, если элемент управления "список" находится в режиме значка или маленького значка. Однако все текущие рабочие области сохраняются, если представление переключается в режим отчета или списка.

Рабочие области можно использовать для отображения пустой границы (слева, сверху и/или справа от элементов) или вызвать отображение горизонтальной полосы прокрутки, если обычно не было бы одного. Другой распространенный способ использования — создание нескольких рабочих областей, в которые можно перемещать или удалять элементы. С помощью этого метода можно создавать области в одном представлении с разными значениями. После этого пользователь может классифицировать элементы, поместив их в другую область. Примером этого может быть представление файловой системы с областью для чтения и записи файлов, а также другая область для файлов только для чтения. Если файловый элемент был перемещен в область только для чтения, он автоматически станет доступен только для чтения. При перемещении файла из области, доступной только для чтения, в область чтения и записи файл станет доступен для чтения и записи.

`CListCtrl`предоставляет несколько функций элементов для создания рабочих областей и управления ими в элементе управления "список". [Жетворкареас](reference/clistctrl-class.md#getworkareas) и [сетворкареас](reference/clistctrl-class.md#setworkareas) получают и задают массив `CRect` объектов (или `RECT` структур), в котором хранятся рабочие области, реализованные в данный момент для элемента управления "список". Кроме того, [жетнумберофворкареас](reference/clistctrl-class.md#getnumberofworkareas) извлекает текущее количество рабочих областей для элемента управления "список" (по умолчанию ноль).

## <a name="items-and-working-areas"></a>Элементы и рабочие области

При создании рабочей области элементы, находящиеся в рабочей области, становятся ее членами. Аналогично, если элемент перемещается в рабочую область, он становится членом рабочей области, в которую он был перемещен. Если элемент не находится в рабочей области, он автоматически станет членом первой рабочей области (index 0). Если вы хотите создать элемент и поместить его в определенную рабочую область, необходимо создать элемент и переместить его в нужную рабочую область с помощью вызова [сетитемпоситион](reference/clistctrl-class.md#setitemposition). Во втором примере показан этот метод.

В следующем примере реализуются четыре рабочие области ( `rcWorkAreas` ) одинакового размера с границей, охватывающими 10 пикселей вокруг каждой рабочей области, в элементе управления `m_WorkAreaListCtrl` "список" ().

[!code-cpp[NVC_MFCControlLadenDialog#20](codesnippet/cpp/implementing-working-areas-in-list-controls_1.cpp)]

Был сделан вызов [аппроксиматевиеврект](reference/clistctrl-class.md#approximateviewrect) , чтобы получить оценку общей области, необходимой для вывода всех элементов в одном регионе. Эта оценка затем делится на четыре региона и дополняется границей, охватывающими 5 пикселей.

В следующем примере существующие элементы списка присваиваются каждой группе ( `rcWorkAreas` ) и обновляется представление элемента управления ( `m_WorkAreaListCtrl` ) для завершения действия.

[!code-cpp[NVC_MFCControlLadenDialog#21](codesnippet/cpp/implementing-working-areas-in-list-controls_2.cpp)]

## <a name="see-also"></a>См. также раздел

[Использование CListCtrl](using-clistctrl.md)<br/>
[Элементы управления](controls-mfc.md)
