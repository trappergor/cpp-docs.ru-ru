---
title: Создание коллекций стеков и очередей
ms.date: 11/04/2016
helpviewer_keywords:
- MFC collection classes [MFC], stack collections
- collections, stack
- stack
- collection classes [MFC], creating
- queue collections
- MFC collection classes [MFC], queue collections
- stack collections
- collections, queue
ms.assetid: 3c7bc198-35f0-4fc3-aaed-6005a0f22638
ms.openlocfilehash: 5db90422f78fc6ca3bc2a182f9569c33db56cad1
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84623209"
---
# <a name="creating-stack-and-queue-collections"></a>Создание коллекций стеков и очередей

В этой статье объясняется, как создать другие структуры данных, такие как [стеки](#_core_stacks) и [очереди](#_core_queues), из классов списков MFC. В примерах используются классы, производные от `CList` , но их можно использовать `CList` напрямую, если не требуется добавлять функциональные возможности.

## <a name="stacks"></a><a name="_core_stacks"></a>Стеки

Так как в стандартной коллекции списков есть и головной, и хвост, можно легко создать производную коллекцию списков, которая имитирует поведение стека «последним порожденный». Стек похож на стек лотков в кафе. По мере добавления лотков в стек они попадают в начало стека. Последний добавленный лоток является первым удаляемым. Элементы коллекции списка `AddHead` и `RemoveHead` могут использоваться для добавления и удаления элементов непосредственно из заголовка списка; таким образом, самый последний добавленный элемент является первым удаляемым.

#### <a name="to-create-a-stack-collection"></a>Создание коллекции Stack

1. Создайте новый класс списка из одного из существующих классов списка MFC и добавьте дополнительные функции-члены для поддержки функций стековых операций.

   В следующем примере показано, как добавлять функции-члены для отправки элементов в стек, просматривать верхний элемент стека и открывать верхний элемент из стека:

   [!code-cpp[NVC_MFCCollections#20](codesnippet/cpp/creating-stack-and-queue-collections_1.h)]

Обратите внимание, что этот подход предоставляет базовый `CObList` класс. Пользователь может вызвать любую `CObList` функцию-член, независимо от того, имеет ли смысл стек.

## <a name="queues"></a>Очереди <a name="_core_queues"></a>

Так как стандартная коллекция списков содержит как головную, так и заключительную головку, можно легко создать производную коллекцию списков, которая имитирует поведение очереди "первым помещается в начало". Очередь похожа на линию людей в кафе. Первый пользователь в строке является первым обслуженным. Как и больше пользователей, они переходят в конец строки, чтобы ждать их появления. Элементы коллекции списка `AddTail` и `RemoveHead` могут использоваться для добавления и удаления элементов, отточных в заголовке или заключительном конце списка; таким образом, последний добавленный элемент всегда является последним, который нужно удалить.

#### <a name="to-create-a-queue-collection"></a>Создание коллекции очередей

1. Создайте новый класс списка из одного из стандартных классов списка, предоставляемых с библиотека Microsoft Foundation Class и добавьте дополнительные функции-члены для поддержки семантики операций очереди.

   В следующем примере показано, как добавить функции элементов в конец очереди и получить элемент из начала очереди.

   [!code-cpp[NVC_MFCCollections#21](codesnippet/cpp/creating-stack-and-queue-collections_2.h)]

## <a name="see-also"></a>См. также раздел

[Коллекции](collections.md)
