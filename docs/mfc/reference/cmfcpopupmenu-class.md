---
title: Класс CMFCPopupMenu
ms.date: 10/18/2018
f1_keywords:
- CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::CMFCPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::ActivatePopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::AlwaysShowEmptyToolsEntry
- AFXPOPUPMENU/CMFCPopupMenu::AreAllCommandsShown
- AFXPOPUPMENU/CMFCPopupMenu::CheckArea
- AFXPOPUPMENU/CMFCPopupMenu::CloseMenu
- AFXPOPUPMENU/CMFCPopupMenu::Create
- AFXPOPUPMENU/CMFCPopupMenu::DefaultMouseClickOnClose
- AFXPOPUPMENU/CMFCPopupMenu::EnableMenuLogo
- AFXPOPUPMENU/CMFCPopupMenu::EnableMenuSound
- AFXPOPUPMENU/CMFCPopupMenu::EnableResize
- AFXPOPUPMENU/CMFCPopupMenu::EnableScrolling
- AFXPOPUPMENU/CMFCPopupMenu::EnableVertResize
- AFXPOPUPMENU/CMFCPopupMenu::FindSubItemByCommand
- AFXPOPUPMENU/CMFCPopupMenu::GetActiveMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetAnimationSpeed
- AFXPOPUPMENU/CMFCPopupMenu::GetAnimationType
- AFXPOPUPMENU/CMFCPopupMenu::GetDropDirection
- AFXPOPUPMENU/CMFCPopupMenu::GetForceMenuFocus
- AFXPOPUPMENU/CMFCPopupMenu::GetForceShadow
- AFXPOPUPMENU/CMFCPopupMenu::GetHMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuBar
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuItem
- AFXPOPUPMENU/CMFCPopupMenu::GetMenuItemCount
- AFXPOPUPMENU/CMFCPopupMenu::GetMessageWnd
- AFXPOPUPMENU/CMFCPopupMenu::GetParentArea
- AFXPOPUPMENU/CMFCPopupMenu::GetParentButton
- AFXPOPUPMENU/CMFCPopupMenu::GetParentPopupMenu
- AFXPOPUPMENU/CMFCPopupMenu::GetParentRibbonElement
- AFXPOPUPMENU/CMFCPopupMenu::GetParentToolBar
- AFXPOPUPMENU/CMFCPopupMenu::GetQuickCustomizeType
- AFXPOPUPMENU/CMFCPopupMenu::GetSelItem
- AFXPOPUPMENU/CMFCPopupMenu::HasBeenResized
- AFXPOPUPMENU/CMFCPopupMenu::HideRarelyUsedCommands
- AFXPOPUPMENU/CMFCPopupMenu::InCommand
- AFXPOPUPMENU/CMFCPopupMenu::InsertItem
- AFXPOPUPMENU/CMFCPopupMenu::InsertSeparator
- AFXPOPUPMENU/CMFCPopupMenu::IsAlwaysClose
- AFXPOPUPMENU/CMFCPopupMenu::IsAlwaysShowEmptyToolsEntry
- AFXPOPUPMENU/CMFCPopupMenu::IsCustomizePane
- AFXPOPUPMENU/CMFCPopupMenu::IsEscClose
- AFXPOPUPMENU/CMFCPopupMenu::IsIdle
- AFXPOPUPMENU/CMFCPopupMenu::IsMenuSound
- AFXPOPUPMENU/CMFCPopupMenu::IsQuickCustomize
- AFXPOPUPMENU/CMFCPopupMenu::IsResizeble
- AFXPOPUPMENU/CMFCPopupMenu::IsRightAlign
- AFXPOPUPMENU/CMFCPopupMenu::IsScrollable
- AFXPOPUPMENU/CMFCPopupMenu::IsSendMenuSelectMsg
- AFXPOPUPMENU/CMFCPopupMenu::IsShown
- AFXPOPUPMENU/CMFCPopupMenu::MoveTo
- AFXPOPUPMENU/CMFCPopupMenu::OnCmdMsg
- AFXPOPUPMENU/CMFCPopupMenu::PostCommand
- AFXPOPUPMENU/CMFCPopupMenu::PreTranslateMessage
- AFXPOPUPMENU/CMFCPopupMenu::RecalcLayout
- AFXPOPUPMENU/CMFCPopupMenu::RemoveAllItems
- AFXPOPUPMENU/CMFCPopupMenu::RemoveItem
- AFXPOPUPMENU/CMFCPopupMenu::SaveState
- AFXPOPUPMENU/CMFCPopupMenu::SetAnimationSpeed
- AFXPOPUPMENU/CMFCPopupMenu::SetAnimationType
- AFXPOPUPMENU/CMFCPopupMenu::SetAutoDestroy
- AFXPOPUPMENU/CMFCPopupMenu::SetDefaultItem
- AFXPOPUPMENU/CMFCPopupMenu::SetForceMenuFocus
- AFXPOPUPMENU/CMFCPopupMenu::SetForceShadow
- AFXPOPUPMENU/CMFCPopupMenu::SetMaxWidth
- AFXPOPUPMENU/CMFCPopupMenu::SetMessageWnd
- AFXPOPUPMENU/CMFCPopupMenu::SetParentRibbonElement
- AFXPOPUPMENU/CMFCPopupMenu::SetQuickCustomizeType
- AFXPOPUPMENU/CMFCPopupMenu::SetQuickMode
- AFXPOPUPMENU/CMFCPopupMenu::SetRightAlign
- AFXPOPUPMENU/CMFCPopupMenu::SetSendMenuSelectMsg
- AFXPOPUPMENU/CMFCPopupMenu::ShowAllCommands
- AFXPOPUPMENU/CMFCPopupMenu::TriggerResize
- AFXPOPUPMENU/CMFCPopupMenu::UpdateAllShadows
- AFXPOPUPMENU/CMFCPopupMenu::UpdateShadow
- AFXPOPUPMENU/CMFCPopupMenu::CreateTearOffBar
- AFXPOPUPMENU/CMFCPopupMenu::OnChangeHot
- AFXPOPUPMENU/CMFCPopupMenu::OnChooseItem
helpviewer_keywords:
- CMFCPopupMenu [MFC], CMFCPopupMenu
- CMFCPopupMenu [MFC], ActivatePopupMenu
- CMFCPopupMenu [MFC], AlwaysShowEmptyToolsEntry
- CMFCPopupMenu [MFC], AreAllCommandsShown
- CMFCPopupMenu [MFC], CheckArea
- CMFCPopupMenu [MFC], CloseMenu
- CMFCPopupMenu [MFC], Create
- CMFCPopupMenu [MFC], DefaultMouseClickOnClose
- CMFCPopupMenu [MFC], EnableMenuLogo
- CMFCPopupMenu [MFC], EnableMenuSound
- CMFCPopupMenu [MFC], EnableResize
- CMFCPopupMenu [MFC], EnableScrolling
- CMFCPopupMenu [MFC], EnableVertResize
- CMFCPopupMenu [MFC], FindSubItemByCommand
- CMFCPopupMenu [MFC], GetActiveMenu
- CMFCPopupMenu [MFC], GetAnimationSpeed
- CMFCPopupMenu [MFC], GetAnimationType
- CMFCPopupMenu [MFC], GetDropDirection
- CMFCPopupMenu [MFC], GetForceMenuFocus
- CMFCPopupMenu [MFC], GetForceShadow
- CMFCPopupMenu [MFC], GetHMenu
- CMFCPopupMenu [MFC], GetMenuBar
- CMFCPopupMenu [MFC], GetMenuItem
- CMFCPopupMenu [MFC], GetMenuItemCount
- CMFCPopupMenu [MFC], GetMessageWnd
- CMFCPopupMenu [MFC], GetParentArea
- CMFCPopupMenu [MFC], GetParentButton
- CMFCPopupMenu [MFC], GetParentPopupMenu
- CMFCPopupMenu [MFC], GetParentRibbonElement
- CMFCPopupMenu [MFC], GetParentToolBar
- CMFCPopupMenu [MFC], GetQuickCustomizeType
- CMFCPopupMenu [MFC], GetSelItem
- CMFCPopupMenu [MFC], HasBeenResized
- CMFCPopupMenu [MFC], HideRarelyUsedCommands
- CMFCPopupMenu [MFC], InCommand
- CMFCPopupMenu [MFC], InsertItem
- CMFCPopupMenu [MFC], InsertSeparator
- CMFCPopupMenu [MFC], IsAlwaysClose
- CMFCPopupMenu [MFC], IsAlwaysShowEmptyToolsEntry
- CMFCPopupMenu [MFC], IsCustomizePane
- CMFCPopupMenu [MFC], IsEscClose
- CMFCPopupMenu [MFC], IsIdle
- CMFCPopupMenu [MFC], IsMenuSound
- CMFCPopupMenu [MFC], IsQuickCustomize
- CMFCPopupMenu [MFC], IsResizeble
- CMFCPopupMenu [MFC], IsRightAlign
- CMFCPopupMenu [MFC], IsScrollable
- CMFCPopupMenu [MFC], IsSendMenuSelectMsg
- CMFCPopupMenu [MFC], IsShown
- CMFCPopupMenu [MFC], MoveTo
- CMFCPopupMenu [MFC], OnCmdMsg
- CMFCPopupMenu [MFC], PostCommand
- CMFCPopupMenu [MFC], PreTranslateMessage
- CMFCPopupMenu [MFC], RecalcLayout
- CMFCPopupMenu [MFC], RemoveAllItems
- CMFCPopupMenu [MFC], RemoveItem
- CMFCPopupMenu [MFC], SaveState
- CMFCPopupMenu [MFC], SetAnimationSpeed
- CMFCPopupMenu [MFC], SetAnimationType
- CMFCPopupMenu [MFC], SetAutoDestroy
- CMFCPopupMenu [MFC], SetDefaultItem
- CMFCPopupMenu [MFC], SetForceMenuFocus
- CMFCPopupMenu [MFC], SetForceShadow
- CMFCPopupMenu [MFC], SetMaxWidth
- CMFCPopupMenu [MFC], SetMessageWnd
- CMFCPopupMenu [MFC], SetParentRibbonElement
- CMFCPopupMenu [MFC], SetQuickCustomizeType
- CMFCPopupMenu [MFC], SetQuickMode
- CMFCPopupMenu [MFC], SetRightAlign
- CMFCPopupMenu [MFC], SetSendMenuSelectMsg
- CMFCPopupMenu [MFC], ShowAllCommands
- CMFCPopupMenu [MFC], TriggerResize
- CMFCPopupMenu [MFC], UpdateAllShadows
- CMFCPopupMenu [MFC], UpdateShadow
- CMFCPopupMenu [MFC], CreateTearOffBar
- CMFCPopupMenu [MFC], OnChangeHot
- CMFCPopupMenu [MFC], OnChooseItem
ms.assetid: 9555dca1-8c9c-44c9-af72-0659ddad128e
ms.openlocfilehash: 2f61c5aea825d85043ad273c640c4aabd38ebbb5
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69505135"
---
# <a name="cmfcpopupmenu-class"></a>Класс CMFCPopupMenu

Реализует возможности всплывающего меню Windows и расширяет его, добавляя такие возможности как перемещаемые меню и подсказки.
Дополнительные сведения см. в исходном коде, расположенном в папке **VC\\atlmfc\\src\\mfc** каталога установки Visual Studio.

## <a name="syntax"></a>Синтаксис

```
class CMFCPopupMenu : public CMiniFrameWnd
```

## <a name="members"></a>Участники

### <a name="protected-constructors"></a>Защищенные конструкторы

|name|Описание|
|----------|-----------------|
|[CMFCPopupMenu:: CMFCPopupMenu](#cmfcpopupmenu)|Создает объект `CMFCPopupMenu`.|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[CMFCPopupMenu:: Активатепопупмену](#activatepopupmenu)||
|[CMFCPopupMenu:: Алвайсшовемптитулсентри](#alwaysshowemptytoolsentry)|Указывает, включено ли всплывающее меню для отображения пустых записей для определяемых пользователем средств.|
|[CMFCPopupMenu:: Ареаллкоммандсшовн](#areallcommandsshown)||
|[CMFCPopupMenu:: Чеккареа](#checkarea)|Определяет расположение точки относительно всплывающего меню.|
|[CMFCPopupMenu:: Клосемену](#closemenu)||
|[CMFCPopupMenu:: Create](#create)|Создает всплывающее меню и прикрепляет его к `CMFCPopupMenu` объекту.|
|[CMFCPopupMenu::D Ефаултмаусекликконклосе](#defaultmouseclickonclose)||
|[CMFCPopupMenu:: Енаблеменулого](#enablemenulogo)|Инициализирует эмблему для всплывающего меню.|
|[CMFCPopupMenu:: Енаблеменусаунд](#enablemenusound)|Включает звук меню.|
|[CMFCPopupMenu:: Енаблересизе](#enableresize)||
|[CMFCPopupMenu:: Енаблескроллинг](#enablescrolling)||
|[CMFCPopupMenu:: Енаблевертресизе](#enablevertresize)||
|[CMFCPopupMenu:: Финдсубитембикомманд](#findsubitembycommand)||
|[CMFCPopupMenu:: Жетактивемену](#getactivemenu)|Возвращает текущее активное меню.|
|[CMFCPopupMenu:: Жетаниматионспид](#getanimationspeed)|Возвращает скорость анимации для всплывающих меню.|
|[CMFCPopupMenu:: Жетаниматионтипе](#getanimationtype)|Возвращает текущий тип анимации всплывающего меню.|
|[CMFCPopupMenu:: Жетдропдиректион](#getdropdirection)||
|[CMFCPopupMenu:: Жетфорцеменуфокус](#getforcemenufocus)|Указывает, возвращается ли фокус в строку меню при отображении всплывающего меню.|
|[CMFCPopupMenu:: Жетфорцешадов](#getforceshadow)||
|[CMFCPopupMenu:: Жесмену](#gethmenu)|Возвращает маркер для ресурса присоединенного меню.|
|[CMFCPopupMenu:: Жетменубар](#getmenubar)|Возвращает [CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md) , внедренный во всплывающее меню.|
|[CMFCPopupMenu:: MenuItem](#getmenuitem)|Возвращает указатель на пункт меню по указанному индексу.|
|[CMFCPopupMenu:: Жетменуитемкаунт](#getmenuitemcount)|Возвращает число элементов во всплывающем меню.|
|[CMFCPopupMenu:: Жетмессажевнд](#getmessagewnd)|Возвращает указатель на окно, в котором инфраструктура направляет всплывающие сообщения меню.|
|[CMFCPopupMenu:: Жетпарентареа](#getparentarea)||
|[CMFCPopupMenu:: Жетпарентбуттон](#getparentbutton)|Возвращает указатель на родительскую кнопку панели инструментов.|
|[CMFCPopupMenu:: Жетпарентпопупмену](#getparentpopupmenu)|Возвращает указатель на родительское всплывающее меню.|
|[CMFCPopupMenu:: Жетпарентриббонелемент](#getparentribbonelement)||
|[CMFCPopupMenu:: Жетпаренттулбар](#getparenttoolbar)|Возвращает указатель на родительскую панель инструментов.|
|[CMFCPopupMenu:: Жеткуикккустомизетипе](#getquickcustomizetype)||
|[CMFCPopupMenu:: Жетселитем](#getselitem)|Возвращает указатель на текущую выбранную команду меню.|
|[CMFCPopupMenu:: Хасбинресизед](#hasbeenresized)||
|[CMFCPopupMenu:: Хидерарелюседкоммандс](#hiderarelyusedcommands)|Указывает, может ли всплывающее меню скрывать редко используемые команды.|
|[CMFCPopupMenu:: OnCommand](#incommand)||
|[CMFCPopupMenu:: InsertItem](#insertitem)|Вставляет новый элемент во всплывающее меню в указанном расположении.|
|[CMFCPopupMenu:: Инсертсепаратор](#insertseparator)|Вставляет разделитель во всплывающее меню в указанном расположении.|
|[CMFCPopupMenu:: Исалвайсклосе](#isalwaysclose)||
|[CMFCPopupMenu:: Исалвайсшовемптитулсентри](#isalwaysshowemptytoolsentry)||
|[CMFCPopupMenu:: Искустомизепане](#iscustomizepane)|Указывает, работает ли всплывающее меню как **куикккустомизепане**.|
|[CMFCPopupMenu:: Исескклосе](#isescclose)||
|[CMFCPopupMenu:: Idle](#isidle)|Указывает, находится ли всплывающее меню в неактивном состоянии.|
|[CMFCPopupMenu:: Исменусаунд](#ismenusound)||
|[CMFCPopupMenu:: Искуикккустомизе](#isquickcustomize)|Определяет, находится ли связанный [класс кмфктулбарменубуттон](../../mfc/reference/cmfctoolbarmenubutton-class.md) в режиме куикккустомизе.|
|[CMFCPopupMenu:: Исресизебле](#isresizeble)||
|[CMFCPopupMenu:: Исригхталигн](#isrightalign)|Указывает, выдается ли меню по правому краю или по левому краю.|
|[CMFCPopupMenu:: прокрутка](#isscrollable)||
|[CMFCPopupMenu:: Иссендменуселектмсг](#issendmenuselectmsg)|Указывает, уведомляет ли платформа родительский фрейм, когда пользователь выбирает команду из всплывающего меню.|
|[CMFCPopupMenu:: i](#isshown)|Указывает, отображается ли всплывающее меню в данный момент.|
|[CMFCPopupMenu:: MoveTo](#moveto)||
|[CMFCPopupMenu:: OnCmdMsg](#oncmdmsg)|(Переопределяет `CFrameWnd::OnCmdMsg`.)|
|[CMFCPopupMenu::P Осткомманд](#postcommand)||
|[CMFCPopupMenu::P Ретранслатемессаже](#pretranslatemessage)|(Переопределяет `CFrameWnd::PreTranslateMessage`.)|
|[CMFCPopupMenu:: RecalcLayout](#recalclayout)|Вызывается структурой при включении или отключении стандартных панелей элементов управления или при изменении размера окна фрейма. (Переопределяет метод [CFrameWnd:: RecalcLayout](../../mfc/reference/cframewnd-class.md#recalclayout).)|
|[CMFCPopupMenu:: Ремовеаллитемс](#removeallitems)|Удаляет все элементы из всплывающего меню.|
|[CMFCPopupMenu:: RemoveItem](#removeitem)|Удаляет указанный элемент из всплывающего меню.|
|[CMFCPopupMenu:: SaveState](#savestate)||
|[CMFCPopupMenu:: Сетаниматионспид](#setanimationspeed)|Задает скорость анимации для всплывающих меню.|
|[CMFCPopupMenu:: Сетаниматионтипе](#setanimationtype)|Задает тип анимации для всплывающего меню.|
|[CMFCPopupMenu:: Сетаутодестрой](#setautodestroy)||
|[CMFCPopupMenu:: Сетдефаултитем](#setdefaultitem)|Задает команду по умолчанию для всплывающего меню.|
|[CMFCPopupMenu:: Сетфорцеменуфокус](#setforcemenufocus)|Принудительное возвращение фокуса ввода в строку меню при отображении всплывающего меню.|
|[CMFCPopupMenu:: Сетфорцешадов](#setforceshadow)|Заставляет платформу выводить тени меню, когда всплывающие меню появляются за пределами основного фрейма.|
|[CMFCPopupMenu:: Сетмаксвидс](#setmaxwidth)|Задайте максимальную ширину для всплывающего меню.|
|[CMFCPopupMenu:: Сетмессажевнд](#setmessagewnd)||
|[CMFCPopupMenu:: Сетпарентриббонелемент](#setparentribbonelement)||
|[CMFCPopupMenu:: Сеткуикккустомизетипе](#setquickcustomizetype)||
|[CMFCPopupMenu:: Сеткуиккмоде](#setquickmode)||
|[CMFCPopupMenu:: Сетригхталигн](#setrightalign)|Задает выравнивание меню для всплывающих меню.|
|[CMFCPopupMenu:: Сетсендменуселектмсг](#setsendmenuselectmsg)|Задает флаг, определяющий, будет ли всплывающее меню уведомлять родительский фрейм, когда пользователь выбирает команду.|
|[CMFCPopupMenu:: Шоваллкоммандс](#showallcommands)|Заставляет всплывающее меню отображать все команды.|
|[CMFCPopupMenu:: Тригжерресизе](#triggerresize)||
|[CMFCPopupMenu:: Упдатеаллшадовс](#updateallshadows)|Обновляет тени для всех открытых всплывающих меню.|
|[CMFCPopupMenu:: Упдатешадов](#updateshadow)|Обновляет тень всплывающего меню.|

### <a name="protected-methods"></a>Защищенные методы

|name|Описание|
|----------|-----------------|
|[CMFCPopupMenu:: Креатетеароффбар](#createtearoffbar)||
|[CMFCPopupMenu:: Ончанжехот](#onchangehot)||
|[CMFCPopupMenu:: Ончусеитем](#onchooseitem)||

### <a name="remarks"></a>Примечания

Как правило, MFC автоматически создает всплывающие меню. Если вы хотите создать `CMFCPopupMenu` объект вручную, выделите его в куче, а затем вызовите метод [CMFCPopupMenu:: Create](#create).

## <a name="example"></a>Пример

В следующем примере показано, как настроить всплывающий объект меню. В этом примере показано, как задать эмблему и звук всплывающего меню, задать скорость и тип анимации, нарисовать тени меню, когда всплывающее меню появляется за пределами основного фрейма, задать максимальную ширину и задать выравнивание меню во всплывающем меню. Этот фрагмент кода является частью [примера пользовательских страниц](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_CustomPages#2](../../mfc/reference/codesnippet/cpp/cmfcpopupmenu-class_1.cpp)]

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CFrameWnd](../../mfc/reference/cframewnd-class.md)

[кминифрамевнд](../../mfc/reference/cminiframewnd-class.md)

`CMFCPopupMenu`

## <a name="requirements"></a>Требования

**Заголовок:** афкспопупмену. h

##  <a name="activatepopupmenu"></a>CMFCPopupMenu:: Активатепопупмену

```
static BOOL __stdcall ActivatePopupMenu(
    CFrameWnd* pTopFrame,
    CMFCPopupMenu* pPopupMenu);
```

### <a name="parameters"></a>Параметры

окне *птопфраме*<br/>
окне *ппопупмену*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="alwaysshowemptytoolsentry"></a>CMFCPopupMenu:: Алвайсшовемптитулсентри

Указывает, включено ли всплывающее меню для отображения пустых записей для определяемых пользователем средств.

```
static void AlwaysShowEmptyToolsEntry(BOOL bShow = TRUE);
```

### <a name="parameters"></a>Параметры

*bShow*<br/>
окне Значение TRUE, если всплывающее меню может отображать пустые записи; В противном случае — значение FALSE.

##  <a name="areallcommandsshown"></a>CMFCPopupMenu:: Ареаллкоммандсшовн

```
BOOL AreAllCommandsShown() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="checkarea"></a>CMFCPopupMenu:: Чеккареа

Определяет расположение точки относительно всплывающего меню.

```
MENUAREA_TYPE CheckArea(const CPoint& ptScreen) const;
```

### <a name="parameters"></a>Параметры

*птскрин*<br/>
окне Точка в экранных координатах.

### <a name="return-value"></a>Возвращаемое значение

Параметр MENUAREA_TYPE, указывающий, где находится точка относительно всплывающего меню.

### <a name="remarks"></a>Примечания

Параметр MENUAREA_TYPE может иметь одно из следующих значений.

- СНАРУЖИ — *птскрин* находится за пределами всплывающего меню.

- LOGO — *птскрин* находится над областью логотипа.

- TEAROFF_CAPTION- *птскрин* находится над заголовком разрыва.

- SHADOW_BOTTOM- *птскрин* находится над нижней тенью всплывающего меню.

- SHADOW_RIGHT- *птскрин* находится над правой тенью всплывающего меню.

- MENU- *птскрин* находится над командой.

##  <a name="closemenu"></a>CMFCPopupMenu:: Клосемену

```
void CloseMenu(BOOL bSetFocusToBar = FALSE);
```

### <a name="parameters"></a>Параметры

окне *бсетфокустобар*<br/>

### <a name="remarks"></a>Примечания

##  <a name="cmfcpopupmenu"></a>CMFCPopupMenu:: CMFCPopupMenu

Конструирует объект [CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) .

```
CMFCPopupMenu(
    CMFCToolBarsMenuPropertyPage* pCustPage,
    LPCTSTR lpszTitle);
```

### <a name="parameters"></a>Параметры

*пкустпаже*<br/>
окне Указатель на страницу настройки.

*лпсзтитле*<br/>
окне Строка, содержащая заголовок меню.

### <a name="remarks"></a>Примечания

Этот метод выделяет ресурсы для `CMFCPopupMenu`. Чтобы создать всплывающий элемент меню, вызовите метод [CMFCPopupMenu:: Create](#create).

##  <a name="create"></a>CMFCPopupMenu:: Create

Создает всплывающее меню и прикрепляет его к объекту [CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md) .

```
virtual BOOL Create(
    CWnd* pWndParent,
    int x,
    int y,
    HMENU hMenu,
    BOOL bLocked = FALSE,
    BOOL bOwnMessage = FALSE);
```

### <a name="parameters"></a>Параметры

*пвндпарент*<br/>
окне Родительское окно для `CMFCPopupMenu`.

*x*<br/>
окне Горизонтальная координата экрана для расположения всплывающего меню

*y*<br/>
окне Вертикальная координата экрана для расположения всплывающего меню.

*hMenu*<br/>
окне Маркер для ресурса меню.

*Блокирует*<br/>
окне Логический параметр, указывающий, является ли меню настраиваемым. Значение FALSE указывает, что всплывающее меню является настраиваемым.

*бовнмессаже*<br/>
окне Логический параметр, указывающий, как платформа направляет сообщения меню. Дополнительные сведения см. в разделе "Примечания".

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод успешно выполнен; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Если *бовнмессаже* имеет значение true, инфраструктура направляет все сообщения меню в *пвндпарент*. *пвндпарент* не должно иметь значение null, если *бовнмессаже* имеет значение true. Если *бовнмессаже* имеет значение false, платформа направляет сообщения меню в родительское всплывающее меню.

### <a name="example"></a>Пример

В следующем примере показано, `Create` как использовать метод `CMFCPopuMenu` класса. Этот фрагмент кода является частью [примера пользовательских страниц](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_CustomPages#1](../../mfc/reference/codesnippet/cpp/cmfcpopupmenu-class_2.cpp)]

##  <a name="createtearoffbar"></a>CMFCPopupMenu:: Креатетеароффбар

```
virtual CPane* CreateTearOffBar(
    CFrameWnd* pWndMain,
    UINT uiID,
    LPCTSTR lpszName);
```

### <a name="parameters"></a>Параметры

окне *пвндмаин*<br/>
окне *уиид*<br/>
окне *лпсзнаме*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="defaultmouseclickonclose"></a>CMFCPopupMenu::D Ефаултмаусекликконклосе

```
virtual BOOL DefaultMouseClickOnClose() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="enablemenulogo"></a>CMFCPopupMenu:: Енаблеменулого

Инициализирует эмблему для всплывающего меню.

```
void EnableMenuLogo(
    int iLogoSize,
    LOGO_LOCATION nLogoLocation = MENU_LOGO_LEFT);
```

### <a name="parameters"></a>Параметры

*илогосизе*<br/>
окне Размер логотипа (в пикселях).

*нлоголокатион*<br/>
окне Перечислимый тип данных, указывающий расположение логотипа.

### <a name="remarks"></a>Примечания

Чтобы отобразить эмблему, реализуйте метод [CFrameWndEx:: ондравменулого](../../mfc/reference/cframewndex-class.md#ondrawmenulogo) в главном окне фрейма.

Возможные значения для *нлоголокатион* : MENU_LOGO_LEFT, MENU_LOGO_RIGHT, MENU_LOGO_TOP и MENU_LOGO_BOTTOM.

##  <a name="enablemenusound"></a>CMFCPopupMenu:: Енаблеменусаунд

Включает звук меню.

```
static void EnableMenuSound(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
окне Значение TRUE, чтобы включить звук, и FALSE в противном случае.

### <a name="remarks"></a>Примечания

При включении звука платформа вызывает метод [PlaySound](/windows/win32/api/shobjidl_core/nf-shobjidl_core-iusernotification-playsound) , когда пользователь открывает всплывающее меню или выбирает команду меню. По умолчанию эта функция включена.

##  <a name="enableresize"></a>CMFCPopupMenu:: Енаблересизе

```
void EnableResize(CSize sizeMinResize);
```

### <a name="parameters"></a>Параметры

окне *сиземинресизе*<br/>

### <a name="remarks"></a>Примечания

##  <a name="enablescrolling"></a>CMFCPopupMenu:: Енаблескроллинг

```
void EnableScrolling(BOOL = TRUE);
```

### <a name="parameters"></a>Параметры

окне *Bool (логическое* )<br/>

### <a name="remarks"></a>Примечания

##  <a name="enablevertresize"></a>CMFCPopupMenu:: Енаблевертресизе

```
void EnableVertResize(int nMinResize);
```

### <a name="parameters"></a>Параметры

окне *нминресизе*<br/>

### <a name="remarks"></a>Примечания

##  <a name="findsubitembycommand"></a>CMFCPopupMenu:: Финдсубитембикомманд

```
CMFCToolBarMenuButton* FindSubItemByCommand(UINT uiCmd) const;
```

### <a name="parameters"></a>Параметры

окне *уикмд*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getactivemenu"></a>CMFCPopupMenu:: Жетактивемену

Возвращает текущее активное меню.

```
static CMFCPopupMenu* GetActiveMenu();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на активное всплывающее меню или значение NULL, если всплывающее меню не активно в данный момент.

### <a name="remarks"></a>Примечания

Каждое приложение может иметь не более одного активного всплывающего меню.

##  <a name="getanimationspeed"></a>CMFCPopupMenu:: Жетаниматионспид

Возвращает скорость анимации для всплывающих меню.

```
static UINT GetAnimationSpeed();
```

### <a name="return-value"></a>Возвращаемое значение

Целое число, указывающее время в миллисекундах, необходимое для завершения анимации всплывающего меню.

### <a name="remarks"></a>Примечания

Скорость анимации является глобальным значением. Используйте [CMFCPopupMenu:: сетаниматионспид](#setanimationspeed) , чтобы изменить скорость анимации для всплывающих меню.

##  <a name="getanimationtype"></a>CMFCPopupMenu:: Жетаниматионтипе

Возвращает текущий тип всплывающей анимации.

```
static CMFCPopupMenu::ANIMATION_TYPE GetAnimationType(BOOL bNoSystem = FALSE);
```

### <a name="parameters"></a>Параметры

*бносистем*<br/>
окне Логический параметр, указывающий, проверяет ли этот метод глобальное значение. Значение FALSE, если требуется, чтобы этот метод возвращал стиль анимации для данного экземпляра [класса CMFCPopupMenu](../../mfc/reference/cmfcpopupmenu-class.md).

### <a name="return-value"></a>Возвращаемое значение

Перечислимое значение, описывающее тип анимации.

### <a name="remarks"></a>Примечания

Стиль анимации для всплывающих меню является глобальным для приложения. Чтобы задать стиль анимации, используйте [CMFCPopupMenu:: сетаниматионтипе](#setanimationtype) .

В следующей таблице перечислены возможные типы анимации.

|||
|-|-|
|NO_ANIMATION|Всплывающее меню не анимировано и отображается немедленно.  |
|UNFOLD|Платформа открывает всплывающее меню из левого верхнего угла в нижний правый угол.  |
|СЛАЙД|Всплывающее меню перемещается сверху вниз.  |
|АНИМАЦИИ|Во всплывающем меню сначала отображается прозрачный и постепенно солидифиес.  |

##  <a name="getdropdirection"></a>CMFCPopupMenu:: Жетдропдиректион

```
DROP_DIRECTION GetDropDirection() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getforcemenufocus"></a>CMFCPopupMenu:: Жетфорцеменуфокус

Указывает, возвращается ли фокус в строку меню при отображении всплывающего меню.

```
static BOOL GetForceMenuFocus();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если фокус ввода возвращается в строку меню при отображении всплывающего меню; Значение FALSE, если всплывающее меню оставляет фокус.

### <a name="remarks"></a>Примечания

По умолчанию приложение не возвращает фокус на строку меню. Чтобы изменить этот параметр, используйте [CMFCPopupMenu:: сетфорцеменуфокус](#setforcemenufocus).

##  <a name="getforceshadow"></a>CMFCPopupMenu:: Жетфорцешадов

```
static BOOL __stdcall GetForceShadow();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="gethmenu"></a>CMFCPopupMenu:: Жесмену

Возвращает маркер для ресурса присоединенного меню.

```
HMENU GetHMenu();
```

##  <a name="getmenubar"></a>CMFCPopupMenu:: Жетменубар

Возвращает [CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md) , внедренный во всплывающее меню.

```
virtual CMFCPopupMenuBar* GetMenuBar();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на встроенный `CMFCPopupMenuBar`объект.

### <a name="remarks"></a>Примечания

Всплывающее меню содержит внедренный `CMFCPopupMenuBar` объект. Этот метод необходимо переопределить в производном классе, если используется другой внедренный класс.

##  <a name="getmenuitem"></a>CMFCPopupMenu:: MenuItem

Возвращает указатель на пункт меню по указанному индексу.

```
CMFCToolBarMenuButton* GetMenuItem(int iIndex) const;
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
окне Отсчитываемый от нуля индекс элемента меню.

### <a name="return-value"></a>Возвращаемое значение

Указатель на пункт меню. Значение NULL, если индекс является недопустимым.

### <a name="remarks"></a>Примечания

Пункты меню представлены [классом кмфктулбарменубуттон](../../mfc/reference/cmfctoolbarmenubutton-class.md). При вызове этого метода он возвращает указатель на соответствующий `CMFCToolBarMenuButton`объект.

##  <a name="getmenuitemcount"></a>CMFCPopupMenu:: Жетменуитемкаунт

Возвращает количество элементов во всплывающем меню.

```
int GetMenuItemCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Число элементов в меню.

##  <a name="getmessagewnd"></a>CMFCPopupMenu:: Жетмессажевнд

Возвращает указатель на окно, в котором инфраструктура направляет всплывающие сообщения меню.

```
CWnd* GetMessageWnd() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на окно, получающее всплывающие сообщения меню; Значение NULL, если окно отсутствует.

### <a name="remarks"></a>Примечания

При использовании метода [CMFCPopupMenu:: Create](#create) для создания всплывающего меню указывается, какое окно получает сообщения меню.

##  <a name="getparentarea"></a>CMFCPopupMenu:: Жетпарентареа

```
virtual CWnd* GetParentArea(CRect& rectParentBtn);
```

### <a name="parameters"></a>Параметры

окне *ректпарентбтн*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getparentbutton"></a>CMFCPopupMenu:: Жетпарентбуттон

Возвращает указатель на родительскую кнопку панели инструментов.

```
CMFCToolBarMenuButton* GetParentButton() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на родительскую кнопку панели инструментов. Значение NULL, если всплывающее меню не имеет родительской кнопки панели инструментов.

### <a name="remarks"></a>Примечания

`CMFCPopupMenu` Можно связать с кнопкой в меню. В этом сценарии всплывающее меню появляется, когда пользователь нажимает кнопку на родительской панели инструментов.

Если всплывающее меню является контекстным меню, то родительской кнопки на панели инструментов не будет.

##  <a name="getparentpopupmenu"></a>CMFCPopupMenu:: Жетпарентпопупмену

Возвращает указатель на родительское всплывающее меню.

```
CMFCPopupMenu* GetParentPopupMenu() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на родительский `CMFCPopupMenu` объект; Значение NULL, если родительское всплывающее меню отсутствует.

### <a name="remarks"></a>Примечания

Всплывающее меню имеет родительский `CMFCPopupMenu` объект только в том случае, если это подменю.

##  <a name="getparentribbonelement"></a>CMFCPopupMenu:: Жетпарентриббонелемент

```
CMFCRibbonBaseElement* GetParentRibbonElement() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getparenttoolbar"></a>CMFCPopupMenu:: Жетпаренттулбар

Возвращает указатель на родительскую панель инструментов.

```
CMFCToolBar* GetParentToolBar() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на родительскую панель инструментов. Значение NULL, если всплывающее меню не имеет родительской панели инструментов.

### <a name="remarks"></a>Примечания

`CMFCPopupMenu` Если является контекстным меню, то у него нет родительской панели инструментов.

##  <a name="getquickcustomizetype"></a>CMFCPopupMenu:: Жеткуикккустомизетипе

```
QUICK_CUSTOMIZE_TYPE GetQuickCustomizeType() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="getselitem"></a>CMFCPopupMenu:: Жетселитем

Возвращает указатель на текущую выбранную команду меню.

```
CMFCToolBarMenuButton* GetSelItem();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на выбранную в данный момент команду меню; NULL, если элемент не выбран.

### <a name="remarks"></a>Примечания

Команды меню в раскрывающемся меню представлены [классом кмфктулбарменубуттон](../../mfc/reference/cmfctoolbarmenubutton-class.md)или классом, производным от `CMFCToolBarMenuButton`.

##  <a name="hasbeenresized"></a>CMFCPopupMenu:: Хасбинресизед

```
BOOL HasBeenResized() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="hiderarelyusedcommands"></a>CMFCPopupMenu:: Хидерарелюседкоммандс

Указывает, может ли всплывающее меню скрывать редко используемые команды.

```
BOOL HideRarelyUsedCommands() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если всплывающее меню может скрывать редко используемые команды; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод указывает только на то, что всплывающее меню может скрывать редко используемые команды, а не если эта конфигурация включена. Всплывающее меню может скрывать редко используемые команды, если у нее есть родительская кнопка, а родительское окно является производным от [класса CMFCMenuBar](../../mfc/reference/cmfcmenubar-class.md). Используйте [CMFCMenuBar:: сетрецентлюседменус](../../mfc/reference/cmfcmenubar-class.md#setrecentlyusedmenus) , чтобы включить эту функцию, и [CMFCMenuBar:: исрецентлюседменус](../../mfc/reference/cmfcmenubar-class.md#isrecentlyusedmenus) , чтобы определить, включена ли эта функция в данный момент. Для родительского окна необходимо вызвать оба этих метода.

##  <a name="incommand"></a>CMFCPopupMenu:: OnCommand

```
virtual BOOL InCommand();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="insertitem"></a>CMFCPopupMenu:: InsertItem

Вставляет новый элемент во всплывающее меню в указанном расположении.

```
int InsertItem(
    const CMFCToolBarMenuButton& button,
    int iInsertA = -1);
```

### <a name="parameters"></a>Параметры

*переключатель*<br/>
окне Ссылка на добавляемый элемент меню.

*иинсертат*<br/>
окне Отсчитываемый от нуля индекс для нового элемента. Если *иинсертат* имеет значение-1, элемент добавляется в конец меню.

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от нуля индекс позиции, в которую был вставлен элемент. значение-1, если метод завершается с ошибкой.

### <a name="remarks"></a>Примечания

Этот метод завершится ошибкой, если указать недопустимое значение для *иинсертат*, например целое число, большее, чем число элементов в раскрывающемся меню.

##  <a name="insertseparator"></a>CMFCPopupMenu:: Инсертсепаратор

Вставляет разделитель во всплывающее меню в указанном расположении.

```
int InsertSeparator(int iInsertAt = -1);
```

### <a name="parameters"></a>Параметры

*иинсертат*<br/>
окне Отсчитываемый от нуля индекс позиции, в которую этот метод будет вставлять разделитель.

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от нуля индекс позиции, в которую был вставлен разделитель. значение-1, если этот метод завершается ошибкой.

### <a name="remarks"></a>Примечания

Значение-1 для *иинсертат* означает, что этот метод добавляет разделитель в конец всплывающего меню.

Этот метод завершается ошибкой, если *иинсертат* является недопустимым значением.

##  <a name="isalwaysclose"></a>CMFCPopupMenu:: Исалвайсклосе

```
virtual BOOL IsAlwaysClose() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="isalwaysshowemptytoolsentry"></a>CMFCPopupMenu:: Исалвайсшовемптитулсентри

```
static BOOL __stdcall IsAlwaysShowEmptyToolsEntry();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="iscustomizepane"></a>CMFCPopupMenu:: Искустомизепане

Указывает, работает ли всплывающее меню как **куикккустомизепане**.

```
BOOL IsCustomizePane();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если всплывающее окно является **кукккустомизепане**; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Используйте **куикккустомизепане** , чтобы разрешить пользователю непосредственно настраивать всплывающее меню. **Куикккустомизепане** — `CMFCPopupMenu` это, которое появляется, когда пользователь нажимает кнопку на панели инструментов, чтобы изменить ее напрямую.

Приложение должно вызывать этот метод во время [CMDIFrameWndEx:: оншовкустомизепане](../../mfc/reference/cmdiframewndex-class.md#onshowcustomizepane).

##  <a name="isescclose"></a>CMFCPopupMenu:: Исескклосе

```
BOOL IsEscClose();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="isidle"></a>CMFCPopupMenu:: Idle

Указывает, находится ли всплывающее меню в неактивном состоянии.

```
virtual BOOL IsIdle() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если всплывающее меню находится в режиме простоя; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

По умолчанию всплывающее меню находится в режиме простоя, если анимация отображения завершена и пользователь не прокручивается всплывающее меню.

##  <a name="ismenusound"></a>CMFCPopupMenu:: Исменусаунд

```
static UINT __stdcall IsMenuSound();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="isquickcustomize"></a>CMFCPopupMenu:: Искуикккустомизе

Определяет, находится ли связанный [класс кмфктулбарменубуттон](../../mfc/reference/cmfctoolbarmenubutton-class.md) в режиме куикккустомизе.

```
BOOL IsQuickCustomize();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если связанная кнопка меню находится в режиме Куикккустомизе. в противном случае — FALSE. Этот метод также возвращает значение FALSE, если всплывающее меню не связано с `CMFCToolBarMenuButton`.

### <a name="remarks"></a>Примечания

В режиме Куикккустомизе пользователь нажимает кнопку на панели инструментов для непосредственной настройки кнопки.

##  <a name="isresizeble"></a>CMFCPopupMenu:: Исресизебле

```
BOOL IsResizeble() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="isrightalign"></a>CMFCPopupMenu:: Исригхталигн

Указывает, выдается ли меню по правому краю или по левому краю.

```
BOOL IsRightAlign() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если меню выдается по правому краю; Значение FALSE, если меню выровняйте по левому краю.

### <a name="remarks"></a>Примечания

Для установки выравнивания меню можно использовать [CMFCPopupMenu:: сетригхталигн](#setrightalign) . По умолчанию всплывающие меню используют выравнивание по левому краю.

Выравнивание меню не является глобальным параметром и может различаться во всплывающих меню.

##  <a name="isscrollable"></a>CMFCPopupMenu:: прокрутка

```
BOOL IsScrollable() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="issendmenuselectmsg"></a>CMFCPopupMenu:: Иссендменуселектмсг

Указывает, уведомляет ли платформа родительский фрейм, когда пользователь выбирает команду из всплывающего меню.

```
static BOOL IsSendMenuSelectMsg();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если платформа уведомляет родительский фрейм; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Платформа уведомляет родительский фрейм, отправляя ему сообщение WM_MENUSELECT, когда используется для выбора команды меню.

##  <a name="isshown"></a>CMFCPopupMenu:: i

Указывает, отображается ли всплывающее меню в данный момент.

```
BOOL IsShown() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если всплывающее меню отображается; в противном случае — FALSE.

##  <a name="moveto"></a>CMFCPopupMenu:: MoveTo

```
void MoveTo(const CPoint& pt);
```

### <a name="parameters"></a>Параметры

окне *пт*<br/>

### <a name="remarks"></a>Примечания

##  <a name="onchangehot"></a>CMFCPopupMenu:: Ончанжехот

```
virtual void OnChangeHot(int nHot);
```

### <a name="parameters"></a>Параметры

окне *нхот*<br/>

### <a name="remarks"></a>Примечания

##  <a name="onchooseitem"></a>CMFCPopupMenu:: Ончусеитем

```
virtual void OnChooseItem(UINT uidCmdID);
```

### <a name="parameters"></a>Параметры

окне *уидкмдид*<br/>

### <a name="remarks"></a>Примечания

##  <a name="oncmdmsg"></a>CMFCPopupMenu:: OnCmdMsg

```
virtual BOOL OnCmdMsg(
    UINT nID,
    int nCode,
    void* pExtra,
    AFX_CMDHANDLERINFO* pHandlerInfo);
```

### <a name="parameters"></a>Параметры

окне *NID*<br/>
окне *нкоде*<br/>
окне *пекстра*<br/>
окне *фандлеринфо*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="postcommand"></a>CMFCPopupMenu::P Осткомманд

```
BOOL PostCommand(UINT uiCommandID);
```

### <a name="parameters"></a>Параметры

окне *уикоммандид*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="pretranslatemessage"></a>CMFCPopupMenu::P Ретранслатемессаже

```
virtual BOOL PreTranslateMessage(MSG* pMsg);
```

### <a name="parameters"></a>Параметры

[in] *pMsg*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

##  <a name="recalclayout"></a>CMFCPopupMenu:: RecalcLayout

```
virtual void RecalcLayout(BOOL bNotify = TRUE);
```

### <a name="parameters"></a>Параметры

окне *бнотифи*<br/>

### <a name="remarks"></a>Примечания

##  <a name="removeallitems"></a>CMFCPopupMenu:: Ремовеаллитемс

Удаляет все элементы из всплывающего меню.

```
void RemoveAllItems();
```

##  <a name="removeitem"></a>CMFCPopupMenu:: RemoveItem

Удаляет указанный элемент из всплывающего меню.

```
BOOL RemoveItem(int iIndex);
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
окне Отсчитываемый от нуля индекс удаляемого элемента.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод успешно выполнен; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод автоматически упорядочивает все разделители, затрагиваемые удалением элемента. Дополнительные сведения о том, как платформа переупорядочивает разделители, см. в разделе [CMFCToolBar:: ремовебуттон](../../mfc/reference/cmfctoolbar-class.md#removebutton).

##  <a name="savestate"></a>CMFCPopupMenu:: SaveState

```
virtual void SaveState();
```

### <a name="remarks"></a>Примечания

##  <a name="setanimationspeed"></a>CMFCPopupMenu:: Сетаниматионспид

Задает скорость анимации для всплывающих меню.

```
static void SetAnimationSpeed(UINT nElapse);
```

### <a name="parameters"></a>Параметры

*нелапсе*<br/>
окне Новая скорость анимации в миллисекундах.

### <a name="remarks"></a>Примечания

Скорость анимации является глобальным значением и влияет на все всплывающие меню в приложении. Это значение указывает, сколько времени требуется для завершения анимации всплывающего меню.

По умолчанию этот параметр имеет значение 30 миллисекунд. Диапазон допустимых значений для *нелапсе* — от 0 до 200.

##  <a name="setanimationtype"></a>CMFCPopupMenu:: Сетаниматионтипе

Задает тип анимации для этого всплывающего меню.

```
static void SetAnimationType(CMFCPopupMenu::ANIMATION_TYPE type);
```

### <a name="parameters"></a>Параметры

*type*<br/>
окне Перечислимый тип данных, указывающий тип анимации.

### <a name="remarks"></a>Примечания

Список допустимых значений для *типа*см. в разделе [CMFCPopupMenu:: жетаниматионтипе](#getanimationtype) .

##  <a name="setautodestroy"></a>CMFCPopupMenu:: Сетаутодестрой

```
void SetAutoDestroy(BOOL bAutoDestroy = TRUE);
```

### <a name="parameters"></a>Параметры

[in] *bAutoDestroy*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setdefaultitem"></a>CMFCPopupMenu:: Сетдефаултитем

Задает команду по умолчанию для всплывающего меню.

```
void SetDefaultItem(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*уикмд*<br/>
окне Идентификатор команды меню новой команды по умолчанию.

### <a name="remarks"></a>Примечания

Команда по умолчанию во всплывающем меню — это команда, выбранная при появлении всплывающего меню.

##  <a name="setforcemenufocus"></a>CMFCPopupMenu:: Сетфорцеменуфокус

Принудительное возвращение фокуса ввода в строку меню при отображении всплывающего меню.

```
static void SetForceMenuFocus(BOOL bValue);
```

### <a name="parameters"></a>Параметры

*bValue*<br/>
окне Значение TRUE, если требуется, чтобы платформа принудительно настроила ввод фокуса на строку меню при отображении всплывающего меню. Значение FALSE, если необходимо, чтобы всплывающее меню сохраняло фокус.

### <a name="remarks"></a>Примечания

Этот метод задает глобальный флаг для всех всплывающих меню в приложении. По умолчанию эта функция отключена.

##  <a name="setforceshadow"></a>CMFCPopupMenu:: Сетфорцешадов

Заставляет платформу выводить тени меню, когда всплывающие меню появляются за пределами основного фрейма.

```
static void SetForceShadow(BOOL bValue);
```

### <a name="parameters"></a>Параметры

*bValue*<br/>
окне Значение TRUE, если требуется, чтобы платформа выводит тени меню, и FALSE в противном случае.

### <a name="remarks"></a>Примечания

При вызове этого метода он устанавливает глобальный флаг в приложении. Этот флаг влияет на все всплывающие меню в приложении.

##  <a name="setmaxwidth"></a>CMFCPopupMenu:: Сетмаксвидс

Задайте максимальную ширину для всплывающего меню.

```
void SetMaxWidth(int iMaxWidth);
```

### <a name="parameters"></a>Параметры

*имаксвидс*<br/>
окне Максимальная ширина всплывающего меню в пикселях.

### <a name="remarks"></a>Примечания

Если текст, связанный с командой меню, не умещается в максимальной ширине, он усекается, а часть, которая не умещается, заменяется на три точки.

##  <a name="setmessagewnd"></a>CMFCPopupMenu:: Сетмессажевнд

```
void SetMessageWnd(CWnd* pMsgWnd);
```

### <a name="parameters"></a>Параметры

окне *пмсгвнд*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setparentribbonelement"></a>CMFCPopupMenu:: Сетпарентриббонелемент

```
void SetParentRibbonElement(CMFCRibbonBaseElement* pElem);
```

### <a name="parameters"></a>Параметры

окне *Пелем*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setquickcustomizetype"></a>CMFCPopupMenu:: Сеткуикккустомизетипе

```
void SetQuickCustomizeType(QUICK_CUSTOMIZE_TYPE Type);
```

### <a name="parameters"></a>Параметры

окне *Тип*<br/>

### <a name="remarks"></a>Примечания

##  <a name="setquickmode"></a>CMFCPopupMenu:: Сеткуиккмоде

```
void SetQuickMode();
```

### <a name="remarks"></a>Примечания

##  <a name="setrightalign"></a>CMFCPopupMenu:: Сетригхталигн

Задает выравнивание меню для всплывающих меню.

```
void SetRightAlign(BOOL bRightAlign = TRUE);
```

### <a name="parameters"></a>Параметры

*бригхталигн*<br/>
окне Логическое значение, указывающее выравнивание меню. Значение TRUE означает выравнивание по правому краю, значение FALSE — левое выравнивание.

### <a name="remarks"></a>Примечания

По умолчанию все всплывающие меню выводятся по левому краю.

##  <a name="setsendmenuselectmsg"></a>CMFCPopupMenu:: Сетсендменуселектмсг

Задает флаг, определяющий, будет ли всплывающее меню уведомлять родительский фрейм, когда пользователь выбирает команду.

```
static void SetSendMenuSelectMsg(BOOL bSet = TRUE);
```

### <a name="parameters"></a>Параметры

*Управляемое bSet*<br/>
окне Значение TRUE, если всплывающее меню уведомляет о родительском фрейме; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Это глобальный вариант для всех всплывающих меню в приложении. Если он включен, во всплывающих меню будет отправлено сообщение WM_MENUSELECT в родительский фрейм, когда пользователь выберет команду.

##  <a name="showallcommands"></a>CMFCPopupMenu:: Шоваллкоммандс

Заставляет всплывающее меню отображать все команды.

```
void ShowAllCommands();
```

### <a name="remarks"></a>Примечания

Этот параметр не является глобальным и влияет только на текущее всплывающее меню.

##  <a name="triggerresize"></a>CMFCPopupMenu:: Тригжерресизе

```
void TriggerResize();
```

### <a name="remarks"></a>Примечания

##  <a name="updateallshadows"></a>CMFCPopupMenu:: Упдатеаллшадовс

Обновляет тени для всех открытых всплывающих меню.

```
static void UpdateAllShadows(LPRECT lprectScreen = NULL);
```

### <a name="parameters"></a>Параметры

*лпректскрин*<br/>
окне Прямоугольник, указывающий обновляемую область в экранных координатах.

### <a name="remarks"></a>Примечания

Этот метод полезен при отображении всплывающих меню над анимированными элементами управления или другими окнами, которые имеют динамическое содержимое.

##  <a name="updateshadow"></a>CMFCPopupMenu:: Упдатешадов

Обновляет тень всплывающего меню.

```
void UpdateShadow(LPRECT lprectScreen = NULL);
```

### <a name="parameters"></a>Параметры

*лпректскрин*<br/>
окне Прямоугольник в экранных координатах, указывающий границы обновляемой области.

### <a name="remarks"></a>Примечания

Этот метод следует вызывать, когда всплывающее меню с тенью перекрывает анимированное изображение.

## <a name="see-also"></a>См. также

[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Классы](../../mfc/reference/mfc-classes.md)<br/>
[Класс CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md)
