---
title: Структура DRAWITEMSTRUCT | Документация Майкрософт
ms.custom: ''
ms.date: 11/04/2016
ms.technology:
- cpp-mfc
ms.topic: reference
f1_keywords:
- DRAWITEMSTRUCT
dev_langs:
- C++
helpviewer_keywords:
- DRAWITEMSTRUCT structure [MFC]
ms.assetid: ba9ef1d4-aebb-45e9-b956-4b81a02e50f7
author: mikeblome
ms.author: mblome
ms.workload:
- cplusplus
ms.openlocfilehash: 632f1b8b975c73c4f8a708ddb9efd64ce0cae015
ms.sourcegitcommit: 799f9b976623a375203ad8b2ad5147bd6a2212f0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/19/2018
ms.locfileid: "46427255"
---
# <a name="drawitemstruct-structure"></a>DRAWITEMSTRUCT - структура

Структура `DRAWITEMSTRUCT` содержит сведения, необходимые окну-владельцу для определения способа рисования определяемого владельцем элемента управления или пункта меню.

## <a name="syntax"></a>Синтаксис

```
typedef struct tagDRAWITEMSTRUCT {
    UINT CtlType;
    UINT CtlID;
    UINT itemID;
    UINT itemAction;
    UINT itemState;
    HWND hwndItem;
    HDC hDC;
    RECT rcItem;
    DWORD itemData;
} DRAWITEMSTRUCT;
```

#### <a name="parameters"></a>Параметры

*CtlType*<br/>
Тип элемента управления. Ниже приведены значения для типов элементов управления.

- ODT_BUTTON определяемая владельцем кнопка

- ODT_COMBOBOX определяемое владельцем поле со списком

- Поле со списком, рисуемый владельцем ODT_LISTBOX

- ODT_MENU определяемое владельцем меню

- Элемент управления представления списком ODT_LISTVIEW

- ODT_STATIC определяемый владельцем статический элемент управления

- ODT_TAB вкладок

*CtlID*<br/>
Идентификатор элемента управления для поля со списком, списка или кнопки. Этот элемент не используется для меню.

*Идентификатор элемента*<br/>
Идентификатор пункта меню меню или индекс элемента в списке или поле со списком. Для пустого списка или поля со списком, этот элемент имеет отрицательное значение, что позволяет приложению рисовать только прямоугольник фокуса в координатах, определяемое `rcItem` несмотря на то, что в элементе управления нет элементов. Таким образом пользователю может быть показано, имеет ли этот список или поле со списком фокус ввода. Значения битов в `itemAction` определяет, должен ли прямоугольник рисоваться так, будто список или поле со списком имеет фокус ввода.

*itemAction*<br/>
Определяет необходимое действие рисования. Это будет один или несколько следующих битов.

- ODA_DRAWENTIRE этот бит устанавливается, когда должен быть нарисован весь элемент управления.

- ODA_FOCUS этот бит устанавливается, когда элемент управления получает или теряет фокус ввода. `itemState` Члена должны проверяться для определения, является ли элемент управления имеет фокус.

- ODA_SELECT этот бит устанавливается, когда изменилось только состояние выбора. `itemState` Член должен проверить, чтобы определить новое состояние выбора.

*ItemState*<br/>
Указывает визуальное состояние элемента выполнения текущего действия рисования. То есть если пункт меню недоступен, флаг состояния ODS_GRAYED устанавливается. Ниже приведены возможные флаги состояния.

- ODS_CHECKED этот бит устанавливается, если элемент меню будет проверяться. Этот бит используется только в меню.

- ODS_DISABLED этот бит устанавливается, если элемент будет отображаться как отключенные.

- ODS_FOCUS этот бит устанавливается в том случае, если элемент фокус ввода.

- ODS_GRAYED этот бит устанавливается, если она недоступна. Этот бит используется только в меню.

- ODS_SELECTED этот бит устанавливается, если элемент находится в выбранном состоянии.

- ODS_COMBOBOXEDIT рисование выполняется в поле выбора (в элементе управления), ownerdrawn со списком.

- ODS_DEFAULT элемент является элементом по умолчанию.

*hwndItem*<br/>
Указывает дескриптор окна элемента управления для полей со списком, списков и кнопок. Указывает дескриптор меню (HMENU), которое содержит пункт меню.

*hDC*<br/>
Определяет контекст устройства. Этот контекст устройства должен использоваться при выполнении операций рисования в элементе управления.

*rcItem*<br/>
Прямоугольник в контексте устройства, заданном *hDC* член, который определяет границы элемента управления для отображения. Windows автоматически обрезает все, что владелец рисует в контексте устройства для полей со списком, списков и кнопок, но не обрезает пункты меню. При рисовании пунктов меню владелец не должен рисования за границы прямоугольника, определяемого `rcItem` член.

*itemData*<br/>
Для поля со списком или списка этот элемент содержит значение, которое было передано в список с помощью одной из следующих структур:

- [CComboBox::AddString](../../mfc/reference/ccombobox-class.md#addstring)

- [CComboBox::InsertString](../../mfc/reference/ccombobox-class.md#insertstring)

- [CListBox::AddString](../../mfc/reference/clistbox-class.md#addstring)

- [CListBox::InsertString](../../mfc/reference/clistbox-class.md#insertstring)

Для меню этот элемент содержит значение, которое было передано в меню с помощью одной из следующих структур:

- [CMenu::AppendMenu](../../mfc/reference/cmenu-class.md#appendmenu)

- [CMenu::InsertMenu](../../mfc/reference/cmenu-class.md#insertmenu)

- [CMenu::ModifyMenu](../../mfc/reference/cmenu-class.md#modifymenu)

## <a name="remarks"></a>Примечания

Окно-владелец определяемого владельцем элемента управления или пункта меню получает указатель на эту структуру *lParam* параметр WM_DRAWITEM сообщения.

## <a name="requirements"></a>Требования

**Заголовок:** winuser.h

## <a name="see-also"></a>См. также

[Структуры, стили, обратные вызовы и схемы сообщений](../../mfc/reference/structures-styles-callbacks-and-message-maps.md)<br/>
[CWnd::OnDrawItem](../../mfc/reference/cwnd-class.md#ondrawitem)

