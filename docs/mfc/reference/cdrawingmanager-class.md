---
title: Класс Кдравингманажер
ms.date: 11/04/2016
f1_keywords:
- CDrawingManager
- AFXDRAWMANAGER/CDrawingManager
- AFXDRAWMANAGER/CDrawingManager::CDrawingManager
- AFXDRAWMANAGER/CDrawingManager::CreateBitmap_32
- AFXDRAWMANAGER/CDrawingManager::DrawAlpha
- AFXDRAWMANAGER/CDrawingManager::DrawRotated
- AFXDRAWMANAGER/CDrawingManager::DrawEllipse
- AFXDRAWMANAGER/CDrawingManager::DrawGradientRing
- AFXDRAWMANAGER/CDrawingManager::DrawRect
- AFXDRAWMANAGER/CDrawingManager::DrawShadow
- AFXDRAWMANAGER/CDrawingManager::Fill4ColorsGradient
- AFXDRAWMANAGER/CDrawingManager::FillGradient
- AFXDRAWMANAGER/CDrawingManager::FillGradient2
- AFXDRAWMANAGER/CDrawingManager::GrayRect
- AFXDRAWMANAGER/CDrawingManager::HighlightRect
- AFXDRAWMANAGER/CDrawingManager::HLStoRGB_ONE
- AFXDRAWMANAGER/CDrawingManager::HLStoRGB_TWO
- AFXDRAWMANAGER/CDrawingManager::HSVtoRGB
- AFXDRAWMANAGER/CDrawingManager::HuetoRGB
- AFXDRAWMANAGER/CDrawingManager::MirrorRect
- AFXDRAWMANAGER/CDrawingManager::PixelAlpha
- AFXDRAWMANAGER/CDrawingManager::PrepareShadowMask
- AFXDRAWMANAGER/CDrawingManager::RGBtoHSL
- AFXDRAWMANAGER/CDrawingManager::RGBtoHSV
- AFXDRAWMANAGER/CDrawingManager::SetAlphaPixel
- AFXDRAWMANAGER/CDrawingManager::SetPixel
- AFXDRAWMANAGER/CDrawingManager::SmartMixColors
helpviewer_keywords:
- CDrawingManager [MFC], CDrawingManager
- CDrawingManager [MFC], CreateBitmap_32
- CDrawingManager [MFC], DrawAlpha
- CDrawingManager [MFC], DrawRotated
- CDrawingManager [MFC], DrawEllipse
- CDrawingManager [MFC], DrawGradientRing
- CDrawingManager [MFC], DrawRect
- CDrawingManager [MFC], DrawShadow
- CDrawingManager [MFC], Fill4ColorsGradient
- CDrawingManager [MFC], FillGradient
- CDrawingManager [MFC], FillGradient2
- CDrawingManager [MFC], GrayRect
- CDrawingManager [MFC], HighlightRect
- CDrawingManager [MFC], HLStoRGB_ONE
- CDrawingManager [MFC], HLStoRGB_TWO
- CDrawingManager [MFC], HSVtoRGB
- CDrawingManager [MFC], HuetoRGB
- CDrawingManager [MFC], MirrorRect
- CDrawingManager [MFC], PixelAlpha
- CDrawingManager [MFC], PrepareShadowMask
- CDrawingManager [MFC], RGBtoHSL
- CDrawingManager [MFC], RGBtoHSV
- CDrawingManager [MFC], SetAlphaPixel
- CDrawingManager [MFC], SetPixel
- CDrawingManager [MFC], SmartMixColors
ms.assetid: 9e4775ca-101b-4aa9-a85a-4d047c701215
ms.openlocfilehash: 1cc469b63e448e964dacc4d853905b22155dfe0e
ms.sourcegitcommit: 1839405b97036891b6e4d37c99def044d6f37eff
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/18/2020
ms.locfileid: "88561639"
---
# <a name="cdrawingmanager-class"></a>Класс Кдравингманажер

`CDrawingManager`Класс реализует сложные алгоритмы рисования.

## <a name="syntax"></a>Синтаксис

```
class CDrawingManager : public CObject
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|name|Описание|
|----------|-----------------|
|[Кдравингманажер:: Кдравингманажер](#cdrawingmanager)|Формирует объект `CDrawingManager`.|
|`CDrawingManager::~CDrawingManager`|Деструктор.|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[Кдравингманажер:: CreateBitmap_32](#createbitmap_32)|32 создает независимый от устройства точечный рисунок (DIB), который приложения могут записывать непосредственно.|
|[Кдравингманажер::D Равалфа](#drawalpha)|Отображает растровые изображения, имеющие прозрачные или полупрозрачные пиксели.|
|[Кдравингманажер::D Равротатед](#drawrotated)|Поворачивает исходное содержимое контроллера домена в заданном прямоугольнике на +/-90 градусов|
|[Кдравингманажер::D Равеллипсе](#drawellipse)|Рисует эллипс с заданными цветами заливки и границы.|
|[Кдравингманажер::D Равградиентринг](#drawgradientring)|Рисует кольцо и заполняет его цветом градиента.|
|[Кдравингманажер::D Равлине, Кдравингманажер::D Равлинеа](#drawline_cdrawingmanager__drawlinea)|Рисование линии.|
|[Кдравингманажер::D Раврект](#drawrect)|Рисует прямоугольник с заданными цветами заливки и границы.|
|[Кдравингманажер::D Равшадов](#drawshadow)|Рисует тень для прямоугольной области.|
|[Кдравингманажер:: Fill4ColorsGradient](#fill4colorsgradient)|Заполняет прямоугольную область двумя градиентами цвета.|
|[Кдравингманажер:: Филлградиент](#fillgradient)|Заполняет прямоугольную область указанным градиентом цвета.|
|[Кдравингманажер:: FillGradient2](#fillgradient2)|Заполняет прямоугольную область указанным градиентом цвета. Также указывается направление изменения цвета градиента.|
|[Кдравингманажер:: Грайрект](#grayrect)|Заполняет прямоугольник указанным серым цветом.|
|[Кдравингманажер:: Хигхлигхтрект](#highlightrect)|Выделяет прямоугольную область.|
|[Кдравингманажер:: HLStoRGB_ONE](#hlstorgb_one)|Преобразует цвет из представления HLS в представление RGB.|
|[Кдравингманажер:: HLStoRGB_TWO](#hlstorgb_two)|Преобразует цвет из представления HLS в представление RGB.|
|[Кдравингманажер:: Хсвторгб](#hsvtorgb)|Преобразует цвет из представления HSV в представление RGB.|
|[Кдравингманажер:: Хуеторгб](#huetorgb)|Вспомогательный метод, преобразующий значение оттенка в красный, зеленый или синий компонент.|
|[Кдравингманажер:: Мирроррект](#mirrorrect)|Переворачивает прямоугольную область.|
|[Кдравингманажер::P Икселалфа](#pixelalpha)|Вспомогательный метод, определяющий окончательный цвет для полупрозрачного пикселя.|
|[Кдравингманажер::P Репарешадовмаск](#prepareshadowmask)|Создает точечный рисунок, который можно использовать в качестве тени.|
|[Кдравингманажер:: Ргбтохсл](#rgbtohsl)|Преобразует цвет из представления RGB в представление HSL.|
|[Кдравингманажер:: Ргбтохсв](#rgbtohsv)|Преобразует цвет из представления RGB в представление HSV.|
|[Кдравингманажер:: Сеталфапиксел](#setalphapixel)|Вспомогательный метод, заменяющий цвет частично прозрачного пикселя в точечном рисунке.|
|[Кдравингманажер:: SetPixel](#setpixel)|Вспомогательный метод, который изменяет Одиночный пиксель точечного рисунка на указанный цвет.|
|[Кдравингманажер:: Смартмиксколорс](#smartmixcolors)|Объединяет два цвета на основе взвешенного соотношения.|

## <a name="remarks"></a>Remarks

`CDrawingManager`Класс предоставляет функции для рисования теней, цветовых градиентов и выделенных прямоугольников. Он также выполняет альфа-смешение. Этот класс можно использовать для непосредственного изменения пользовательского интерфейса приложения.

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)<br/>
`CDrawingManager`

## <a name="requirements"></a>Требования

**Заголовок:** афксдравманажер. h

## <a name="cdrawingmanagercdrawingmanager"></a><a name="cdrawingmanager"></a> Кдравингманажер:: Кдравингманажер

Конструирует объект [кдравингманажер](../../mfc/reference/cdrawingmanager-class.md) .

```
CDrawingManager(CDC& dc);
```

### <a name="parameters"></a>Параметры

*Постоянный*<br/>
окне Ссылка на контекст устройства. `CDrawingManager`Использует этот контекст для рисования.

## <a name="cdrawingmanagercreatebitmap_32"></a><a name="createbitmap_32"></a> Кдравингманажер:: CreateBitmap_32

32 создает независимый от устройства точечный рисунок (DIB), который приложения могут записывать непосредственно.

```
static HBITMAP __stdcall CreateBitmap_32(
    const CSize& size,
    void** pBits);

static HBITMAP __stdcall CreateBitmap_32(
    HBITMAP bitmap,
    COLORREF clrTransparent = -1);
```

### <a name="parameters"></a>Параметры

*изменять*\
окне Параметр [ксизе](../../atl-mfc-shared/reference/csize-class.md) , указывающий размер точечного рисунка.

*пбитс*\
заполняет Указатель на указатель данных, получающий расположение битовых значений DIB.

*массив*\
Маркер исходного точечного рисунка

*клртранспарент*\
Значение RGB, указывающее прозрачный цвет исходного растрового изображения.

### <a name="return-value"></a>Возвращаемое значение

Маркер для вновь созданного битового рисунка DIB, если этот метод выполнен успешно; в противном случае — NULL.

### <a name="remarks"></a>Remarks

Дополнительные сведения о создании точечного рисунка DIB см. в разделе [креатедибсектион](/windows/win32/api/wingdi/nf-wingdi-createdibitmap).

## <a name="cdrawingmanagerdrawalpha"></a><a name="drawalpha"></a> Кдравингманажер::D Равалфа

Отображает растровые изображения, имеющие прозрачные или полупрозрачные пиксели.

```cpp
void DrawAlpha(
    CDC* pDstDC,
    const CRect& rectDst,
    CDC* pSrcDC,
    const CRect& rectSrc);
```

### <a name="parameters"></a>Параметры

*пдстдк*<br/>
окне Указатель на контекст устройства для назначения.

*ректдст*<br/>
окне Прямоугольник назначения.

*псркдк*<br/>
окне Указатель на контекст устройства для источника.

*ректсрк*<br/>
окне Исходный прямоугольник.

### <a name="remarks"></a>Remarks

Этот метод выполняет альфа-смешение для двух точечных рисунков. Дополнительные сведения о альфа-смешении см. в разделе [алфабленд](/windows/win32/api/wingdi/nf-wingdi-alphablend) в Windows SDK.

## <a name="cdrawingmanagerdrawellipse"></a><a name="drawellipse"></a> Кдравингманажер::D Равеллипсе

Рисует эллипс с заданными цветами заливки и границы.

```cpp
void DrawEllipse(
    const CRect& rect,
    COLORREF clrFill,
    COLORREF clrLine);
```

### <a name="parameters"></a>Параметры

*rect*<br/>
окне Ограничивающий прямоугольник для эллипса.

*клрфилл*<br/>
окне Цвет, используемый этим методом для заполнения эллипса.

*клрлине*<br/>
окне Цвет, который этот метод использует в качестве границы эллипса.

### <a name="remarks"></a>Remarks

Этот метод возвращает, не рисуя эллипс, если для одного из цветов задано значение-1. Он также возвращает, не рисуя эллипс, если одно из измерений ограничивающего прямоугольника равно 0.

## <a name="cdrawingmanagerdrawgradientring"></a><a name="drawgradientring"></a> Кдравингманажер::D Равградиентринг

Рисует кольцо и заполняет его цветом градиента.

```
BOOL DrawGradientRing(
    CRect rect,
    COLORREF colorStart,
    COLORREF colorFinish,
    COLORREF colorBorder,
    int nAngle,
    int nWidth,
    COLORREF clrFace = (COLORREF)-1);
```

### <a name="parameters"></a>Параметры

*rect*<br/>
окне Параметр [крект](../../atl-mfc-shared/reference/crect-class.md) , указывающий границу для круга градиента.

*колорстарт*<br/>
окне Первый цвет градиента.

*колорфиниш*<br/>
окне Последний цвет градиента.

*колорбордер*<br/>
окне Цвет границы.

*нангле*<br/>
окне Параметр, указывающий начальный угол рисования градиента. Это значение должно находиться в диапазоне от 0 до 360.

*нвидс*<br/>
окне Ширина границы для кольца.

*клрфаце*<br/>
окне Цвет внутренней части кольца.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Прямоугольник, определенный параметром *Rect* , должен иметь ширину не менее 5 пикселей и высотой 5 пикселей.

## <a name="cdrawingmanagerdrawline-cdrawingmanagerdrawlinea"></a><a name="drawline_cdrawingmanager__drawlinea"></a> Кдравингманажер::D Равлине, Кдравингманажер::D Равлинеа

Рисование линии.

```cpp
void DrawLine(
    int x1,
    int y1,
    int x2,
    int y2,
    COLORREF clrLine);

void DrawLineA(
    double x1,
    double y1,
    double x2,
    double y2,
    COLORREF clrLine);
```

### <a name="parameters"></a>Параметры

*x1*\
окне Координата x, с которой начинается строка.

*Y1*\
окне Координата y, с которой начинается строка.

*штук*\
окне Координата x, на которой заканчивается линия.

*Y2*\
окне Координата y, на которой заканчивается линия.

*клрлине*\
окне Цвет линии.

### <a name="remarks"></a>Remarks

Этот метод завершается ошибкой, если *клрлине* равен-1.

## <a name="cdrawingmanagerdrawrect"></a><a name="drawrect"></a> Кдравингманажер::D Раврект

Рисует прямоугольник с заданными цветами заливки и границы.

```cpp
void DrawRect(
    const CRect& rect,
    COLORREF clrFill,
    COLORREF clrLine);
```

### <a name="parameters"></a>Параметры

*rect*<br/>
окне Границы прямоугольника.

*клрфилл*<br/>
окне Цвет, используемый этим методом для заполнения прямоугольника.

*клрлине*<br/>
окне Цвет, используемый этим методом для границы прямоугольника.

### <a name="remarks"></a>Remarks

Этот метод возвращает, не рисуя прямоугольник, если любой из цветов установлен в значение-1. Он также возвращает значение, если одно из измерений прямоугольника равно 0.

## <a name="cdrawingmanagerdrawshadow"></a><a name="drawshadow"></a> Кдравингманажер::D Равшадов

Рисует тень для прямоугольной области.

```
BOOL DrawShadow(
    CRect rect,
    int nDepth,
    int iMinBrightness = 100,
    int iMaxBrightness = 50,
    CBitmap* pBmpSaveBottom = NULL,
    CBitmap* pBmpSaveRight = NULL,
    COLORREF clrBase = (COLORREF)-1,
    BOOL bRightShadow = TRUE);
```

### <a name="parameters"></a>Параметры

*rect*<br/>
окне Прямоугольная область в приложении. Диспетчер рисунков будет рисовать тень под этой областью.

*ндепс*<br/>
окне Ширина и высота тени.

*иминбригхтнесс*<br/>
окне Минимальная яркость тени.

*имаксбригхтнесс*<br/>
окне Максимальная яркость тени.

*пбмпсавеботтом*<br/>
окне Указатель на точечный рисунок, содержащий изображение для нижней части тени.

*пбмпсаверигхт*<br/>
окне Указатель на точечный рисунок, содержащий изображение для тени, отображаемой в правой части прямоугольника.

*клрбасе*<br/>
окне Цвет тени.

*бригхтшадов*<br/>
окне Логический параметр, который указывает, как рисуется тень. Если *бригхтшадов* имеет значение `TRUE` , `DrawShadow` рисует тень с правой стороны прямоугольника.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Можно указать два допустимых точечных рисунка для нижних и правых теней с помощью параметров *пбмпсавеботтом* и *пбмпсаверигхт*. Если эти объекты [CBitmap](../../mfc/reference/cbitmap-class.md) имеют присоединенный объект GDI, `DrawShadow` будут использовать эти растровые изображения в качестве теней. Если `CBitmap` параметры не имеют присоединенного объекта GDI, `DrawShadow` рисует тень и присоединяет растровые изображения к параметрам. В будущих вызовах `DrawShadow` можно предоставить эти точечные рисунки для ускорения процесса рисования. Дополнительные сведения о `CBitmap` классах и объектах GDI см. в разделе [графические объекты](../../mfc/graphic-objects.md).

Если один из этих параметров имеет значение `NULL` , `DrawShadow` автоматически рисует тень.

Если задать для *бригхтшадов* значение false, тень будет отображаться под областью и слева от прямоугольной области.

### <a name="example"></a>Пример

В следующем примере показано, как использовать `DrawShadow` метод `CDrawingManager` класса. Этот фрагмент кода является частью [демонстрационного примера на листе Prop](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_PropSheetDemo#1](../../mfc/reference/codesnippet/cpp/cdrawingmanager-class_1.cpp)]

## <a name="cdrawingmanagerfill4colorsgradient"></a><a name="fill4colorsgradient"></a> Кдравингманажер:: Fill4ColorsGradient

Заполняет прямоугольную область двумя градиентами цвета.

```cpp
void Fill4ColorsGradient(
    CRect rect,
    COLORREF colorStart1,
    COLORREF colorFinish1,
    COLORREF colorStart2,
    COLORREF colorFinish2,
    BOOL bHorz = TRUE,
    int nPercentage = 50);
```

### <a name="parameters"></a>Параметры

*rect*<br/>
окне Прямоугольник для заполнения.

*colorStart1*<br/>
окне Начальный цвет для первого градиента цвета.

*colorFinish1*<br/>
окне Окончательный цвет для первого градиента цвета.

*colorStart2*<br/>
окне Начальный цвет для второго градиента цвета.

*colorFinish2*<br/>
окне Окончательный цвет для второго градиента цвета.

*бхорз*<br/>
окне Логический параметр, указывающий, является ли `Fill4ColorsGradient` цвет цветом горизонтальным или вертикальным градиентом. Значение TRUE указывает горизонтальный градиент.

*нперцентаже*<br/>
окне Целое число от 0-100. Это значение указывает процент прямоугольника, который должен быть заполнен первым градиентом цвета.

### <a name="remarks"></a>Remarks

Если прямоугольник заполняется двумя цветовыми градиентами, они расположены либо над друг друга, либо рядом друг с другом в зависимости от значения *бхорз*. Каждый цветовой градиент вычисляется независимо с помощью метода [кдравингманажер:: филлградиент](#fillgradient).

Этот метод создает ошибку утверждения, если *нперцентаже* меньше 0 или больше 100.

## <a name="cdrawingmanagerfillgradient"></a><a name="fillgradient"></a> Кдравингманажер:: Филлградиент

Заполняет прямоугольную область указанным градиентом цвета.

```cpp
void FillGradient(
    CRect rect,
    COLORREF colorStart,
    COLORREF colorFinish,
    BOOL bHorz = TRUE,
    int nStartFlatPercentage = 0,
    int nEndFlatPercentage = 0);
```

### <a name="parameters"></a>Параметры

*rect*<br/>
окне Прямоугольная область для заполнения.

*колорстарт*<br/>
окне Первый цвет градиента.

*колорфиниш*<br/>
окне Окончательный цвет для градиента.

*бхорз*<br/>
окне Логический параметр, указывающий, `FillGradient` должен ли рисовать горизонтальный или вертикальный градиент.

*нстартфлатперцентаже*<br/>
окне Процент прямоугольника, который `FillGradient` заполняется *колорстарт* до начала градиента.

*нендфлатперцентаже*<br/>
окне Процент прямоугольника, который `FillGradient` заполняется *колорфиниш* после завершения градиента.

### <a name="example"></a>Пример

В следующем примере показано, как использовать `FillGradient` метод `CDrawingManager` класса. Этот фрагмент кода является частью [демонстрационного примера MS Office 2007](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_MSOffice2007Demo#12](../../mfc/reference/codesnippet/cpp/cdrawingmanager-class_2.cpp)]

## <a name="cdrawingmanagerfillgradient2"></a><a name="fillgradient2"></a> Кдравингманажер:: FillGradient2

Заполняет прямоугольную область указанным градиентом цвета.

```cpp
void FillGradient2 (
    CRect rect,
    COLORREF colorStart,
    COLORREF colorFinish,
    int nAngle = 0);
```

### <a name="parameters"></a>Параметры

*rect*<br/>
окне Прямоугольная область для заполнения.

*колорстарт*<br/>
окне Первый цвет градиента.

*колорфиниш*<br/>
окне Последний цвет градиента.

*нангле*<br/>
окне Целое число от 0 до 360. Этот параметр определяет направление градиента цвета.

### <a name="remarks"></a>Remarks

Используйте *нангле* , чтобы указать направление градиента цвета. При указании направления цветового градиента также указывается, где начинается цветовой градиент. Значение 0 для *нангле* указывает, что градиент начинается от верхней границы прямоугольника. По мере роста *нангле* начальное расположение градиента перемещается в направлении по часовой стрелке в зависимости от угла.

### <a name="example"></a>Пример

В следующем примере показано, как использовать `FillGradient2` метод `CDrawingManager` класса. Этот фрагмент кода является частью [примера новых элементов управления](../../overview/visual-cpp-samples.md).

[!code-cpp[NVC_MFC_NewControls#37](../../mfc/reference/codesnippet/cpp/cdrawingmanager-class_3.cpp)]

## <a name="cdrawingmanagergrayrect"></a><a name="grayrect"></a> Кдравингманажер:: Грайрект

Заполняет прямоугольник указанным серым цветом.

```
BOOL GrayRect(
    CRect rect,
    int nPercentage = -1,
    COLORREF clrTransparent = (COLORREF)-1,
    COLORREF clrDisabled = (COLORREF)-1);
```

### <a name="parameters"></a>Параметры

*rect*<br/>
окне Прямоугольная область для заполнения.

*нперцентаже*<br/>
окне Процент серого, необходимый для прямоугольника.

*клртранспарент*<br/>
окне Прозрачный цвет.

*клрдисаблед*<br/>
окне Цвет, используемый этим методом для отмены насыщенности, если *нперцентаже* имеет значение-1.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — FALSE.

### <a name="remarks"></a>Remarks

Для параметра *нперцентаже*меньшее значение обозначает более темный цвет.

Максимальное значение для *нперцентаже* — 200. Значение, превышающее 200, не изменяет внешний вид прямоугольника. Если значение равно-1, этот метод использует *клрдисаблед* для ограничения насыщенности прямоугольника.

## <a name="cdrawingmanagerhighlightrect"></a><a name="highlightrect"></a> Кдравингманажер:: Хигхлигхтрект

Выделяет прямоугольную область.

```
BOOL HighlightRect(
    CRect rect,
    int nPercentage = -1,
    COLORREF clrTransparent = (COLORREF)-1,
    int nTolerance = 0,
    COLORREF clrBlend = (COLORREF)-1);
```

### <a name="parameters"></a>Параметры

*rect*<br/>
окне Прямоугольная область для выделения.

*нперцентаже*<br/>
окне Процент, определяющий степень прозрачности выделения.

*клртранспарент*<br/>
окне Прозрачный цвет.

*нтолеранце*<br/>
окне Целое число от 0 до 255, указывающее на чувствительность к цвету.

*клрбленд*<br/>
окне Базовый цвет для смешения.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод успешно выполнен; в противном случае — FALSE.

### <a name="remarks"></a>Remarks

Если *нперцентаже* находится в диапазоне от 0 до 99, `HighlightRect` использует алгоритм альфа-смешения. Дополнительные сведения о альфа-смешении см. в разделе [альфа-смешение линий и заливок](/dotnet/framework/winforms/advanced/alpha-blending-lines-and-fills). Если *нперцентаже* имеет значение-1, этот метод использует уровень выделения по умолчанию. Если *нперцентаже* имеет значение 100, этот метод не выполняет никаких действий и возвращает значение true.

Метод использует параметр *нтолеранце* , чтобы определить, следует ли выделить прямоугольную область. Чтобы выделить прямоугольник, разница между цветом фона приложения и *клртранспарент* должна быть меньше *нтолеранце* в каждом компоненте цвета (красный, зеленый и синий).

## <a name="cdrawingmanagerhlstorgb_one"></a><a name="hlstorgb_one"></a> Кдравингманажер:: HLStoRGB_ONE

Преобразует цвет из представления HLS в представление RGB.

```
static COLORREF __stdcall HLStoRGB_ONE(
    double H,
    double L,
    double S);
```

### <a name="parameters"></a>Параметры

*H*<br/>
окне Число от 0 до 1, представляющее оттенок цвета.

*Н*<br/>
окне Число от 0 до 1, указывающее яркость цвета.

*S*<br/>
окне Число от 0 до 1, указывающее насыщенность цвета.

### <a name="return-value"></a>Возвращаемое значение

Представленное RGB представление цвета HLS.

### <a name="remarks"></a>Remarks

Цвет можно представить как HSV (оттенок, насыщенность и значение), HSL (оттенок, насыщенность и яркость) или RGB (красный, зеленый и синий). Дополнительные сведения о различных представлениях цвета см. в разделе [Color](/windows/win32/uxguide/vis-color).

Этот метод и `CDrawingManager::HLStoRGB_TWO` метод выполняют одну и ту же операцию, но для параметра *H* требуются разные значения. В этом методе *H* — это процентная доля круга. В `CDrawingManager::HLStoRGB_TWO` методе *H* — это значение градуса от 0 до 360, которое представляет собой красный цвет. Например, `HLStoRGB_ONE` значение 0,25 для *H* эквивалентно значению 90 с `HLStoRGB_TWO` .

## <a name="cdrawingmanagerhlstorgb_two"></a><a name="hlstorgb_two"></a> Кдравингманажер:: HLStoRGB_TWO

Преобразует цвет из представления HLS в представление RGB.

```
static COLORREF __stdcall HLStoRGB_TWO(
    double H,
    double L,
    double S);
```

### <a name="parameters"></a>Параметры

*H*<br/>
окне Число от 0 до 360, представляющее оттенок цвета.

*Н*<br/>
окне Число от 0 до 1, указывающее яркость цвета.

*S*<br/>
окне Число от 0 до 1, указывающее насыщенность цвета.

### <a name="return-value"></a>Возвращаемое значение

Представленное RGB представление цвета HLS.

### <a name="remarks"></a>Remarks

Цвет можно представить как HSV (оттенок, насыщенность и значение), HSL (оттенок, насыщенность и яркость) или RGB (красный, зеленый и синий). Дополнительные сведения о различных представлениях цвета см. в разделе [Color](/windows/win32/uxguide/vis-color).

Этот метод и метод [кдравингманажер:: HLStoRGB_ONE](#hlstorgb_one) выполняют одну и ту же операцию, но для параметра *H* требуются разные значения. В этом методе *H* — это значение градуса от 0 до 360, которое представляет собой красный цвет. В методе [кдравингманажер:: HLStoRGB_ONE](#hlstorgb_one) *H* — это процентная доля круга. Например, `HLStoRGB_ONE` значение 0,25 для *H* эквивалентно значению 90 с `HLStoRGB_TWO` .

## <a name="cdrawingmanagerhsvtorgb"></a><a name="hsvtorgb"></a> Кдравингманажер:: Хсвторгб

Преобразует цвет из представления HSV в представление RGB.

```
static COLORREF __stdcall HSVtoRGB(
    double H,
    double S,
    double V);
```

### <a name="parameters"></a>Параметры

*Высоты*\
окне Число от 0 до 360, указывающее цветовой тон цвета.

*#D0*\
окне Число от 0 до 1, указывающее насыщенность цвета.

*3,3*\
окне Число от 0 до 1, указывающее значение цвета.

### <a name="return-value"></a>Возвращаемое значение

Представленное RGB представление цвета HSV.

### <a name="remarks"></a>Remarks

Цвет можно представить как HSV (оттенок, насыщенность и значение), HSL (оттенок, насыщенность и яркость) или RGB (красный, зеленый и синий). Дополнительные сведения о различных представлениях цвета см. в разделе [Color](/windows/win32/uxguide/vis-color).

## <a name="cdrawingmanagerhuetorgb"></a><a name="huetorgb"></a> Кдравингманажер:: Хуеторгб

Преобразует значение оттенка в красный, зеленый или синий компонент.

```
static double __stdcall HuetoRGB(
    double m1,
    double m2,
    double h);

static BYTE __stdcall HueToRGB(
    float rm1,
    float rm2,
    float rh);
```

### <a name="parameters"></a>Параметры

*M1*<br/>
окне См. раздел Примечания.

*m2*<br/>
окне См. раздел Примечания.

*h*<br/>
окне См. раздел Примечания.

*rm1*<br/>
окне См. раздел Примечания.

*rm2*<br/>
окне См. раздел Примечания.

*RH*<br/>
окне См. раздел Примечания.

### <a name="return-value"></a>Возвращаемое значение

Отдельный красный, зеленый или синий компонент для предоставленного оттенка.

### <a name="remarks"></a>Remarks

Этот метод является вспомогательным методом, который `CDrawingManager` класс использует для расчета отдельных красного, зеленого и синего компонентов цвета в представлении HSV или HSL. Этот метод не предназначен для непосредственного вызова программистом. Входные параметры — это значения, зависящие от алгоритма преобразования.

Чтобы преобразовать цвет HSV или HSL в представление RGB, вызовите один из следующих методов:

- [Кдравингманажер:: Хсвторгб](#hsvtorgb)

- [Кдравингманажер:: HLStoRGB_ONE](#hlstorgb_one)

- [Кдравингманажер:: HLStoRGB_TWO](#hlstorgb_two)

## <a name="cdrawingmanagermirrorrect"></a><a name="mirrorrect"></a> Кдравингманажер:: Мирроррект

Переворачивает прямоугольную область.

```cpp
void MirrorRect(
    CRect rect,
    BOOL bHorz = TRUE);
```

### <a name="parameters"></a>Параметры

*rect*<br/>
окне Ограничивающий прямоугольник области для отражения.

*бхорз*<br/>
окне Логический параметр, который указывает, переворачивается ли прямоугольник по горизонтали или по вертикали.

### <a name="remarks"></a>Remarks

Этот метод может перевернуть любую область контекста устройства, принадлежащего `CDrawingManager` классу. Если для *бхорз* ЗАДАНО значение true, этот метод переворачивает область по горизонтали. В противном случае область переворачивается по вертикали.

## <a name="cdrawingmanagerpixelalpha"></a><a name="pixelalpha"></a> Кдравингманажер::P Икселалфа

Вычисляет окончательный цвет для полупрозрачного пикселя.

```
static COLORREF __stdcall PixelAlpha(
    COLORREF srcPixel,
    int percent);

static COLORREF __stdcall PixelAlpha(
    COLORREF srcPixel,
    double percentR,
    double percentG,
    double percentB);

static COLORREF __stdcall PixelAlpha(
    COLORREF srcPixel,
    COLORREF dstPixel,
    int percent);
```

### <a name="parameters"></a>Параметры

*сркпиксел*<br/>
окне Первоначальный цвет для пикселя.

*абсолютно*<br/>
окне Число от 0 до 100, представляющее процент прозрачности. Значение 100 указывает, что начальный цвет полностью прозрачен.

*процент*<br/>
окне Число от 0 до 100, представляющее процент прозрачности для красного компонента.

*перцентг*<br/>
окне Число от 0 до 100, представляющее процент прозрачности для зеленого компонента.

*перцентб*<br/>
окне Число от 0 до 100, представляющее процент прозрачности для синего компонента.

*дстпиксел*<br/>
окне Базовый цвет для пикселя.

### <a name="return-value"></a>Возвращаемое значение

Окончательный цвет для полупрозрачного пикселя.

### <a name="remarks"></a>Remarks

Это вспомогательный класс для цветного выделения полупрозрачных растровых изображений и не предназначен для непосредственного вызова программистом.

При использовании версии метода, имеющего *дстпиксел*, последний цвет является сочетанием *дстпиксел* и *сркпиксел*. Цвет *сркпиксел* является частично прозрачным цветом поверх базового цвета *дстпиксел*.

## <a name="cdrawingmanagerprepareshadowmask"></a><a name="prepareshadowmask"></a> Кдравингманажер::P Репарешадовмаск

Создает точечный рисунок, который можно использовать в качестве тени.

```
static HBITMAP __stdcall PrepareShadowMask (
    int nDepth,
    COLORREF clrBase,
    int iMinBrightness = 0,
    int iMaxBrightness = 100);
```

### <a name="parameters"></a>Параметры

*ндепс*<br/>
окне Ширина и высота тени.

*клрбасе*<br/>
окне Цвет тени.

*иминбригхтнесс*<br/>
окне Минимальная яркость тени.

*имаксбригхтнесс*<br/>
окне Максимальная яркость тени.

### <a name="return-value"></a>Возвращаемое значение

Маркер созданного точечного рисунка, если этот метод выполнен успешно; в противном случае — NULL.

### <a name="remarks"></a>Remarks

Если *ндепс* имеет значение 0, этот метод завершает работу и возвращает значение null. Если *ндепс* меньше 3, ширина и высота тени задаются равными 3 пикселам.

## <a name="cdrawingmanagerrgbtohsl"></a><a name="rgbtohsl"></a> Кдравингманажер:: Ргбтохсл

Преобразует цвет из красного, зеленого и синего (RGB) в представление оттенков, насыщенности и яркости (HSL).

```
static void __stdcall RGBtoHSL(
    COLORREF rgb,
    double* H,
    double* S,
    double* L);
```

### <a name="parameters"></a>Параметры

*цвета*\
окне Цвет в значениях RGB.

*Высоты*\
заполняет Указатель на двойное значение, где метод сохраняет цветовой тон для цвета.

*#D0*\
заполняет Указатель на двойное значение, где метод сохраняет насыщенность цвета.

*Н*\
заполняет Указатель на двойное значение, где метод сохраняет освещение цвета.

### <a name="remarks"></a>Remarks

Цвет можно представить как HSV (оттенок, насыщенность и значение), HSL (оттенок, насыщенность и яркость) или RGB (красный, зеленый и синий). Дополнительные сведения о различных представлениях цвета см. в разделе [Color](/windows/win32/uxguide/vis-color).

Возвращаемое значение для *H* представляется в виде доли от 0 до 1, где 0 и 1 представляют красный. Возвращаемые значения для *S* и *L* — это числа от 0 до 1.

## <a name="cdrawingmanagerrgbtohsv"></a><a name="rgbtohsv"></a> Кдравингманажер:: Ргбтохсв

Преобразует цвет из представления RGB в представление HSV.

```
static void __stdcall RGBtoHSV(
    COLORREF rgb,
    double* H,
    double* S,
    double* V);
```

### <a name="parameters"></a>Параметры

*цвета*<br/>
окне Цвет для преобразования в представлении RGB.

*H*<br/>
заполняет Указатель на двойное значение, где этот метод сохраняет Итоговый цветовой тон для цвета.

*S*<br/>
заполняет Указатель на двойное значение, где этот метод сохраняет итоговое насыщение цвета.

*3,3*<br/>
заполняет Указатель на двойное значение, где этот метод сохраняет полученное в качестве значения цвет.

### <a name="remarks"></a>Remarks

Цвет можно представить как HSV (оттенок, насыщенность и значение), HSL (оттенок, насыщенность и яркость) или RGB (красный, зеленый и синий). Дополнительные сведения о различных представлениях цвета см. в разделе [Color](/windows/win32/uxguide/vis-color).

Возвращаемое значение для *H* — это число от 0 до 360, где 0 и 360 обозначают красный. Возвращаемые значения для *S* и *V* — это числа от 0 до 1.

## <a name="cdrawingmanagersetalphapixel"></a><a name="setalphapixel"></a> Кдравингманажер:: Сеталфапиксел

Цвета — это прозрачный пиксель точечного рисунка.

```
static void __stdcall SetAlphaPixel(
    COLORREF* pBits,
    CRect rect,
    int x,
    int y,
    int percent,
    int iShadowSize,
    COLORREF clrBase = (COLORREF)-1,
    BOOL bIsRight = TRUE);
```

### <a name="parameters"></a>Параметры

*пбитс*<br/>
окне Указатель на битовые значения для точечного рисунка.

*rect*<br/>
окне Прямоугольная область в приложении. Менеджер по рисованию рисует тень под и справа от этой области.

*x*<br/>
окне Горизонтальная координата пикселя на цвет.

*y*<br/>
окне Вертикальная координата пикселя на цвет.

*абсолютно*<br/>
окне Процент прозрачности.

*ишадовсизе*<br/>
окне Ширина и высота тени.

*клрбасе*<br/>
окне Цвет тени.

*бисригхт*<br/>
окне Логический параметр, указывающий цвет пикселя для цвета. Дополнительные сведения см. в разделе "Примечания".

### <a name="remarks"></a>Remarks

Этот метод является вспомогательным методом, который используется методом [кдравингманажер::D равшадов](#drawshadow) . Если нужно нарисовать тень, вызовите `CDrawingManager::DrawShadow` вместо этого.

Если для *бисригхт* ЗАДАНО значение true, пиксел на цвет измеряется в *x* пикселях от правого края *Rect*. Если значение FALSE, пиксел на цвет измеряется в *x* пикселях от левого края *Rect*.

## <a name="cdrawingmanagersetpixel"></a><a name="setpixel"></a> Кдравингманажер:: SetPixel

Изменяет один пиксель точечного рисунка на указанный цвет.

```
static void __stdcall SetPixel(
    COLORREF* pBits,
    int cx,
    int cy,
    int x,
    int y,
    COLORREF color);
```

### <a name="parameters"></a>Параметры

*пбитс*\
окне Указатель на битовые значения точечного рисунка.

*/CX*\
окне Общая ширина точечного рисунка.

*CY*\
окне Общая высота точечного рисунка.

*x*\
окне Координата x пикселя в растровом изображении, который необходимо изменить.

*&*\
окне Координата y пикселя в растровом изображении, который необходимо изменить.

*Цвет*\
окне Новый цвет для пикселя, определяемый предоставленными координатами.

## <a name="cdrawingmanagersmartmixcolors"></a><a name="smartmixcolors"></a> Кдравингманажер:: Смартмиксколорс

Объединяет два цвета на основе взвешенного соотношения.

```
static COLORREF __stdcall SmartMixColors(
    COLORREF color1,
    COLORREF color2,
    double dblLumRatio = 1.,
    int k1 = 1,
    int k2 = 1);
```

### <a name="parameters"></a>Параметры

*color1*\
окне Первый цвет для смешивания.

*color2*\
окне Второй цвет для смешивания.

*дбллумратио*\
окне Отношение для яркости нового цвета. `SmartMixColors` Умножает яркость смешанного цвета на это отношение перед определением окончательного цвета.

*K1*\
окне Взвешенное соотношение для первого цвета.

*априорной оценкой K2*\
окне Взвешенное соотношение для второго цвета.

### <a name="return-value"></a>Возвращаемое значение

Цвет, представляющий взвешенное сочетание предоставляемых цветов.

### <a name="remarks"></a>Remarks

Этот метод завершается ошибкой, если значение *K1* или *априорной оценкой K2* меньше нуля. Если оба этих параметра имеют значение 0, метод возвращает `RGB(0, 0, 0)` .

Взвешенное соотношение вычисляется по следующей формуле: (color1 \* K1 + color2 \* априорной оценкой K2)/(K1 + априорной оценкой K2). После определения взвешенного соотношения метод вычисляет яркость для смешанного цвета. Затем яркость умножается на *дбллумратио*. Если значение больше 1,0, метод задает для параметра яркость смешанного цвета новое значение. В противном случае для яркости задается значение 1,0.

## <a name="cdrawingmanagerdrawrotated"></a><a name="drawrotated"></a> Кдравингманажер::D Равротатед

Поворачивает исходное содержимое контроллера домена в заданном прямоугольнике на 90 градусов.

```cpp
void DrawRotated(
    CRect rectDest,
    CDC& dcSrc,
    BOOL bClockWise);
```

### <a name="parameters"></a>Параметры

*ректдест*<br/>
Прямоугольник назначения.

*дксрк*<br/>
Контекст исходного устройства.

*бклокквисе*<br/>
Значение TRUE означает вращение + 90 градусов; Значение FALSE означает поворот на 90 градусов.

### <a name="remarks"></a>Remarks

## <a name="see-also"></a>См. также

[Иерархическая диаграмма](../../mfc/hierarchy-chart.md)<br/>
[Классы](../../mfc/reference/mfc-classes.md)
