---
title: CEdit Class
ms.date: 09/12/2018
f1_keywords:
- CEdit
- AFXWIN/CEdit
- AFXWIN/CEdit::CEdit
- AFXWIN/CEdit::CanUndo
- AFXWIN/CEdit::CharFromPos
- AFXWIN/CEdit::Clear
- AFXWIN/CEdit::Copy
- AFXWIN/CEdit::Create
- AFXWIN/CEdit::Cut
- AFXWIN/CEdit::EmptyUndoBuffer
- AFXWIN/CEdit::FmtLines
- AFXWIN/CEdit::GetCueBanner
- AFXWIN/CEdit::GetFirstVisibleLine
- AFXWIN/CEdit::GetHandle
- AFXWIN/CEdit::GetHighlight
- AFXWIN/CEdit::GetLimitText
- AFXWIN/CEdit::GetLine
- AFXWIN/CEdit::GetLineCount
- AFXWIN/CEdit::GetMargins
- AFXWIN/CEdit::GetModify
- AFXWIN/CEdit::GetPasswordChar
- AFXWIN/CEdit::GetRect
- AFXWIN/CEdit::GetSel
- AFXWIN/CEdit::HideBalloonTip
- AFXWIN/CEdit::LimitText
- AFXWIN/CEdit::LineFromChar
- AFXWIN/CEdit::LineIndex
- AFXWIN/CEdit::LineLength
- AFXWIN/CEdit::LineScroll
- AFXWIN/CEdit::Paste
- AFXWIN/CEdit::PosFromChar
- AFXWIN/CEdit::ReplaceSel
- AFXWIN/CEdit::SetCueBanner
- AFXWIN/CEdit::SetHandle
- AFXWIN/CEdit::SetHighlight
- AFXWIN/CEdit::SetLimitText
- AFXWIN/CEdit::SetMargins
- AFXWIN/CEdit::SetModify
- AFXWIN/CEdit::SetPasswordChar
- AFXWIN/CEdit::SetReadOnly
- AFXWIN/CEdit::SetRect
- AFXWIN/CEdit::SetRectNP
- AFXWIN/CEdit::SetSel
- AFXWIN/CEdit::SetTabStops
- AFXWIN/CEdit::ShowBalloonTip
- AFXWIN/CEdit::Undo
helpviewer_keywords:
- CEdit [MFC], CEdit
- CEdit [MFC], CanUndo
- CEdit [MFC], CharFromPos
- CEdit [MFC], Clear
- CEdit [MFC], Copy
- CEdit [MFC], Create
- CEdit [MFC], Cut
- CEdit [MFC], EmptyUndoBuffer
- CEdit [MFC], FmtLines
- CEdit [MFC], GetCueBanner
- CEdit [MFC], GetFirstVisibleLine
- CEdit [MFC], GetHandle
- CEdit [MFC], GetHighlight
- CEdit [MFC], GetLimitText
- CEdit [MFC], GetLine
- CEdit [MFC], GetLineCount
- CEdit [MFC], GetMargins
- CEdit [MFC], GetModify
- CEdit [MFC], GetPasswordChar
- CEdit [MFC], GetRect
- CEdit [MFC], GetSel
- CEdit [MFC], HideBalloonTip
- CEdit [MFC], LimitText
- CEdit [MFC], LineFromChar
- CEdit [MFC], LineIndex
- CEdit [MFC], LineLength
- CEdit [MFC], LineScroll
- CEdit [MFC], Paste
- CEdit [MFC], PosFromChar
- CEdit [MFC], ReplaceSel
- CEdit [MFC], SetCueBanner
- CEdit [MFC], SetHandle
- CEdit [MFC], SetHighlight
- CEdit [MFC], SetLimitText
- CEdit [MFC], SetMargins
- CEdit [MFC], SetModify
- CEdit [MFC], SetPasswordChar
- CEdit [MFC], SetReadOnly
- CEdit [MFC], SetRect
- CEdit [MFC], SetRectNP
- CEdit [MFC], SetSel
- CEdit [MFC], SetTabStops
- CEdit [MFC], ShowBalloonTip
- CEdit [MFC], Undo
ms.assetid: b1533c30-7f10-4663-88d3-8b7f2c9f7024
ms.openlocfilehash: ccf7445100977e1205bbcffe230e1919ac33adea
ms.sourcegitcommit: 46d24d6e70c03e05484923d9efc6ed5150e96a64
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/09/2019
ms.locfileid: "68916143"
---
# <a name="cedit-class"></a>CEdit Class

Предоставляет функции элемента управления редактированием Windows.

## <a name="syntax"></a>Синтаксис

```
class CEdit : public CWnd
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|name|Описание|
|----------|-----------------|
|[CEdit:: CEdit](#cedit)|Конструирует объект элемента управления. `CEdit`|

### <a name="public-methods"></a>Открытые методы

|name|Описание|
|----------|-----------------|
|[CEdit:: Канундо](#canundo)|Определяет, может ли быть отменена операция изменения элемента управления.|
|[CEdit:: Чарфромпос](#charfrompos)|Извлекает индексы строк и символов для символа, ближайшего к заданной позиции.|
|[CEdit:: Clear](#clear)|Удаляет (очищает) текущий выбор (если есть) в элементе управления "поле ввода".|
|[CEdit:: Copy](#copy)|Копирует текущее выделение (если оно имеется) из элемента управления "поле ввода" в буфер обмена в формате CF_TEXT.|
|[CEdit:: Create](#create)|Создает элемент управления Windows Edit и прикрепляет его к `CEdit` объекту.|
|[CEdit:: Cut](#cut)|Удаляет (вырезает) текущее выделение (если оно есть) в элементе управления "поле ввода" и копирует удаленный текст в буфер обмена в формате CF_TEXT.|
|[CEdit:: Емптюндобуффер](#emptyundobuffer)|Сбрасывает (очищает) флаг отмены для элемента управления "поле ввода".|
|[CEdit:: Фмтлинес](#fmtlines)|Задает включение или отключение символов мягкого разрыва строки в элементе управления "поле ввода" с несколькими строками.|
|[CEdit::GetCueBanner](#getcuebanner)|Извлекает текст, отображаемый в виде подсказки или подсказки, в элементе управления "поле ввода", если элемент управления пуст и не имеет фокуса.|
|[CEdit::GetFirstVisibleLine](#getfirstvisibleline)|Определяет самую верхнюю видимую строку в элементе управления "поле ввода".|
|[CEdit:: getHandler](#gethandle)|Извлекает маркер памяти, выделенной в данный момент для многострочного элемента управления "поле ввода".|
|[CEdit::GetHighlight](#gethighlight)|Возвращает индексы начального и конечного символов в диапазоне текста, выделенном в текущем элементе управления "поле ввода".|
|[CEdit::GetLimitText](#getlimittext)|Возвращает максимальный объем текста, который может `CEdit` содержаться в этом элементе.|
|[CEdit::GetLine](#getline)|Извлекает строку текста из элемента управления "поле ввода".|
|[CEdit::GetLineCount](#getlinecount)|Извлекает количество строк в элементе управления "поле ввода" с несколькими строками.|
|[CEdit::GetMargins](#getmargins)|Получает левое и правое поля для этого `CEdit`.|
|[CEdit::GetModify](#getmodify)|Определяет, было ли изменено содержимое элемента управления "поле ввода".|
|[CEdit::GetPasswordChar](#getpasswordchar)|Получает символ пароля, отображаемый в элементе управления "поле ввода", когда пользователь вводит текст.|
|[CEdit::GetRect](#getrect)|Возвращает прямоугольник форматирования элемента управления "поле ввода".|
|[CEdit::GetSel](#getsel)|Возвращает позицию первого и последнего символов текущего выделения в элементе управления "поле ввода".|
|[CEdit:: Хидебаллунтип](#hideballoontip)|Скрывает все всплывающие подсказки, связанные с текущим элементом управления "поле ввода".|
|[CEdit::LimitText](#limittext)|Ограничивает длину текста, который пользователь может ввести в элемент управления "поле ввода".|
|[CEdit::LineFromChar](#linefromchar)|Получает номер строки, содержащей указанный индекс символа.|
|[CEdit::LineIndex](#lineindex)|Возвращает индекс символа строки в элементе управления "поле ввода", поддерживающем несколько строк.|
|[CEdit::LineLength](#linelength)|Получает длину строки в элементе управления "поле ввода".|
|[CEdit:: Линескролл](#linescroll)|Прокручивает текст многострочного элемента управления Edit.|
|[CEdit::P вставить](#paste)|Вставляет данные из буфера обмена в элемент управления "поле ввода" в текущей позиции курсора. Данные вставляются только в том случае, если буфер обмена содержит данные в формате CF_TEXT.|
|[CEdit::P Осфромчар](#posfromchar)|Получает координаты верхнего левого угла указанного индекса символа.|
|[CEdit:: Реплацесел](#replacesel)|Заменяет текущий выбор в элементе управления "поле ввода" указанным текстом.|
|[CEdit::SetCueBanner](#setcuebanner)|Задает текст, отображаемый в качестве подсказки или подсказки, в элементе управления "поле ввода", если элемент управления пуст и не имеет фокуса.|
|[CEdit:: Сесандле](#sethandle)|Задает обработчик для локальной памяти, которая будет использоваться многострочным элементом управления "поле ввода".|
|[CEdit::SetHighlight](#sethighlight)|Выделяет диапазон текста, отображаемый в текущем элементе управления "поле ввода".|
|[CEdit::SetLimitText](#setlimittext)|Задает максимальный объем текста, который может `CEdit` содержаться в этом элементе.|
|[CEdit:: Сетмаргинс](#setmargins)|Задает левое и правое поля для этого `CEdit`.|
|[CEdit::SetModify](#setmodify)|Задает или очищает флаг изменения для элемента управления "поле ввода".|
|[CEdit::SetPasswordChar](#setpasswordchar)|Задает или удаляет символ пароля, отображаемый в элементе управления "поле ввода", когда пользователь вводит текст.|
|[CEdit::SetReadOnly](#setreadonly)|Задает состояние "только для чтения" элемента управления "поле ввода".|
|[CEdit:: SetRect](#setrect)|Задает прямоугольник форматирования для многострочного элемента управления "поле ввода" и обновляет элемент управления.|
|[CEdit::SetRectNP](#setrectnp)|Задает прямоугольник форматирования для многострочного элемента управления "поле ввода" без перерисовки окна элемента управления.|
|[CEdit::SetSel](#setsel)|Выбирает диапазон символов в элементе управления "изменение".|
|[CEdit:: Сеттабстопс](#settabstops)|Задает позицию табуляции в многострочном элементе управления Edit.|
|[CEdit:: Шовбаллунтип](#showballoontip)|Отображает всплывающую подсказку, связанную с текущим элементом управления "поле ввода".|
|[CEdit:: Undo](#undo)|Изменяет на противоположную последнюю операцию правки и управления.|

## <a name="remarks"></a>Примечания

Элемент управления "поле ввода" — это прямоугольное дочернее окно, в котором пользователь может ввести текст.

Элемент управления "изменение" можно создать либо из шаблона диалогового окна, либо непосредственно в коде. В обоих случаях `CEdit` сначала вызовите конструктор для `CEdit` создания объекта, а затем вызовите функцию [создания](#create) члена, чтобы создать элемент управления Windows `CEdit` Edit и присоединить его к объекту.

Построение может быть одношаговым процессом в классе, производном от `CEdit`. Напишите конструктор для производного класса и вызовите `Create` его в конструкторе.

`CEdit`наследует значительные функции от `CWnd`. Чтобы задать и `CEdit` извлечь текст из объекта, `CWnd` используйте функции-члены [SetWindowText](cwnd-class.md#setwindowtext) и [жетвиндовтекст](cwnd-class.md#getwindowtext), которые задают или получают все содержимое элемента управления "поле ввода", даже если это многострочный элемент управления. Текстовые строки в многострочном элементе управления разделяются последовательностями символов "\r\n". Кроме того, если элемент управления "поле ввода" является многострочным, можно получить и задать часть текста `CEdit` элемента управления [GetLine](#getline), [SetSel](#setsel), [GetSel](#getsel)и [ReplaceSel](#replacesel).

Если требуется работать с сообщениями уведомлений Windows, отправленными элементом управления "поле ввода" в родительский элемент ( `CDialog`обычно это класс, производный от), добавьте запись схемы сообщения и функцию-член обработчика сообщений в родительский класс для каждого сообщения.

Каждая запись схемы сообщений имеет следующий вид:

  **ON_** _Уведомление об_ **(** _идентификатор_ **,** _мемберфксн_ **)**

где `id` указывает идентификатор дочернего окна элемента управления "поле ввода", отправляющего уведомление, и `memberFxn` является именем родительской функции-члена, написанной для работы с уведомлением.

Прототип родительской функции выглядит следующим образом:

**afx_msg** void мемберфксн **();**

Ниже приведен список потенциальных записей схемы сообщений и описание вариантов, в которых они будут отправлены родительскому элементу:

- ON_EN_CHANGE пользователь выполнил действие, которое может изменить текст в элементе управления "поле ввода". В отличие от сообщения уведомления EN_UPDATE, это уведомление отправляется после того, как Windows обновляет экран.

- ON_EN_ERRSPACE. элемент управления "поле ввода" не может выделить достаточно памяти для удовлетворения конкретного запроса.

- ON_EN_HSCROLL. пользователь щелкает горизонтальную полосу прокрутки элемента управления Edit. Родительское окно уведомляется перед обновлением экрана.

- ON_EN_KILLFOCUS. элемент управления Edit теряет фокус ввода.

- ON_EN_MAXTEXT текущая Вставка превысила указанное количество символов для элемента управления "поле ввода" и было усечено. Также отправляется, если у элемента управления "поле ввода" нет стиля ES_AUTOHSCROLL и число вставляемых символов превысит ширину элемента управления "поле ввода". Также отправляется, если у элемента управления "поле ввода" нет стиля ES_AUTOVSCROLL, а общее число строк, полученное при вставке текста, превысит высоту элемента управления "поле ввода".

- ON_EN_SETFOCUS отправляется, когда элемент управления Edit получает фокус ввода.

- ON_EN_UPDATE. элемент управления "поле ввода" собирается отобразить измененный текст. Посылается после того, как элемент управления отформатирует текст, но перед выводом его на экран, чтобы при необходимости можно было изменить размер окна.

- ON_EN_VSCROLL пользователь щелкает вертикальную полосу прокрутки элемента управления Edit. Родительское окно уведомляется перед обновлением экрана.

При создании `CEdit` объекта в диалоговом окне `CEdit` объект автоматически уничтожается, когда пользователь закрывает диалоговое окно.

При создании `CEdit` объекта из диалогового ресурса с помощью редактора диалоговых окон `CEdit` объект автоматически уничтожается, когда пользователь закрывает диалоговое окно.

Если `CEdit` объект создается в окне, его также может потребоваться уничтожить. При создании `CEdit` объекта в стеке он уничтожается автоматически. При создании `CEdit` объекта в куче с помощью **новой** функции необходимо вызвать метод **Delete** для объекта, чтобы уничтожить его, когда пользователь завершает элемент управления Windows Edit. При выделении памяти в `CEdit` объекте `CEdit` Переопределите деструктор для удаления выделений.

Чтобы изменить определенные стили в элементе управления "поле ввода" (например, ES_READONLY), необходимо отправить определенные сообщения в элемент управления, а не использовать [модифистиле](cwnd-class.md#modifystyle). См. раздел [Edit Control Styles](/windows/desktop/Controls/edit-control-styles) в Windows SDK.

Дополнительные сведения о см `CEdit`. в разделе [элементы управления](../../mfc/controls-mfc.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CEdit`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

##  <a name="canundo"></a>CEdit:: Канундо

Вызовите эту функцию, чтобы определить, можно ли отменить последнюю операцию изменения.

```
BOOL CanUndo() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если последняя операция редактирования может быть отменена вызовом `Undo` функции-члена; 0, если ее нельзя отменить.

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [EM_CANUNDO](/windows/desktop/Controls/em-canundo) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEdit:: Undo](#undo).

##  <a name="cedit"></a>CEdit:: CEdit

Создает объект `CEdit`.

```
CEdit();
```

### <a name="remarks"></a>Примечания

Используйте [CREATE](#create) для создания элемента управления Windows Edit.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#1](../../mfc/reference/codesnippet/cpp/cedit-class_1.cpp)]

##  <a name="charfrompos"></a>CEdit:: Чарфромпос

Вызовите эту функцию, чтобы получить начинающуюся с нуля строку и индексы символов для символа, ближайшего к заданной точке этого `CEdit` элемента управления

```
int CharFromPos(CPoint pt) const;
```

### <a name="parameters"></a>Параметры

*pt*<br/>
Координаты точки в клиентской области этого `CEdit` объекта.

### <a name="return-value"></a>Возвращаемое значение

Индекс символа в СЛОВе нижнего порядка и индекс строки в СЛОВе высокого порядка.

### <a name="remarks"></a>Примечания

> [!NOTE]
>  Эта функция-член доступна начиная с Windows 95 и Windows NT 4,0.

Дополнительные сведения см. в разделе [EM_CHARFROMPOS](/windows/desktop/Controls/em-charfrompos) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#3](../../mfc/reference/codesnippet/cpp/cedit-class_2.cpp)]

##  <a name="clear"></a>CEdit:: Clear

Вызовите эту функцию, чтобы удалить (Очистить) текущее выделение (если таковое имеется) в элементе управления "поле ввода".

```
void Clear();
```

### <a name="remarks"></a>Примечания

Удаление, выполненное `Clear` , может быть отменено путем вызова функции [отмены](#undo) члена.

Чтобы удалить текущее выделение и поместить удаленное содержимое в буфер обмена, вызовите функцию [вырезания](#cut) члена.

Дополнительные сведения см. в разделе [WM_CLEAR](/windows/desktop/dataxchg/wm-clear) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#4](../../mfc/reference/codesnippet/cpp/cedit-class_3.cpp)]

##  <a name="copy"></a>  CEdit::Copy

Вызовите эту функцию, чтобы копирование текущий выбор (если таковой имеется) в элементе управления "поле ввода" к буферу обмена в формате CF_TEXT.

```
void Copy();
```

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [WM_COPY](/windows/desktop/dataxchg/wm-copy) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#5](../../mfc/reference/codesnippet/cpp/cedit-class_4.cpp)]

##  <a name="create"></a>CEdit:: Create

Создает элемент управления Windows Edit и прикрепляет его к `CEdit` объекту.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*двстиле*<br/>
Задает стиль элемента управления "поле ввода". Примените к элементу управления любое сочетание [стилей редактирования](styles-used-by-mfc.md#edit-styles) .

*rect*<br/>
Задает размер и расположение элемента управления "поле ввода". Может быть `CRect` объектом или `RECT` структурой.

*ппарентвнд*<br/>
Задает родительское окно элемента управления редактирования (обычно `CDialog`). Оно не должно иметь значение NULL.

*nID*<br/>
Указывает идентификатор элемента управления "поле ввода".

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если инициализация прошла успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

`CEdit` Объект создается в два этапа. Сначала вызовите `CEdit` конструктор, а затем вызовите метод `Create`, который создает элемент управления Windows Edit и `CEdit` присоединяет его к объекту.

Когда `Create` выполняется, Windows отправляет сообщения [WM_NCCREATE](/windows/desktop/winmsg/wm-nccreate), [WM_NCCALCSIZE](/windows/desktop/winmsg/wm-nccalcsize), [WM_CREATE](/windows/desktop/winmsg/wm-create)и [WM_GETMINMAXINFO](/windows/desktop/winmsg/wm-getminmaxinfo) в элемент управления "поле ввода".

Эти сообщения по умолчанию обрабатываются функциями элементов [OnNcCreate](cwnd-class.md#onnccreate), [OnNcCalcSize](cwnd-class.md#onnccalcsize), [OnCreate](cwnd-class.md#oncreate), и [OnGetMinMaxInfo](cwnd-class.md#ongetminmaxinfo) в базовом классе `CWnd`. Чтобы расширить обработку сообщений по умолчанию, создайте производный класс `CEdit`от, добавьте к новому классу схему сообщений и переопределите приведенные выше функции-члены обработчика сообщений. Переопределение `OnCreate`, например, для выполнения необходимой инициализации нового класса.

Применить следующие [стили окна](styles-used-by-mfc.md#window-styles) к элементу управления "поле ввода".

- WS_CHILD всегда

- WS_VISIBLE обычно

- WS_DISABLED редко

- WS_GROUP к элементам управления Group

- WS_TABSTOP включить элемент управления "поле ввода" в порядок табуляции

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#2](../../mfc/reference/codesnippet/cpp/cedit-class_5.cpp)]

##  <a name="cut"></a>  CEdit::Cut

Вызывайте эту функцию для удаления (вырезания) текущего выделения (если таковые имеются) в элементе управления "поле ввода" и копирования удаленного текста в буфер обмена в формате CF_TEXT.

```
void Cut();
```

### <a name="remarks"></a>Примечания

Удаление, выполненное `Cut` , может быть отменено путем вызова функции [отмены](#undo) члена.

Чтобы удалить текущее выделение без помещения удаленного текста в буфер обмена, вызовите функцию [clear](#clear) Member.

Дополнительные сведения см. в разделе [WM_CUT](/windows/desktop/dataxchg/wm-cut) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#6](../../mfc/reference/codesnippet/cpp/cedit-class_6.cpp)]

##  <a name="emptyundobuffer"></a>CEdit:: Емптюндобуффер

Вызывайте эту функцию для сброса (очистки) флага отмены элемента управления "поле ввода".

```
void EmptyUndoBuffer();
```

### <a name="remarks"></a>Примечания

Элемент управления "поле ввода" теперь не сможет отменить последнюю операцию. Флаг отмены задается каждый раз, когда операция в элементе управления "поле ввода" может быть отменена.

Флаг отмены автоматически снимается при вызове функций-членов [SetWindowText](../../mfc/reference/cwnd-class.md#setwindowtext) или [сесандле](#sethandle) `CWnd` .

Дополнительные сведения см. в разделе [EM_EMPTYUNDOBUFFER](/windows/desktop/Controls/em-emptyundobuffer) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#7](../../mfc/reference/codesnippet/cpp/cedit-class_7.cpp)]

##  <a name="fmtlines"></a>CEdit:: Фмтлинес

Вызывайте эту функцию, чтобы задать включение или отключение символов разрыва строки в многострочном элементе управления Edit.

```
BOOL FmtLines(BOOL bAddEOL);
```

### <a name="parameters"></a>Параметры

*баддеол*<br/>
Указывает, следует ли вставлять символы мягкого разрыва строки. Значение TRUE вставляет символы; значение FALSE удаляет их.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если происходит форматирование; в противном случае — 0.

### <a name="remarks"></a>Примечания

Мягкий разрыв строки состоит из двух возвратов каретки и перевода строки, вставленного в конец строки, которая была разорвана из-за переноса по словам. Фиксированный разрыв строки состоит из одного возврата каретки и перевода строки. Строки, заканчивающиеся жестким разрывом строки, не затрагиваются `FmtLines`.

Windows будет отвечать, только если `CEdit` объект является элементом управления редактирования с несколькими строками.

`FmtLines`влияет только на буфер, возвращаемый методом [getHandler](#gethandle) , и на текст, возвращаемый функцией [WM_GETTEXT](/windows/desktop/winmsg/wm-gettext). Он не влияет на отображение текста в элементе управления "поле ввода".

Дополнительные сведения см. в разделе [EM_FMTLINES](/windows/desktop/Controls/em-fmtlines) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#8](../../mfc/reference/codesnippet/cpp/cedit-class_8.cpp)]

##  <a name="getcuebanner"></a>  CEdit::GetCueBanner

Извлекает текст, отображаемый в виде подсказки или подсказки, в элементе управления "поле ввода", если элемент управления пуст.

```
BOOL GetCueBanner(
    LPWSTR lpszText,
    int cchText) const;

CString GetCueBanner() const;
```

### <a name="parameters"></a>Параметры

*lpszText*<br/>
заполняет Указатель на строку, содержащую текст подсказки.

*cchText*<br/>
окне Количество символов, которые могут быть получены. Это число включает завершающий нуль символ.

### <a name="return-value"></a>Возвращаемое значение

Для первой перегрузки — TRUE, если метод успешно выполнен; в противном случае — FALSE.

Для второй перегрузки — [CString](../../atl-mfc-shared/using-cstring.md) , содержащий текст подсказки, если метод выполнен успешно; в противном случае — пустая строка ("").

### <a name="remarks"></a>Примечания

Этот метод отправляет сообщение [EM_GETCUEBANNER](/windows/desktop/Controls/em-getcuebanner) , описанное в Windows SDK. Дополнительные сведения см. в описании макроса [Edit_GetCueBannerText](/windows/desktop/api/commctrl/nf-commctrl-edit_getcuebannertext) .

##  <a name="getfirstvisibleline"></a>  CEdit::GetFirstVisibleLine

Вызывайте эту функцию для определения самой верхней видимой строки в элементе управления "поле ввода".

```
int GetFirstVisibleLine() const;
```

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от нуля индекс самой верхней видимой строки. Для однострочных элементов управления редактирования возвращаемое значение равно 0.

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [EM_GETFIRSTVISIBLELINE](/windows/desktop/Controls/em-getfirstvisibleline) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#9](../../mfc/reference/codesnippet/cpp/cedit-class_9.cpp)]

##  <a name="gethandle"></a>CEdit:: getHandler

Вызывайте эту функцию для получения маркера памяти, выделенной в данный момент для многострочного элемента управления "поле ввода".

```
HLOCAL GetHandle() const;
```

### <a name="return-value"></a>Возвращаемое значение

Маркер локальной памяти, определяющий буфер, содержащий содержимое элемента управления "поле ввода". Если возникает ошибка, например Отправка сообщения в однострочный элемент управления Edit, то возвращаемое значение равно 0.

### <a name="remarks"></a>Примечания

Этот обработчик является локальным обработчиком памяти и может использоваться любой **локальной** функцией памяти Windows, которая принимает в качестве параметра обработчик локальной памяти.

`GetHandle`обрабатывается только многострочными элементами управления редактирования.

Вызов `GetHandle` для многострочного элемента управления "поле ввода" в диалоговом окне только в том случае, если диалоговое окно было создано с установленным флагом стиля DS_LOCALEDIT. Если стиль DS_LOCALEDIT не задан, вы по-прежнему получаете Ненулевое возвращаемое значение, но вы не сможете использовать возвращаемое значение.

> [!NOTE]
> `GetHandle`не будет работать с Windows 95/98. При вызове `GetHandle` в Windows 95/98 будет возвращено значение null. `GetHandle`будет работать, как описано в Windows NT, версии 3,51 и более поздних версиях.

Дополнительные сведения см. в разделе [EM_GETHANDLE](/windows/desktop/Controls/em-gethandle) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#10](../../mfc/reference/codesnippet/cpp/cedit-class_10.cpp)]

##  <a name="gethighlight"></a>  CEdit::GetHighlight

Возвращает индексы первого и последнего символов в диапазоне текста, выделенном в текущем элементе управления "поле ввода".

```
BOOL GetHighlight(
    int* pichStart,
    int* pichEnd) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*пичстарт*|заполняет Отсчитываемый от нуля индекс первого символа в выделенном фрагменте текста.|
|*пиченд*|заполняет Отсчитываемый от нуля индекс последнего символа в выделенном фрагменте текста.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Этот метод отправляет сообщение [EM_GETHILITE](/windows/desktop/Controls/em-gethilite) , описанное в Windows SDK. `SetHighlight` И`GetHighlight` в настоящее время включены только для сборок Юникода.

##  <a name="getlimittext"></a>  CEdit::GetLimitText

Вызовите эту функцию члена, чтобы получить ограничение текста для `CEdit` этого объекта.

```
UINT GetLimitText() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущее ограничение текста для этого `CEdit` объекта в тчарс.

### <a name="remarks"></a>Примечания

Ограничение текста — это максимальный объем текста в Тчарс, который может быть принят элементом управления "поле ввода".

> [!NOTE]
>  Эта функция-член доступна начиная с Windows 95 и Windows NT 4,0.

Дополнительные сведения см. в разделе [EM_GETLIMITTEXT](/windows/desktop/Controls/em-getlimittext) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#11](../../mfc/reference/codesnippet/cpp/cedit-class_11.cpp)]

##  <a name="getline"></a>  CEdit::GetLine

Вызывайте эту функцию для получения строки текста из элемента управления "поле ввода" и помещает ее в *лпсзбуффер*.

```
int GetLine(
    int nIndex,
    LPTSTR lpszBuffer) const;

int GetLine(
    int nIndex,
    LPTSTR lpszBuffer,
    int nMaxLength) const;
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
Указывает номер строки, извлекаемой из многострочного элемента управления "поле ввода". Номера строк отсчитываются от нуля; значение 0 указывает первую строку. Этот параметр игнорируется с помощью однострочного элемента управления Edit.

*лпсзбуффер*<br/>
Указывает на буфер, который получает копию строки. В первом слове буфера должно быть указано максимальное число Тчарс, которые могут быть скопированы в буфер.

*нмаксленгс*<br/>
Указывает максимальное число символов TCHAR, которые могут быть скопированы в буфер. `GetLine`помещает это значение в первое слово *лпсзбуффер* перед выполнением вызова в Windows.

### <a name="return-value"></a>Возвращаемое значение

Число фактически скопированных символов. Возвращаемое значение равно 0, если номер строки, указанный параметром *ниндекс* , больше числа строк в элементе управления "поле ввода".

### <a name="remarks"></a>Примечания

Скопированная строка не содержит завершающего символа null.

Дополнительные сведения см. в разделе [EM_GETLINE](/windows/desktop/Controls/em-getline) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEdit:: жетлинекаунт](#getlinecount).

##  <a name="getlinecount"></a>  CEdit::GetLineCount

Вызовите эту функцию, чтобы получить количество строк в элементе управления "поле ввода" с несколькими строками.

```
int GetLineCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Целое число, содержащее число строк в элементе управления "поле ввода" с несколькими строками. Если в элементе управления "поле ввода" не введен текст, возвращаемое значение равно 1.

### <a name="remarks"></a>Примечания

`GetLineCount`обрабатывается только многострочными элементами управления редактирования.

Дополнительные сведения см. в разделе [EM_GETLINECOUNT](/windows/desktop/Controls/em-getlinecount) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#12](../../mfc/reference/codesnippet/cpp/cedit-class_12.cpp)]

##  <a name="getmargins"></a>  CEdit::GetMargins

Вызовите эту функцию члена, чтобы получить левое и правое поля элемента управления "поле ввода".

```
DWORD GetMargins() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ширина левого поля в СЛОВе нижнего порядка и ширина правого поля в высоком порядке.

### <a name="remarks"></a>Примечания

Поля измеряются в пикселях.

> [!NOTE]
>  Эта функция-член доступна начиная с Windows 95 и Windows NT 4,0.

Дополнительные сведения см. в разделе [EM_GETMARGINS](/windows/desktop/Controls/em-getmargins) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEditView:: жетедитктрл](ceditview-class.md#geteditctrl).

##  <a name="getmodify"></a>  CEdit::GetModify

Вызовите эту функцию, чтобы определить, было ли изменено содержимое элемента управления "поле ввода".

```
BOOL GetModify() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если содержимое элемента управления правки было изменено; 0, если они остались неизменными.

### <a name="remarks"></a>Примечания

Windows поддерживает внутренний флаг, указывающий, было ли изменено содержимое элемента управления "поле ввода". Этот флаг снимается при создании элемента управления "поле ввода" и может также быть сброшен путем вызова функции-члена [сетмодифи](#setmodify) .

Дополнительные сведения см. в разделе [EM_GETMODIFY](/windows/desktop/Controls/em-getmodify) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#13](../../mfc/reference/codesnippet/cpp/cedit-class_13.cpp)]

##  <a name="getpasswordchar"></a>  CEdit::GetPasswordChar

Вызовите эту функцию, чтобы получить символ пароля, отображаемый в элементе управления "поле ввода", когда пользователь вводит текст.

```
TCHAR GetPasswordChar() const;
```

### <a name="return-value"></a>Возвращаемое значение

Задает символ, который будет отображаться вместо символа, введенного пользователем. Возвращаемое значение равно NULL, если символ пароля не существует.

### <a name="remarks"></a>Примечания

Если вы создаете элемент управления Edit с стилем ES_PASSWORD, то DLL-библиотека, которая поддерживает этот элемент управления, определяет символ пароля по умолчанию. Манифест или метод [InitCommonControlsEx](/windows/desktop/api/commctrl/nf-commctrl-initcommoncontrolsex) определяет, какая библиотека DLL поддерживает элемент управления "поле ввода". Если user32. dll поддерживает элемент управления "поле ввода", символом пароля по умолчанию будет ЗВЕЗДОЧка ("*", U + 002A). Если comctl32. dll поддерживает элемент управления Edit, то символом по умолчанию будет черный круг (' ● ', U + 25CF). Дополнительные сведения о том, какая библиотека DLL и версия поддерживает общие элементы управления, см. в разделе [версии оболочки и стандартных элементов управления](/previous-versions/windows/desktop/legacy/bb776779\(v=vs.85\)).

Этот метод отправляет сообщение [EM_GETPASSWORDCHAR](/windows/desktop/Controls/em-getpasswordchar) , описанное в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#14](../../mfc/reference/codesnippet/cpp/cedit-class_14.cpp)]

##  <a name="getrect"></a>  CEdit::GetRect

Вызовите эту функцию, чтобы получить прямоугольник форматирования элемента управления "поле ввода".

```
void GetRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на `RECT` структуру, получающую прямоугольник форматирования.

### <a name="remarks"></a>Примечания

Прямоугольник форматирования — это ограничивающий прямоугольник текста, который не зависит от размера окна редактирования элемента управления.

Прямоугольник форматирования для многострочного элемента управления редактированием можно изменить с помощью функций-членов [SetRect](#setrect) и [сетректнп](#setrectnp) .

Дополнительные сведения см. в разделе [EM_GETRECT](/windows/desktop/Controls/em-getrect) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEdit:: лимиттекст](#limittext).

##  <a name="getsel"></a>  CEdit::GetSel

Вызывайте эту функцию, чтобы получить начальные и конечные позиции символов текущего выделения (если таковые имеются) в элементе управления "поле ввода", используя либо возвращаемое значение, либо параметры.

```
DWORD GetSel() const;

void GetSel(
    int& nStartChar,
    int& nEndChar) const;
```

### <a name="parameters"></a>Параметры

*нстартчар*<br/>
Ссылка на целое число, которое получит позиции первого символа в текущем выделенном фрагменте.

*нендчар*<br/>
Ссылка на целое число, которое получит позиции первого невыделенного символа после конца текущего выделения.

### <a name="return-value"></a>Возвращаемое значение

Версия, которая возвращает DWORD, возвращает значение, которое содержит начальную точку в слове нижнего уровня и позиции первого невыделенного символа после конца выделенного слова в высоком порядке.

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [EM_GETSEL](/windows/desktop/Controls/em-getsel) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#15](../../mfc/reference/codesnippet/cpp/cedit-class_15.cpp)]

##  <a name="hideballoontip"></a>CEdit:: Хидебаллунтип

Скрывает все всплывающие подсказки, связанные с текущим элементом управления "поле ввода".

```
BOOL HideBalloonTip();
```

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Эта функция отправляет сообщение [EM_HIDEBALLOONTIP](/windows/desktop/Controls/em-hideballoontip) , описанное в Windows SDK.

##  <a name="limittext"></a>  CEdit::LimitText

Вызывайте эту функцию, чтобы ограничить длину текста, который пользователь может ввести в элемент управления "поле ввода".

```
void LimitText(int nChars = 0);
```

### <a name="parameters"></a>Параметры

*типы nChar*<br/>
Задает длину (в Тчарс) текста, который может ввести пользователь. Если этот параметр имеет значение 0, то длина текста равна UINT_MAX байт. Это поведение установлено по умолчанию.

### <a name="remarks"></a>Примечания

Изменение ограничения текста ограничивает только текст, который может вводить пользователь. Он не влияет на текст, уже имеющийся в элементе управления "поле ввода", и не влияет на длину текста, скопированного в элемент управления "поле ввода" функцией члена [SetWindowText](cwnd-class.md#setwindowtext) в `CWnd`. Если приложение использует `SetWindowText` функцию для размещения большего текста в элементе управления "поле ввода" `LimitText`, чем указано в вызове, пользователь может удалить любой текст в элементе управления "поле ввода". Однако ограничение текста не позволит пользователю заменить существующий текст новым текстом, если только удаление текущего фрагмента текста не повлечет за пределы текста.

> [!NOTE]
>  В Win32 (Windows NT и Windows 95/98) функция [сетлимиттекст](#setlimittext) заменяет эту функцию.

Дополнительные сведения см. в разделе [EM_LIMITTEXT](/windows/desktop/Controls/em-limittext) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#17](../../mfc/reference/codesnippet/cpp/cedit-class_16.cpp)]

##  <a name="linefromchar"></a>  CEdit::LineFromChar

Вызовите эту функцию, чтобы получить номер строки, содержащей указанный индекс символа.

```
int LineFromChar(int nIndex = -1) const;
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
Содержит значение индекса, начинающееся с нуля, для требуемого символа в тексте элемента управления "поле ввода" или содержит-1. Если *ниндекс* имеет значение-1, то он задает текущую строку, то есть строку, содержащую курсор.

### <a name="return-value"></a>Возвращаемое значение

Номер строки (начинающийся с нуля) строки, содержащей индекс символа, заданный параметром *ниндекс*. Если *ниндекс* имеет значение-1, возвращается номер строки, содержащей первый символ выделения. Если ничего не выбрано, возвращается номер текущей строки.

### <a name="remarks"></a>Примечания

Символьный индекс — это число символов от начала элемента управления "поле ввода".

Эта функция-член используется только в многострочных элементах управления редактирования.

Дополнительные сведения см. в разделе [EM_LINEFROMCHAR](/windows/desktop/Controls/em-linefromchar) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#18](../../mfc/reference/codesnippet/cpp/cedit-class_17.cpp)]

##  <a name="lineindex"></a>  CEdit::LineIndex

Вызовите эту функцию, чтобы получить индекс символа строки в элементе управления "поле ввода" с несколькими строками.

```
int LineIndex(int nLine = -1) const;
```

### <a name="parameters"></a>Параметры

*nСтрока*<br/>
Содержит значение индекса для нужной строки в тексте элемента управления "поле ввода" или содержит-1. Если *nСтрока* имеет значение-1, то он задает текущую строку, то есть строку, содержащую курсор.

### <a name="return-value"></a>Возвращаемое значение

Индекс символа в строке, указанной в *nСтрока* , или-1, если номер строки больше числа строк в элементе управления "поле ввода".

### <a name="remarks"></a>Примечания

Индекс символа — это число символов от начала элемента управления "поле ввода" до указанной строки.

Эта функция-член обрабатывается только многострочными элементами управления Edit.

Дополнительные сведения см. в разделе [EM_LINEINDEX](/windows/desktop/controls/em-lineindex) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#19](../../mfc/reference/codesnippet/cpp/cedit-class_18.cpp)]

##  <a name="linelength"></a>  CEdit::LineLength

Получает длину строки в элементе управления "поле ввода".

```
int LineLength(int nLine = -1) const;
```

### <a name="parameters"></a>Параметры

*nСтрока*<br/>
Отсчитываемый от нуля индекс символа в строке, длину которого необходимо получить. Значение по умолчанию — -1.

### <a name="return-value"></a>Возвращаемое значение

Для однострочных элементов управления редактирования возвращаемое значение является длиной (в Тчарс) текста в элементе управления "поле ввода".

Для элементов управления многострочного редактирования возвращаемое значение — это длина в Тчарс строки, заданной параметром *nСтрока* . Для текста ANSI длина — это число байтов в строке; для текста в Юникоде длина — это число символов в строке. Длина не включает символ возврата каретки в конце строки.

Если параметр *nСтрока* больше числа символов в элементе управления, возвращаемое значение равно нулю.

Если параметр *nСтрока* равен-1, то возвращаемое значение равно количеству невыделенных символов в строках, содержащих выбранные символы. Например, если выделение распространяется от четвертого символа одной строки до восьмого символа от конца следующей строки, возвращается значение 10. То есть три символа в первой строке и семь на следующем.

Дополнительные сведения о типе TCHAR см. в строке TCHAR в таблице [типов данных Windows](/windows/desktop/WinProg/windows-data-types).

### <a name="remarks"></a>Примечания

Этот метод поддерживается сообщением [EM_LINELENGTH](/windows/desktop/Controls/em-linelength) , описанным в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEdit:: линеиндекс](#lineindex).

##  <a name="linescroll"></a>CEdit:: Линескролл

Вызывайте эту функцию для прокрутки текста элемента управления "поле ввода" с несколькими строками.

```
void LineScroll(
    int nLines,
    int nChars = 0);
```

### <a name="parameters"></a>Параметры

*нлинес*<br/>
Указывает число строк для вертикальной прокрутки.

*типы nChar*<br/>
Указывает количество позиций символов для горизонтальной прокрутки. Это значение игнорируется, если элемент управления "поле ввода" имеет стиль ES_RIGHT или ES_CENTER.

### <a name="remarks"></a>Примечания

Эта функция-член обрабатывается только многострочными элементами управления редактирования.

Элемент управления "поле ввода" не прокручивается вертикально за последней строкой текста в элементе управления "поле ввода". Если текущая строка плюс число строк, заданное параметром *нлинес* , превышает общее число строк в элементе управления "поле ввода", значение корректируется таким образом, что последняя строка элемента управления "поле ввода" прокручивается до верхней границы окна "Правка-элемент управления".

`LineScroll`можно использовать для прокрутки по горизонтали за последним символом любой строки.

Дополнительные сведения см. в разделе [EM_LINESCROLL](/windows/desktop/Controls/em-linescroll) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEdit:: жетфирствисиблелине](#getfirstvisibleline).

##  <a name="paste"></a>CEdit::P вставить

Вызовите эту функцию, чтобы вставить данные из буфера обмена `CEdit` в точку вставки.

```
void Paste();
```

### <a name="remarks"></a>Примечания

Данные вставляются только в том случае, если буфер обмена содержит данные в формате CF_TEXT.

Дополнительные сведения см. в разделе [WM_PASTE](/windows/desktop/dataxchg/wm-paste) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#20](../../mfc/reference/codesnippet/cpp/cedit-class_19.cpp)]

##  <a name="posfromchar"></a>CEdit::P Осфромчар

Вызывайте эту функцию для получения позиции (верхнего левого угла) заданного символа в этом `CEdit` объекте.

```
CPoint PosFromChar(UINT nChar) const;
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Отсчитываемый от нуля индекс указанного символа.

### <a name="return-value"></a>Возвращаемое значение

Координаты верхнего левого угла символа, заданного параметром *nchar*.

### <a name="remarks"></a>Примечания

Символ задается путем предоставления значения индекса, начинающегося с нуля. Если *nchar* больше, чем индекс последнего символа в этом `CEdit` объекте, возвращаемое значение указывает координаты положения символа сразу после последнего символа в этом `CEdit` объекте.

> [!NOTE]
>  Эта функция-член доступна начиная с Windows 95 и Windows NT 4,0.

Дополнительные сведения см. в разделе [EM_POSFROMCHAR](/windows/desktop/Controls/em-posfromchar) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEdit:: линефромчар](#linefromchar).

##  <a name="replacesel"></a>CEdit:: Реплацесел

Вызовите эту функцию, чтобы заменить текущий выбор в элементе управления "поле ввода" текстом, заданным параметром *лпсзневтекст*.

```
void ReplaceSel(LPCTSTR lpszNewText, BOOL bCanUndo = FALSE);
```

### <a name="parameters"></a>Параметры

*лпсзневтекст*<br/>
Указывает на строку, завершающуюся нулем, содержащую текст замены.

*бканундо*<br/>
Чтобы указать, что эту функцию можно отменить, присвойте этому параметру значение TRUE. Значение по умолчанию — FALSE.

### <a name="remarks"></a>Примечания

Заменяет только часть текста в элементе управления "поле ввода". Если требуется заменить весь текст, используйте функцию члена [CWnd:: SetWindowText](cwnd-class.md#setwindowtext) .

Если текущий выбор отсутствует, замещающий текст вставляется в текущую позицию курсора.

Дополнительные сведения см. в разделе [EM_REPLACESEL](/windows/desktop/Controls/em-replacesel) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEdit:: линеиндекс](#lineindex).

##  <a name="setcuebanner"></a>  CEdit::SetCueBanner

Задает текст, отображаемый в качестве подсказки или подсказки, в элементе управления "поле ввода", если элемент управления пуст.

```
BOOL SetCueBanner(LPCWSTR lpszText);

BOOL SetCueBanner(
    LPCWSTR lpszText,
    BOOL fDrawWhenFocused = FALSE);
```

### <a name="parameters"></a>Параметры

*lpszText*<br/>
окне Указатель на строку, содержащую подсказку, отображаемую в элементе управления "поле ввода".

*фдраввхенфокусед*<br/>
окне Если значение равно FALSE, баннер подсказки не рисуется, когда пользователь щелкает элемент управления Edit и передает управление фокусу.

Если значение равно TRUE, баннер подсказки рисуется даже в том случае, если элемент управления имеет фокус. Баннер подсказки исчезает, когда пользователь начинает вводить элемент управления.

Значение по умолчанию — FALSE.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод успешно выполнен; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Этот метод отправляет сообщение [EM_SETCUEBANNER](/windows/desktop/Controls/em-setcuebanner) , описанное в Windows SDK. Дополнительные сведения см. в описании макроса [Edit_SetCueBannerTextFocused](/windows/desktop/api/commctrl/nf-commctrl-edit_setcuebannertextfocused) .

### <a name="example"></a>Пример

В следующем примере демонстрируется метод [CEdit:: сеткуебаннер](#setcuebanner) .

[!code-cpp[NVC_MFC_CEdit_s1#2](../../mfc/reference/codesnippet/cpp/cedit-class_20.cpp)]

##  <a name="sethandle"></a>CEdit:: Сесандле

Вызовите эту функцию, чтобы задать в качестве маркера локальную память, которая будет использоваться многострочным элементом управления Edit.

```
void SetHandle(HLOCAL hBuffer);
```

### <a name="parameters"></a>Параметры

*хбуффер*<br/>
Содержит маркер локальной памяти. Этот обработчик должен быть создан предыдущим вызовом функции Windows [локалаллок](/windows/desktop/api/winbase/nf-winbase-localalloc) с помощью флага LMEM_MOVEABLE. Предполагается, что память содержит строку, завершающуюся нулем. Если это не так, то первым байтом выделенной памяти должно быть присвоено значение 0.

### <a name="remarks"></a>Примечания

Элемент управления "поле ввода" будет использовать этот буфер для хранения отображаемого текста вместо выделения собственного буфера.

Эта функция-член обрабатывается только многострочными элементами управления редактирования.

Прежде чем приложение установит новый обработчик памяти, оно должно использовать функцию-член [getHandler](#gethandle) для получения маркера в текущий буфер памяти и освободить эту память с помощью `LocalFree` функции Windows.

`SetHandle` очищает буфер отмены (функция-член [CanUndo](#canundo) возвращает 0), а внутренний флаг изменения (функция-член [GetModify](#getmodify) затем возвращает 0). Перерисовывается окно Правка — управление.

Эту функцию-член можно использовать в многострочном элементе управления "поле ввода" в диалоговом окне, только если вы создали диалоговое окно с установленным флагом стиля DS_LOCALEDIT.

> [!NOTE]
> `GetHandle`не будет работать с Windows 95/98. При вызове `GetHandle` в Windows 95/98 будет возвращено значение null. `GetHandle`будет работать, как описано в Windows NT, версии 3,51 и более поздних версиях.

Дополнительные сведения см. в разделе [EM_SETHANDLE](/windows/desktop/Controls/em-sethandle), [локалаллок](/windows/desktop/api/winbase/nf-winbase-localalloc)и [функции LocalFree](/windows/desktop/api/winbase/nf-winbase-localfree) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#22](../../mfc/reference/codesnippet/cpp/cedit-class_21.cpp)]

##  <a name="sethighlight"></a>  CEdit::SetHighlight

Выделяет диапазон текста, отображаемый в текущем элементе управления "поле ввода".

```
void SetHighlight(
    int ichStart,
    int ichEnd);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*ичстарт*|окне Отсчитываемый от нуля индекс первого символа в выделенном фрагменте текста.|
|*иченд*|окне Отсчитываемый от нуля индекс последнего символа в выделенном фрагменте текста.|

### <a name="remarks"></a>Примечания

Этот метод отправляет сообщение [EM_SETHILITE](/windows/desktop/Controls/em-sethilite) , описанное в Windows SDK.  Этот метод отправляет сообщение [EM_SETHILITE](/windows/desktop/Controls/em-sethilite) , описанное в Windows SDK. И, `GetHighlight` и включены только для сборок Юникода. `SetHighlight`

##  <a name="setlimittext"></a>  CEdit::SetLimitText

Вызовите эту функцию члена, чтобы задать предельный `CEdit` размер текста для этого объекта.

```
void SetLimitText(UINT nMax);
```

### <a name="parameters"></a>Параметры

*Nмакс.*<br/>
Новое ограничение текста в символах.

### <a name="remarks"></a>Примечания

Ограничение текста — это максимальный объем текста в символах, который может быть принят элементом управления "поле ввода".

Изменение ограничения текста ограничивает только текст, который может вводить пользователь. Он не влияет на текст, уже имеющийся в элементе управления "поле ввода", и не влияет на длину текста, скопированного в элемент управления "поле ввода" функцией члена [SetWindowText](cwnd-class.md#setwindowtext) в `CWnd`. Если приложение использует `SetWindowText` функцию для размещения большего текста в элементе управления "поле ввода" `LimitText`, чем указано в вызове, пользователь может удалить любой текст в элементе управления "поле ввода". Однако ограничение текста не позволит пользователю заменить существующий текст новым текстом, если только удаление текущего фрагмента текста не повлечет за пределы текста.

Эта функция заменяет [лимиттекст](#limittext) в Win32.

Дополнительные сведения см. в разделе [EM_SETLIMITTEXT](/windows/desktop/Controls/em-setlimittext) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEditView:: жетедитктрл](ceditview-class.md#geteditctrl).

##  <a name="setmargins"></a>CEdit:: Сетмаргинс

Вызовите этот метод, чтобы задать левое и правое поля элемента управления "поле ввода".

```
void SetMargins(
    UINT nLeft,
    UINT nRight);
```

### <a name="parameters"></a>Параметры

*нлефт*<br/>
Ширина нового левого поля в пикселях.

*нригхт*<br/>
Ширина нового правого поля в пикселях.

### <a name="remarks"></a>Примечания

> [!NOTE]
>  Эта функция-член доступна начиная с Windows 95 и Windows NT 4,0.

Дополнительные сведения см. в разделе [EM_SETMARGINS](/windows/desktop/Controls/em-setmargins) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEditView:: жетедитктрл](ceditview-class.md#geteditctrl).

##  <a name="setmodify"></a>CEdit:: Сетмодифи

Вызовите эту функцию, чтобы установить или очистить измененный флаг для элемента управления "поле ввода".

```
void SetModify(BOOL bModified = TRUE);
```

### <a name="parameters"></a>Параметры

*бмодифиед*<br/>
Значение TRUE указывает, что текст был изменен, а значение FALSE указывает на то, что оно не изменено. По умолчанию измененный флаг установлен.

### <a name="remarks"></a>Примечания

Измененный флаг показывает, был ли изменен текст в элементе управления "поле ввода". Он автоматически задается при каждом изменении пользователем текста. Его значение можно получить с помощью функции члена [GetModify](#getmodify).

Дополнительные сведения см. в разделе [EM_SETMODIFY](/windows/desktop/Controls/em-setmodify) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEdit:: Modify](#getmodify).

##  <a name="setpasswordchar"></a>  CEdit::SetPasswordChar

Вызывайте эту функцию, чтобы задать или удалить символ пароля, отображаемый в элементе управления "поле ввода", когда пользователь вводит текст.

```
void SetPasswordChar(TCHAR ch);
```

### <a name="parameters"></a>Параметры

*ch*<br/>
Указывает символ, отображаемый вместо символа, введенного пользователем. Если значение *CH* равно 0, то отображаются фактические символы, вводимые пользователем.

### <a name="remarks"></a>Примечания

Если задан символ пароля, этот символ отображается для каждого символа, который пользователь вводит.

Эта функция-член не влияет на многострочный элемент управления Edit.

При вызове функции- `SetPasswordChar` члена будетперерисовыватьвсевидимыесимволы,используясимвол,`CEdit` указанный в CH.

Если элемент управления "поле ввода" создается с использованием стиля [ES_PASSWORD](styles-used-by-mfc.md#edit-styles) , то символом пароля по умолчанию будет <strong>\*</strong>звездочка (). Этот стиль удаляется, `SetPasswordChar` если метод вызывается с параметром *CH* , имеющим значение 0.

Дополнительные сведения см. в разделе [EM_SETPASSWORDCHAR](/windows/desktop/Controls/em-setpasswordchar) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#16](../../mfc/reference/codesnippet/cpp/cedit-class_22.cpp)]

##  <a name="setreadonly"></a>CEdit:: SetReadOnly

Вызывает эту функцию, чтобы установить состояние "только для чтения" элемента управления "поле ввода".

```
BOOL SetReadOnly(BOOL bReadOnly = TRUE);
```

### <a name="parameters"></a>Параметры

*бреадонли*<br/>
Указывает, следует ли устанавливать или удалять состояние "только для чтения" элемента управления "поле ввода". Значение TRUE задает состояние "только для чтения". значение FALSE задает состояние для чтения и записи.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если операция выполнена успешно, или значение 0, если возникает ошибка.

### <a name="remarks"></a>Примечания

Текущий параметр можно найти, проверив флаг [ES_READONLY](styles-used-by-mfc.md#edit-styles) в возвращаемом значении [CWnd::](cwnd-class.md#getstyle)noreturn.

Дополнительные сведения см. в разделе [EM_SETREADONLY](/windows/desktop/Controls/em-setreadonly) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#23](../../mfc/reference/codesnippet/cpp/cedit-class_23.cpp)]

##  <a name="setrect"></a>CEdit:: SetRect

Вызовите эту функцию, чтобы задать размеры прямоугольника, используя указанные координаты.

```
void SetRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на `RECT` структуру или `CRect` объект, указывающие новые размеры прямоугольника форматирования.

### <a name="remarks"></a>Примечания

Этот элемент обрабатывается только многострочными элементами управления редактирования.

Используйте `SetRect` , чтобы задать прямоугольник форматирования для многострочного элемента управления "поле ввода". Прямоугольник форматирования — это ограничивающий прямоугольник текста, который не зависит от размера окна редактирования элемента управления. При первом создании элемента управления "поле ввода" прямоугольник форматирования совпадает с клиентской областью окна редактирования. С помощью `SetRect` функции-члена приложение может сделать прямоугольник форматирования больше или меньше, чем окно Edit-Control.

Если у элемента управления "поле ввода" нет полосы прокрутки, текст будет обрезан, а не упакован, если размер прямоугольника форматирования больше окна. Если элемент управления "поле ввода" содержит границу, размер прямоугольника форматирования уменьшается по размеру границы. При настройке прямоугольника, возвращаемого `GetRect` функцией члена, необходимо удалить размер границы перед передачей прямоугольника в. `SetRect`

При `SetRect` вызове метода редактирования текст элемента управления правки также переформатируется и отображается повторно.

Дополнительные сведения см. в разделе [EM_SETRECT](/windows/desktop/Controls/em-setrect) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#24](../../mfc/reference/codesnippet/cpp/cedit-class_24.cpp)]

##  <a name="setrectnp"></a>  CEdit::SetRectNP

Вызовите эту функцию, чтобы задать прямоугольник форматирования для многострочного элемента управления Edit.

```
void SetRectNP(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на `RECT` структуру или `CRect` объект, указывающие новые размеры прямоугольника.

### <a name="remarks"></a>Примечания

Прямоугольник форматирования — это ограничивающий прямоугольник текста, который не зависит от размера окна редактирования элемента управления.

`SetRectNP`функция идентична `SetRect` функции-члену, за исключением того, что окно Edit-Control не перерисовывается.

При первом создании элемента управления "поле ввода" прямоугольник форматирования совпадает с клиентской областью окна редактирования. Вызывая функцию- `SetRectNP` член, приложение может сделать прямоугольник форматирования больше или меньше, чем окно Edit-Control.

Если у элемента управления "поле ввода" нет полосы прокрутки, текст будет обрезан, а не упакован, если размер прямоугольника форматирования больше окна.

Этот элемент обрабатывается только многострочными элементами управления редактирования.

Дополнительные сведения см. в разделе [EM_SETRECTNP](/windows/desktop/Controls/em-setrectnp) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEdit:: SetRect](#setrect).

##  <a name="setsel"></a>  CEdit::SetSel

Вызовите эту функцию, чтобы выбрать диапазон символов в элементе управления "изменение".

```
void SetSel(
    DWORD dwSelection,
    BOOL bNoScroll = FALSE);

void SetSel(
    int nStartChar,
    int nEndChar,
    BOOL bNoScroll = FALSE);
```

### <a name="parameters"></a>Параметры

*двселектион*<br/>
Задает начальную точку в слове нижнего порядка и конечную точку в высоком порядке. Если младшее слово равно 0, а высокое — значение-1, то выделяется весь текст в элементе управления "поле ввода". Если слово нижнего порядка имеет значение-1, все выделенные элементы удаляются.

*бноскролл*<br/>
Указывает, следует ли прокручивать курсор на представление. Если значение равно FALSE, курсор прокручивается в представление. Если значение равно TRUE, курсор не прокручивается в представление.

*нстартчар*<br/>
Задает начальную точку. Если *нстартчар* имеет значение 0, а *нендчар* имеет значение-1, то выделяется весь текст в элементе управления "поле ввода". Если *нстартчар* имеет значение-1, все выделенные элементы удаляются.

*нендчар*<br/>
Задает конечную точку.

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [EM_SETSEL](/windows/desktop/Controls/em-setsel) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEdit:: жетсел](#getsel).

##  <a name="settabstops"></a>CEdit:: Сеттабстопс

Вызовите эту функцию, чтобы задать позиции табуляции в элементе управления "поле ввода" с несколькими строками.

```
void SetTabStops();
BOOL SetTabStops(const int& cxEachStop);

BOOL SetTabStops(
    int nTabStops,
    LPINT rgTabStops);
```

### <a name="parameters"></a>Параметры

*кксеачстоп*<br/>
Указывает, что позиции табуляции должны быть заданы во всех единицах диалогового окна *кксеачстоп* .

*нтабстопс*<br/>
Указывает количество единиц табуляции, содержащихся в *ргтабстопс*. Это число должно быть больше 1.

*ргтабстопс*<br/>
Указывает на массив целых чисел без знака, указывающий позиции табуляции в единицах диалогового окна. Единица диалогового окна — это расстояние по горизонтали или вертикали. Одна горизонтальная единица диалогового окна равна одной четвертой единицы текущей базовой ширины диалогового окна, а 1 вертикальная единица измерения равна одной восьмой базовой единицы высоты текущего диалогового окна. Базовые единицы диалогового окна вычисляются на основе высоты и ширины текущего системного шрифта. Функция `GetDialogBaseUnits` Windows возвращает текущие базовые единицы диалогового окна в пикселях.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если вкладки заданы; в противном случае — 0.

### <a name="remarks"></a>Примечания

Когда текст копируется в многострочный элемент управления Edit, любой символ табуляции в тексте приведет к формированию пространства до следующей позиции табуляции.

Чтобы задать для позиции табуляции размер по умолчанию (32), вызовите эту функцию члена без параметров. Чтобы задать для позиции табуляции размер, отличный от 32, вызовите версию с помощью параметра *кксеачстоп* . Чтобы задать позиции табуляции для массива размеров, используйте версию с двумя параметрами.

Эта функция-член обрабатывается только многострочными элементами управления Edit.

`SetTabStops`не перерисовывает окно редактирования автоматически. Если изменить позиции табуляции для текста, уже нарисованного в элементе управления "поле ввода", вызовите [CWnd:: инвалидатерект](cwnd-class.md#invalidaterect) , чтобы перерисовать окно редактирования.

Дополнительные сведения см. в разделе [EM_SETTABSTOPS](/windows/desktop/Controls/em-settabstops) и [жетдиалогбасеунитс](/windows/desktop/api/winuser/nf-winuser-getdialogbaseunits) в Windows SDK.

### <a name="example"></a>Пример

  См. пример для [CEditView:: сеттабстопс](ceditview-class.md#settabstops).

##  <a name="showballoontip"></a>CEdit:: Шовбаллунтип

Отображает всплывающую подсказку, связанную с текущим элементом управления "поле ввода".

```
BOOL ShowBalloonTip(PEDITBALLOONTIP pEditBalloonTip);

BOOL ShowBalloonTip(
    LPCWSTR lpszTitle,
    LPCWSTR lpszText,
    INT ttiIcon = TTI_NONE);
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------------|-----------------|
|*педитбаллунтип*|окне Указатель на структуру [едитбаллунтип](/windows/desktop/api/commctrl/ns-commctrl-editballoontip) , описывающую всплывающую подсказку.|
|*лпсзтитле*|окне Указатель на строку в Юникоде, содержащую заголовок всплывающей подсказки.|
|*lpszText*|окне Указатель на строку в Юникоде, содержащую текст всплывающей подсказки.|
|*ттиикон*|окне Значение типа **int** , указывающее тип значка, связываемого с подсказкой. Значение по умолчанию — TTI_NONE. Дополнительные сведения см. в `ttiIcon` описании члена структуры [едитбаллунтип](/windows/desktop/api/commctrl/ns-commctrl-editballoontip) .|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Примечания

Эта функция отправляет сообщение [EM_SHOWBALLOONTIP](/windows/desktop/Controls/em-showballoontip) , описанное в Windows SDK. Дополнительные сведения см. в описании макроса [Edit_ShowBalloonTip](/windows/desktop/api/commctrl/nf-commctrl-edit_showballoontip) .

### <a name="example"></a>Пример

В следующем примере кода определяется переменная, `m_cedit`которая используется для доступа к текущему элементу управления "поле ввода". Эта переменная используется в следующем примере.

[!code-cpp[NVC_MFC_CEdit_s1#1](../../mfc/reference/codesnippet/cpp/cedit-class_25.h)]

### <a name="example"></a>Пример

В следующем примере кода выводится всплывающая подсказка для элемента управления Edit. Метод [CEdit:: шовбаллунтип](#showballoontip) задает заголовок и текст всплывающей подсказки.

[!code-cpp[NVC_MFC_CEdit_s1#3](../../mfc/reference/codesnippet/cpp/cedit-class_26.cpp)]

##  <a name="undo"></a>CEdit:: Undo

Вызовите эту функцию, чтобы отменить последнюю операцию элемента управления Edit-Control.

```
BOOL Undo();
```

### <a name="return-value"></a>Возвращаемое значение

Для элемента управления "поле ввода" с одной строкой возвращаемое значение всегда равно нулю. Для элемента управления редактирования с несколькими строками возвращаемое значение не равно нулю, если операция отмены выполнена успешно, или 0, если операция отмены завершается неудачно.

### <a name="remarks"></a>Примечания

Операция отмены также может быть отменена. Например, можно восстановить удаленный текст при первом вызове метода `Undo`. Пока нет промежуточных операций редактирования, можно удалить текст еще раз с помощью второго вызова `Undo`.

Дополнительные сведения см. в разделе [EM_UNDO](/windows/desktop/Controls/em-undo) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFC_CEdit#25](../../mfc/reference/codesnippet/cpp/cedit-class_27.cpp)]

## <a name="see-also"></a>См. также

[Пример CALCDRIV в MFC](../../overview/visual-cpp-samples.md)<br/>
[Пример CMNCTRL2 для MFC](../../overview/visual-cpp-samples.md)<br/>
[Класс CWnd](../../mfc/reference/cwnd-class.md)<br/>
[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Класс CWnd](cwnd-class.md)<br/>
[Класс CButton](cbutton-class.md)<br/>
[Класс CComboBox](ccombobox-class.md)<br/>
[Класс CListBox](clistbox-class.md)<br/>
[Класс CScrollBar](cscrollbar-class.md)<br/>
[Класс CStatic](cstatic-class.md)<br/>
[Класс CDialog](cdialog-class.md)
