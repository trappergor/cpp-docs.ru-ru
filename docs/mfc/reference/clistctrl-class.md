---
title: Класс CListCtrl
ms.date: 06/13/2019
f1_keywords:
- CListCtrl
- AFXCMN/CListCtrl
- AFXCMN/CListCtrl::CListCtrl
- AFXCMN/CListCtrl::ApproximateViewRect
- AFXCMN/CListCtrl::Arrange
- AFXCMN/CListCtrl::CancelEditLabel
- AFXCMN/CListCtrl::Create
- AFXCMN/CListCtrl::CreateDragImage
- AFXCMN/CListCtrl::CreateEx
- AFXCMN/CListCtrl::DeleteAllItems
- AFXCMN/CListCtrl::DeleteColumn
- AFXCMN/CListCtrl::DeleteItem
- AFXCMN/CListCtrl::DrawItem
- AFXCMN/CListCtrl::EditLabel
- AFXCMN/CListCtrl::EnableGroupView
- AFXCMN/CListCtrl::EnsureVisible
- AFXCMN/CListCtrl::FindItem
- AFXCMN/CListCtrl::GetBkColor
- AFXCMN/CListCtrl::GetBkImage
- AFXCMN/CListCtrl::GetCallbackMask
- AFXCMN/CListCtrl::GetCheck
- AFXCMN/CListCtrl::GetColumn
- AFXCMN/CListCtrl::GetColumnOrderArray
- AFXCMN/CListCtrl::GetColumnWidth
- AFXCMN/CListCtrl::GetCountPerPage
- AFXCMN/CListCtrl::GetEditControl
- AFXCMN/CListCtrl::GetEmptyText
- AFXCMN/CListCtrl::GetExtendedStyle
- AFXCMN/CListCtrl::GetFirstSelectedItemPosition
- AFXCMN/CListCtrl::GetFocusedGroup
- AFXCMN/CListCtrl::GetGroupCount
- AFXCMN/CListCtrl::GetGroupInfo
- AFXCMN/CListCtrl::GetGroupInfoByIndex
- AFXCMN/CListCtrl::GetGroupMetrics
- AFXCMN/CListCtrl::GetGroupRect
- AFXCMN/CListCtrl::GetGroupState
- AFXCMN/CListCtrl::GetHeaderCtrl
- AFXCMN/CListCtrl::GetHotCursor
- AFXCMN/CListCtrl::GetHotItem
- AFXCMN/CListCtrl::GetHoverTime
- AFXCMN/CListCtrl::GetImageList
- AFXCMN/CListCtrl::GetInsertMark
- AFXCMN/CListCtrl::GetInsertMarkColor
- AFXCMN/CListCtrl::GetInsertMarkRect
- AFXCMN/CListCtrl::GetItem
- AFXCMN/CListCtrl::GetItemCount
- AFXCMN/CListCtrl::GetItemData
- AFXCMN/CListCtrl::GetItemIndexRect
- AFXCMN/CListCtrl::GetItemPosition
- AFXCMN/CListCtrl::GetItemRect
- AFXCMN/CListCtrl::GetItemSpacing
- AFXCMN/CListCtrl::GetItemState
- AFXCMN/CListCtrl::GetItemText
- AFXCMN/CListCtrl::GetNextItem
- AFXCMN/CListCtrl::GetNextItemIndex
- AFXCMN/CListCtrl::GetNextSelectedItem
- AFXCMN/CListCtrl::GetNumberOfWorkAreas
- AFXCMN/CListCtrl::GetOrigin
- AFXCMN/CListCtrl::GetOutlineColor
- AFXCMN/CListCtrl::GetSelectedColumn
- AFXCMN/CListCtrl::GetSelectedCount
- AFXCMN/CListCtrl::GetSelectionMark
- AFXCMN/CListCtrl::GetStringWidth
- AFXCMN/CListCtrl::GetSubItemRect
- AFXCMN/CListCtrl::GetTextBkColor
- AFXCMN/CListCtrl::GetTextColor
- AFXCMN/CListCtrl::GetTileInfo
- AFXCMN/CListCtrl::GetTileViewInfo
- AFXCMN/CListCtrl::GetToolTips
- AFXCMN/CListCtrl::GetTopIndex
- AFXCMN/CListCtrl::GetView
- AFXCMN/CListCtrl::GetViewRect
- AFXCMN/CListCtrl::GetWorkAreas
- AFXCMN/CListCtrl::HasGroup
- AFXCMN/CListCtrl::HitTest
- AFXCMN/CListCtrl::InsertColumn
- AFXCMN/CListCtrl::InsertGroup
- AFXCMN/CListCtrl::InsertGroupSorted
- AFXCMN/CListCtrl::InsertItem
- AFXCMN/CListCtrl::InsertMarkHitTest
- AFXCMN/CListCtrl::IsGroupViewEnabled
- AFXCMN/CListCtrl::IsItemVisible
- AFXCMN/CListCtrl::MapIDToIndex
- AFXCMN/CListCtrl::MapIndexToID
- AFXCMN/CListCtrl::MoveGroup
- AFXCMN/CListCtrl::MoveItemToGroup
- AFXCMN/CListCtrl::RedrawItems
- AFXCMN/CListCtrl::RemoveAllGroups
- AFXCMN/CListCtrl::RemoveGroup
- AFXCMN/CListCtrl::Scroll
- AFXCMN/CListCtrl::SetBkColor
- AFXCMN/CListCtrl::SetBkImage
- AFXCMN/CListCtrl::SetCallbackMask
- AFXCMN/CListCtrl::SetCheck
- AFXCMN/CListCtrl::SetColumn
- AFXCMN/CListCtrl::SetColumnOrderArray
- AFXCMN/CListCtrl::SetColumnWidth
- AFXCMN/CListCtrl::SetExtendedStyle
- AFXCMN/CListCtrl::SetGroupInfo
- AFXCMN/CListCtrl::SetGroupMetrics
- AFXCMN/CListCtrl::SetHotCursor
- AFXCMN/CListCtrl::SetHotItem
- AFXCMN/CListCtrl::SetHoverTime
- AFXCMN/CListCtrl::SetIconSpacing
- AFXCMN/CListCtrl::SetImageList
- AFXCMN/CListCtrl::SetInfoTip
- AFXCMN/CListCtrl::SetInsertMark
- AFXCMN/CListCtrl::SetInsertMarkColor
- AFXCMN/CListCtrl::SetItem
- AFXCMN/CListCtrl::SetItemCount
- AFXCMN/CListCtrl::SetItemCountEx
- AFXCMN/CListCtrl::SetItemData
- AFXCMN/CListCtrl::SetItemIndexState
- AFXCMN/CListCtrl::SetItemPosition
- AFXCMN/CListCtrl::SetItemState
- AFXCMN/CListCtrl::SetItemText
- AFXCMN/CListCtrl::SetOutlineColor
- AFXCMN/CListCtrl::SetSelectedColumn
- AFXCMN/CListCtrl::SetSelectionMark
- AFXCMN/CListCtrl::SetTextBkColor
- AFXCMN/CListCtrl::SetTextColor
- AFXCMN/CListCtrl::SetTileInfo
- AFXCMN/CListCtrl::SetTileViewInfo
- AFXCMN/CListCtrl::SetToolTips
- AFXCMN/CListCtrl::SetView
- AFXCMN/CListCtrl::SetWorkAreas
- AFXCMN/CListCtrl::SortGroups
- AFXCMN/CListCtrl::SortItems
- AFXCMN/CListCtrl::SortItemsEx
- AFXCMN/CListCtrl::SubItemHitTest
- AFXCMN/CListCtrl::Update
helpviewer_keywords:
- CListCtrl [MFC], CListCtrl
- CListCtrl [MFC], ApproximateViewRect
- CListCtrl [MFC], Arrange
- CListCtrl [MFC], CancelEditLabel
- CListCtrl [MFC], Create
- CListCtrl [MFC], CreateDragImage
- CListCtrl [MFC], CreateEx
- CListCtrl [MFC], DeleteAllItems
- CListCtrl [MFC], DeleteColumn
- CListCtrl [MFC], DeleteItem
- CListCtrl [MFC], DrawItem
- CListCtrl [MFC], EditLabel
- CListCtrl [MFC], EnableGroupView
- CListCtrl [MFC], EnsureVisible
- CListCtrl [MFC], FindItem
- CListCtrl [MFC], GetBkColor
- CListCtrl [MFC], GetBkImage
- CListCtrl [MFC], GetCallbackMask
- CListCtrl [MFC], GetCheck
- CListCtrl [MFC], GetColumn
- CListCtrl [MFC], GetColumnOrderArray
- CListCtrl [MFC], GetColumnWidth
- CListCtrl [MFC], GetCountPerPage
- CListCtrl [MFC], GetEditControl
- CListCtrl [MFC], GetEmptyText
- CListCtrl [MFC], GetExtendedStyle
- CListCtrl [MFC], GetFirstSelectedItemPosition
- CListCtrl [MFC], GetFocusedGroup
- CListCtrl [MFC], GetGroupCount
- CListCtrl [MFC], GetGroupInfo
- CListCtrl [MFC], GetGroupInfoByIndex
- CListCtrl [MFC], GetGroupMetrics
- CListCtrl [MFC], GetGroupRect
- CListCtrl [MFC], GetGroupState
- CListCtrl [MFC], GetHeaderCtrl
- CListCtrl [MFC], GetHotCursor
- CListCtrl [MFC], GetHotItem
- CListCtrl [MFC], GetHoverTime
- CListCtrl [MFC], GetImageList
- CListCtrl [MFC], GetInsertMark
- CListCtrl [MFC], GetInsertMarkColor
- CListCtrl [MFC], GetInsertMarkRect
- CListCtrl [MFC], GetItem
- CListCtrl [MFC], GetItemCount
- CListCtrl [MFC], GetItemData
- CListCtrl [MFC], GetItemIndexRect
- CListCtrl [MFC], GetItemPosition
- CListCtrl [MFC], GetItemRect
- CListCtrl [MFC], GetItemSpacing
- CListCtrl [MFC], GetItemState
- CListCtrl [MFC], GetItemText
- CListCtrl [MFC], GetNextItem
- CListCtrl [MFC], GetNextItemIndex
- CListCtrl [MFC], GetNextSelectedItem
- CListCtrl [MFC], GetNumberOfWorkAreas
- CListCtrl [MFC], GetOrigin
- CListCtrl [MFC], GetOutlineColor
- CListCtrl [MFC], GetSelectedColumn
- CListCtrl [MFC], GetSelectedCount
- CListCtrl [MFC], GetSelectionMark
- CListCtrl [MFC], GetStringWidth
- CListCtrl [MFC], GetSubItemRect
- CListCtrl [MFC], GetTextBkColor
- CListCtrl [MFC], GetTextColor
- CListCtrl [MFC], GetTileInfo
- CListCtrl [MFC], GetTileViewInfo
- CListCtrl [MFC], GetToolTips
- CListCtrl [MFC], GetTopIndex
- CListCtrl [MFC], GetView
- CListCtrl [MFC], GetViewRect
- CListCtrl [MFC], GetWorkAreas
- CListCtrl [MFC], HasGroup
- CListCtrl [MFC], HitTest
- CListCtrl [MFC], InsertColumn
- CListCtrl [MFC], InsertGroup
- CListCtrl [MFC], InsertGroupSorted
- CListCtrl [MFC], InsertItem
- CListCtrl [MFC], InsertMarkHitTest
- CListCtrl [MFC], IsGroupViewEnabled
- CListCtrl [MFC], IsItemVisible
- CListCtrl [MFC], MapIDToIndex
- CListCtrl [MFC], MapIndexToID
- CListCtrl [MFC], MoveGroup
- CListCtrl [MFC], MoveItemToGroup
- CListCtrl [MFC], RedrawItems
- CListCtrl [MFC], RemoveAllGroups
- CListCtrl [MFC], RemoveGroup
- CListCtrl [MFC], Scroll
- CListCtrl [MFC], SetBkColor
- CListCtrl [MFC], SetBkImage
- CListCtrl [MFC], SetCallbackMask
- CListCtrl [MFC], SetCheck
- CListCtrl [MFC], SetColumn
- CListCtrl [MFC], SetColumnOrderArray
- CListCtrl [MFC], SetColumnWidth
- CListCtrl [MFC], SetExtendedStyle
- CListCtrl [MFC], SetGroupInfo
- CListCtrl [MFC], SetGroupMetrics
- CListCtrl [MFC], SetHotCursor
- CListCtrl [MFC], SetHotItem
- CListCtrl [MFC], SetHoverTime
- CListCtrl [MFC], SetIconSpacing
- CListCtrl [MFC], SetImageList
- CListCtrl [MFC], SetInfoTip
- CListCtrl [MFC], SetInsertMark
- CListCtrl [MFC], SetInsertMarkColor
- CListCtrl [MFC], SetItem
- CListCtrl [MFC], SetItemCount
- CListCtrl [MFC], SetItemCountEx
- CListCtrl [MFC], SetItemData
- CListCtrl [MFC], SetItemIndexState
- CListCtrl [MFC], SetItemPosition
- CListCtrl [MFC], SetItemState
- CListCtrl [MFC], SetItemText
- CListCtrl [MFC], SetOutlineColor
- CListCtrl [MFC], SetSelectedColumn
- CListCtrl [MFC], SetSelectionMark
- CListCtrl [MFC], SetTextBkColor
- CListCtrl [MFC], SetTextColor
- CListCtrl [MFC], SetTileInfo
- CListCtrl [MFC], SetTileViewInfo
- CListCtrl [MFC], SetToolTips
- CListCtrl [MFC], SetView
- CListCtrl [MFC], SetWorkAreas
- CListCtrl [MFC], SortGroups
- CListCtrl [MFC], SortItems
- CListCtrl [MFC], SortItemsEx
- CListCtrl [MFC], SubItemHitTest
- CListCtrl [MFC], Update
ms.assetid: fe08a1ca-4b05-4ff7-a12a-ee4c765a2197
ms.openlocfilehash: 83d7c0223e2ca4a40560e29932beca1f17f74f80
ms.sourcegitcommit: 63784729604aaf526de21f6c6b62813882af930a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/17/2020
ms.locfileid: "79442683"
---
# <a name="clistctrl-class"></a>Класс CListCtrl

Инкапсулирует функциональность элемента управления "список", который отображает коллекцию элементов, где каждый элемент состоит из значка (списка изображений) и метки.

## <a name="syntax"></a>Синтаксис

```
class CListCtrl : public CWnd
```

## <a name="members"></a>Члены

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Description|
|----------|-----------------|
|[CListCtrl:: CListCtrl](#clistctrl)|Формирует объект `CListCtrl`.|

### <a name="public-methods"></a>Открытые методы

|Имя|Description|
|----------|-----------------|
|[CListCtrl:: Аппроксиматевиеврект](#approximateviewrect)|Определяет ширину и высоту, необходимые для отображения элементов элемента управления "представление списка".|
|[CListCtrl:: упорядочение](#arrange)|Выровняйте элементы в сетке.|
|[CListCtrl:: Канцеледитлабел](#canceleditlabel)|Отменяет операцию изменения текста элемента.|
|[CListCtrl:: Create](#create)|Создает элемент управления "список" и прикрепляет его к объекту `CListCtrl`.|
|[CListCtrl:: Креатедрагимаже](#createdragimage)|Создает список изображений для перетаскивания для указанного элемента.|
|[CListCtrl:: Креатикс](#createex)|Создает элемент управления "список" с указанными расширенными стилями Windows и прикрепляет его к объекту `CListCtrl`.|
|[CListCtrl::D Елетеаллитемс](#deleteallitems)|Удаляет все элементы из элемента управления.|
|[CListCtrl::D Елетеколумн](#deletecolumn)|Удаляет столбец из элемента управления "представление списка".|
|[CListCtrl::D Елетеитем](#deleteitem)|Удаляет элемент из элемента управления.|
|[CListCtrl::D Равитем](#drawitem)|Вызывается при изменении визуального аспекта элемента управления, рисуемого владельцем.|
|[CListCtrl:: Едитлабел](#editlabel)|Начинает редактирование текста элемента на месте.|
|[CListCtrl:: Енаблеграупвиев](#enablegroupview)|Включает или отключает отображение элементов в элементе управления "список" в виде группы.|
|[CListCtrl:: Енсуревисибле](#ensurevisible)|Гарантирует, что элемент является видимым.|
|[CListCtrl:: FindItem](#finditem)|Выполняет поиск элемента представления списка с указанными характеристиками.|
|[CListCtrl:: Жетбкколор](#getbkcolor)|Возвращает цвет фона для элемента управления "представление списка".|
|[CListCtrl:: Жетбкимаже](#getbkimage)|Извлекает текущее фоновое изображение элемента управления "представление списка".|
|[CListCtrl:: Жеткаллбаккмаск](#getcallbackmask)|Извлекает маску обратного вызова для элемента управления "представление списка".|
|[CListCtrl:: Check](#getcheck)|Извлекает текущее состояние отображения изображения состояния, связанного с элементом.|
|[CListCtrl:: DataColumn](#getcolumn)|Извлекает атрибуты столбца элемента управления.|
|[CListCtrl:: Жетколумнордераррай](#getcolumnorderarray)|Возвращает порядок столбцов (слева направо) элемента управления "представление списка".|
|[CListCtrl:: Жетколумнвидс](#getcolumnwidth)|Получает ширину столбца в представлении отчета или в виде списка.|
|[CListCtrl:: Жеткаунтперпаже](#getcountperpage)|Вычисляет количество элементов, которые могут быть размещены вертикально в элементе управления "представление списка".|
|[CListCtrl:: Жетедитконтрол](#geteditcontrol)|Получает маркер элемента управления "поле ввода", используемый для изменения текста элемента.|
|[CListCtrl::GetEmptyText](#getemptytext)|Возвращает строку, которая будет отображаться, если текущий элемент управления "представление списка" пуст.|
|[CListCtrl:: Жетекстендедстиле](#getextendedstyle)|Извлекает текущие расширенные стили элемента управления "представление списка".|
|[CListCtrl:: Жетфирстселектедитемпоситион](#getfirstselecteditemposition)|Извлекает позицию первого выбранного элемента представления списка в элементе управления "представление списка".|
|[CListCtrl::GetFocusedGroup](#getfocusedgroup)|Извлекает группу, имеющую фокус клавиатуры в текущем элементе управления "представление списка".|
|[CListCtrl:: Жетграупкаунт](#getgroupcount)|Возвращает количество групп в текущем элементе управления "представление списка".|
|[CListCtrl:: Жетграупинфо](#getgroupinfo)|Возвращает сведения для указанной группы элемента управления "представление списка".|
|[CListCtrl:: Жетграупинфобиндекс](#getgroupinfobyindex)|Извлекает сведения об указанной группе в текущем элементе управления "представление списка".|
|[CListCtrl:: Жетграупметрикс](#getgroupmetrics)|Извлекает метрики группы.|
|[CListCtrl:: Жетграупрект](#getgrouprect)|Извлекает ограничивающий прямоугольник для указанной группы в текущем элементе управления "представление списка".|
|[CListCtrl:: Жетграупстате](#getgroupstate)|Возвращает состояние указанной группы в текущем элементе управления "представление списка".|
|[CListCtrl:: Жесеадерктрл](#getheaderctrl)|Возвращает элемент управления "заголовок" элемента управления "представление списка".|
|[CListCtrl:: Жесоткурсор](#gethotcursor)|Получает курсор, используемый, если для элемента управления "представление списка" включено отслеживание с активной функцией.|
|[CListCtrl:: Жесотитем](#gethotitem)|Извлекает элемент представления списка, находящегося в данный момент в курсоре.|
|[CListCtrl:: Жесовертиме](#gethovertime)|Возвращает текущее время наведения элемента управления представления списка.|
|[CListCtrl::/ImageList](#getimagelist)|Получает маркер списка изображений, используемый для элементов представления списка рисования.|
|[CListCtrl:: Жетинсертмарк](#getinsertmark)|Извлекает текущую позицию метки вставки.|
|[CListCtrl:: Жетинсертмаркколор](#getinsertmarkcolor)|Извлекает текущий цвет метки вставки.|
|[CListCtrl:: Жетинсертмаркрект](#getinsertmarkrect)|Извлекает прямоугольник, ограничивающий точку вставки.|
|[CListCtrl:: DataItem](#getitem)|Извлекает атрибуты элемента представления списка.|
|[CListCtrl::GetItemCount](#getitemcount)|Возвращает число элементов в элементе управления "представление списка".|
|[CListCtrl:: Жетитемдата](#getitemdata)|Возвращает зависящее от приложения значение, связанное с элементом.|
|[CListCtrl::GetItemIndexRect](#getitemindexrect)|Извлекает ограничивающий прямоугольник для всей или части подэлемента в текущем элементе управления "список-представление".|
|[CListCtrl:: Жетитемпоситион](#getitemposition)|Возвращает позицию элемента представления списка.|
|[CListCtrl:: Жетитемрект](#getitemrect)|Извлекает ограничивающий прямоугольник для элемента.|
|[CListCtrl:: ЖетитемспаЦинг](#getitemspacing)|Вычисляет интервал между элементами в текущем элементе управления "представление списка".|
|[CListCtrl:: Жетитемстате](#getitemstate)|Возвращает состояние элемента представления списка.|
|[CListCtrl::GetItemText](#getitemtext)|Извлекает текст элемента представления списка или подэлемента.|
|[CListCtrl::GetNextItem](#getnextitem)|Выполняет поиск элемента представления списка с указанными свойствами и с указанным отношением с заданным элементом.|
|[CListCtrl::GetNextItemIndex](#getnextitemindex)|Получает индекс элемента в текущем элементе управления "представление списка", имеющий указанный набор свойств.|
|[CListCtrl::GetNextSelectedItem](#getnextselecteditem)|Извлекает индекс позиции элемента представления списка и позицию следующего выбранного элемента представления списка для итерации.|
|[CListCtrl:: Жетнумберофворкареас](#getnumberofworkareas)|Извлекает текущее количество рабочих областей для элемента управления "представление списка".|
|[CListCtrl:: Origin](#getorigin)|Возвращает источник текущего представления для элемента управления представления списка.|
|[CListCtrl::GetOutlineColor](#getoutlinecolor)|Возвращает цвет границы элемента управления "представление списка".|
|[CListCtrl:: Жетселектедколумн](#getselectedcolumn)|Извлекает индекс выбранного в данный момент столбца в элементе управления "список".|
|[CListCtrl:: Жетселектедкаунт](#getselectedcount)|Извлекает число выбранных элементов в элементе управления "представление списка".|
|[CListCtrl:: Жетселектионмарк](#getselectionmark)|Извлекает метку выделения для элемента управления представления списка.|
|[CListCtrl:: Жетстрингвидс](#getstringwidth)|Определяет минимальную ширину столбца, необходимую для вывода всей заданной строки.|
|[CListCtrl:: Жетсубитемрект](#getsubitemrect)|Извлекает ограничивающий прямоугольник элемента в элементе управления "представление списка".|
|[CListCtrl:: Жеттекстбкколор](#gettextbkcolor)|Извлекает цвет фона текста для элемента управления "представление списка".|
|[CListCtrl::GetTextColor](#gettextcolor)|Извлекает цвет текста элемента управления "представление списка".|
|[CListCtrl:: Жеттилеинфо](#gettileinfo)|Извлекает сведения о плитке в элементе управления "представление списка".|
|[CListCtrl:: Жеттилевиевинфо](#gettileviewinfo)|Извлекает сведения о элементе управления "представление списка" в мозаичном представлении.|
|[CListCtrl:: подсказки](#gettooltips)|Извлекает элемент управления ToolTip, используемый элементом управления "список" для отображения всплывающих подсказок.|
|[CListCtrl:: Жеттопиндекс](#gettopindex)|Извлекает индекс самого верхнего видимого элемента.|
|[CListCtrl:: View](#getview)|Возвращает представление элемента управления "представление списка".|
|[CListCtrl:: Жетвиеврект](#getviewrect)|Извлекает ограничивающий прямоугольник всех элементов в элементе управления "представление списка".|
|[CListCtrl:: Жетворкареас](#getworkareas)|Извлекает текущие рабочие области элемента управления "представление списка".|
|[CListCtrl:: Хасграуп](#hasgroup)|Определяет, имеет ли элемент управления "представление списка" указанную группу.|
|[CListCtrl:: HitTest](#hittest)|Определяет, какой элемент представления списка находится в указанной позиции.|
|[CListCtrl:: Инсертколумн](#insertcolumn)|Вставляет новый столбец в элемент управления "представление списка".|
|[CListCtrl:: Инсертграуп](#insertgroup)|Вставляет группу в элемент управления представлением списка.|
|[CListCtrl:: Инсертграупсортед](#insertgroupsorted)|Вставляет указанную группу в упорядоченный список групп.|
|[CListCtrl:: InsertItem](#insertitem)|Вставляет новый элемент в элемент управления "представление списка".|
|[CListCtrl:: Инсертмаркхиттест](#insertmarkhittest)|Извлекает точку вставки, ближайшую к заданной точке.|
|[CListCtrl:: Исграупвиевенаблед](#isgroupviewenabled)|Определяет, включено ли представление группы для элемента управления "представление списка".|
|[CListCtrl:: Иситемвисибле](#isitemvisible)|Указывает, является ли видимым указанный элемент в текущем элементе управления "представление списка".|
|[CListCtrl:: Мапидтоиндекс](#mapidtoindex)|Сопоставляет уникальный идентификатор элемента в текущем элементе управления "список-представление" с индексом.|
|[CListCtrl::MapIndexToID](#mapindextoid)|Сопоставляет индекс элемента в текущем элементе управления "представление списка" с уникальным ИДЕНТИФИКАТОРом.|
|[CListCtrl:: Мовеграуп](#movegroup)|Перемещает указанную группу.|
|[CListCtrl:: Мовеитемтограуп](#moveitemtogroup)|Перемещает указанную группу в указанный Отсчитываемый от нуля индекс элемента управления "представление списка".|
|[CListCtrl:: Редравитемс](#redrawitems)|Заставляет элемент управления представления списка перерисовывать диапазон элементов.|
|[CListCtrl:: Ремовеаллграупс](#removeallgroups)|Удаляет все группы из элемента управления представлением списка.|
|[CListCtrl:: Ремовеграуп](#removegroup)|Удаляет указанную группу из элемента управления представлением списка.|
|[CListCtrl:: Scroll](#scroll)|Прокручивает содержимое элемента управления "представление списка".|
|[CListCtrl:: Сетбкколор](#setbkcolor)|Задает цвет фона для элемента управления "представление списка".|
|[CListCtrl:: Сетбкимаже](#setbkimage)|Задает текущее фоновое изображение для элемента управления представления списка.|
|[CListCtrl:: Сеткаллбаккмаск](#setcallbackmask)|Задает маску обратного вызова для элемента управления представления списка.|
|[CListCtrl:: Сетчекк](#setcheck)|Задает текущее состояние отображения для изображения состояния, связанного с элементом.|
|[CListCtrl:: Сетколумн](#setcolumn)|Задает атрибуты столбца представления списка.|
|[CListCtrl:: Сетколумнордераррай](#setcolumnorderarray)|Задает порядок столбцов (слева направо) элемента управления "представление списка".|
|[CListCtrl:: Сетколумнвидс](#setcolumnwidth)|Изменяет ширину столбца в представлении отчета или в виде списка.|
|[CListCtrl:: Сетекстендедстиле](#setextendedstyle)|Задает текущие расширенные стили элемента управления "представление списка".|
|[CListCtrl:: Сетграупинфо](#setgroupinfo)|Задает сведения для указанной группы элемента управления представления списка.|
|[CListCtrl:: Сетграупметрикс](#setgroupmetrics)|Задает метрики группы для элемента управления представления списка.|
|[CListCtrl:: Сесоткурсор](#sethotcursor)|Задает курсор, используемый при включенном отключении отслеживания для элемента управления "представление списка".|
|[CListCtrl:: Сесотитем](#sethotitem)|Задает текущий активный элемент элемента управления "представление списка".|
|[CListCtrl:: Сесовертиме](#sethovertime)|Задает текущее время наведения на элемент управления представления списка.|
|[CListCtrl:: СетиконспаЦинг](#seticonspacing)|Задает интервал между значками в элементе управления "представление списка".|
|[CListCtrl:: Сетимажелист](#setimagelist)|Присваивает список изображений элементу управления "представление списка".|
|[CListCtrl:: Сетинфотип](#setinfotip)|Задает текст подсказки.|
|[CListCtrl:: Сетинсертмарк](#setinsertmark)|Задает точку вставки в заданную позицию.|
|[CListCtrl:: Сетинсертмаркколор](#setinsertmarkcolor)|Задает цвет точки вставки.|
|[CListCtrl:: Сетитем](#setitem)|Задает некоторые или все атрибуты элемента представления списка.|
|[CListCtrl::SetItemCount](#setitemcount)|Подготавливает элемент управления "представление списка" для добавления большого количества элементов.|
|[CListCtrl:: Сетитемкаунтекс](#setitemcountex)|Задает число элементов для элемента управления виртуального представления списка.|
|[CListCtrl:: Сетитемдата](#setitemdata)|Задает значение элемента для конкретного приложения.|
|[CListCtrl:: Сетитеминдексстате](#setitemindexstate)|Задает состояние элемента в текущем элементе управления "представление списка".|
|[CListCtrl:: Сетитемпоситион](#setitemposition)|Перемещает элемент в указанную позицию в элементе управления "представление списка".|
|[CListCtrl:: Сетитемстате](#setitemstate)|Изменяет состояние элемента в элементе управления "представление списка".|
|[CListCtrl::SetItemText](#setitemtext)|Изменяет текст элемента представления списка или подэлемента.|
|[CListCtrl::SetOutlineColor](#setoutlinecolor)|Задает цвет границы элемента управления "представление списка".|
|[CListCtrl:: Сетселектедколумн](#setselectedcolumn)|Задает выбранный столбец элемента управления "представление списка".|
|[CListCtrl:: Сетселектионмарк](#setselectionmark)|Задает отметку выделения для элемента управления представления списка.|
|[CListCtrl:: Сеттекстбкколор](#settextbkcolor)|Задает цвет фона для текста в элементе управления "представление списка".|
|[CListCtrl::SetTextColor](#settextcolor)|Задает цвет текста для элемента управления "представление списка".|
|[CListCtrl:: Сеттилеинфо](#settileinfo)|Задает сведения для плитки элемента управления представления списка.|
|[CListCtrl:: Сеттилевиевинфо](#settileviewinfo)|Задает сведения, используемые элементом управления "представление списка" в мозаичном представлении.|
|[CListCtrl:: Сеттултипс](#settooltips)|Задает элемент управления ToolTip, который будет использоваться элементом управления "представление списка" для отображения всплывающих подсказок.|
|[CListCtrl:: Сетвиев](#setview)|Задает представление элемента управления "представление списка".|
|[CListCtrl:: Сетворкареас](#setworkareas)|Задает область, в которой значки могут отображаться в элементе управления "представление списка".|
|[CListCtrl:: Сортграупс](#sortgroups)|Сортирует группы элемента управления представления списка с помощью определяемой пользователем функции.|
|[CListCtrl:: Сортитемс](#sortitems)|Сортирует элементы представления списка с помощью определяемой приложением функции сравнения.|
|[CListCtrl:: Сортитемсекс](#sortitemsex)|Сортирует элементы представления списка с помощью определяемой приложением функции сравнения.|
|[CListCtrl:: Субитемхиттест](#subitemhittest)|Определяет, какой элемент представления списка (если имеется) находится в заданной позиции.|
|[CListCtrl:: Update](#update)|Заставляет элемент управления перерисовывать указанный элемент.|

## <a name="remarks"></a>Remarks

В дополнение к значку и метке каждый элемент может отображать сведения в столбцах справа от значка и метки. Этот элемент управления (и, следовательно, класс `CListCtrl`) доступен только для программ, работающих под управлением Windows 95/98 и Windows NT версии 3,51 и более поздних версий.

Ниже приведен краткий обзор класса `CListCtrl`. Подробное концептуальное обсуждение см. в разделе [Использование CListCtrl](../../mfc/using-clistctrl.md) и [элементов управления](../../mfc/controls-mfc.md).

## <a name="views"></a>Представления

Элементы управления "представление списка" могут отображать их содержимое четырьмя разными способами, называемыми "представлениями".

- Представление значков

   Каждый элемент отображается в виде полного значка (32 x 32 пикселей) с меткой под ней. Пользователь может перетаскивать элементы в любое место в окне представления списка.

- Небольшое представление значка

   Каждый элемент отображается в виде маленького значка (16 x 16 пикселей) с меткой справа от нее. Пользователь может перетаскивать элементы в любое место в окне представления списка.

- Режим списка

   Каждый элемент отображается в виде маленького значка с меткой справа от него. Элементы размещаются в столбцах и не могут быть перемещены в любое место в окне представления списка.

- Представление отчетов

   Каждый элемент отображается в отдельной строке с дополнительными сведениями, расположенными справа. Крайний левый столбец содержит маленький значок и метку, а последующие столбцы содержат подэлементы, заданные приложением. Внедренный элемент управления "заголовок" (класс [CHeaderCtrl](../../mfc/reference/cheaderctrl-class.md)) реализует эти столбцы. Дополнительные сведения о элементе управления "заголовок" и столбцах в представлении отчета см. в разделе [using CListCtrl: Добавление столбцов в элемент управления (представление отчета)](../../mfc/adding-columns-to-the-control-report-view.md).

Текущее представление определяется стилем текущего представления списка элемента управления. Дополнительные сведения об этих стилях и их использовании см. в разделе [Использование CListCtrl: изменение стилей элементов управления списка](../../mfc/changing-list-control-styles.md).

## <a name="extended-styles"></a>Расширенные стили

В дополнение к стандартным стилям списка класс `CListCtrl` поддерживает большой набор расширенных стилей, предоставляя расширенные функциональные возможности. Ниже приведены некоторые примеры этих функций.

- Выделение при наведении

   Если параметр включен, позволяет автоматически выбирать элемент, когда курсор остается над элементом в течение определенного периода времени.

- Представления виртуального списка

   Если этот параметр включен, элемент управления поддерживает до DWORD элементов. Это можно сделать, поместив дополнительные издержки на управление данными элементов в приложении. За исключением выбора элементов и информации о фокусе, все сведения об элементе должны управляться приложением. Дополнительные сведения см. [в разделе Использование CListCtrl: Virtual List Controls](../../mfc/virtual-list-controls.md).

- Активация одним и двумя щелчками

   Если этот параметр включен, обеспечивается оперативное отслеживание (автоматическое выделение текста элемента) и активация выделенного элемента одним или двумя щелчками.

- Перетаскивание упорядочения столбцов

   Если этот режим включен, можно изменять порядок столбцов в элементе управления "список" с помощью перетаскивания. Доступно только в представлении отчетов.

Сведения об использовании этих новых расширенных стилей см. в разделе [Использование CListCtrl: изменение стилей элементов управления списка](../../mfc/changing-list-control-styles.md).

## <a name="items-and-subitems"></a>Элементы и подэлементы

Каждый элемент в элементе управления "список" состоит из значка (из списка изображений), метки, текущего состояния и определяемого приложением значения (называемого "данные элемента"). С каждым элементом также можно связать один или несколько подэлементов. "Подэлемент" — это строка, которая в представлении отчетов может отображаться в столбце справа от значка элемента и метки. Все элементы в элементе управления "представление списка" должны иметь одинаковое количество подэлементов.

Класс `CListCtrl` предоставляет несколько функций для вставки, удаления, поиска и изменения этих элементов. Дополнительные сведения см. в [разделе CListCtrl::](#getitem)CListCtrl:: [InsertItem](#insertitem)и [CListCtrl:: FindItem](#finditem), [Добавление элементов в элемент управления](../adding-items-to-the-control.md), [прокрутка, упорядочение, сортировка и поиск в элементах управления "список](../scrolling-arranging-sorting-and-finding-in-list-controls.md)".

По умолчанию элемент управления "представление списка" отвечает за хранение атрибутов значка элемента и текста. Однако в дополнение к этим типам элементов класс `CListCtrl` поддерживает "элементы обратного вызова". "Элемент обратного вызова" — это элемент представления списка, для которого приложение, а не элемент управления, сохраняет текст, значок или и то, и другое. Маска обратного вызова используется для указания атрибутов элементов (текста и значков), предоставляемых приложением. Если приложение использует элементы обратного вызова, оно должно иметь возможность указать атрибуты Text и/или Icon по запросу. Элементы обратного вызова полезны, когда приложение уже поддерживает некоторые из этих сведений. Дополнительные сведения см. в разделе [Использование CListCtrl: элементы обратного вызова и маска обратного вызова](../callback-items-and-the-callback-mask.md).

## <a name="image-lists"></a>Списки изображений

Значки, изображения элементов заголовка и состояния, определяемые приложением для элементов представления списка, содержатся в нескольких списках изображений (реализованных классом [CImageList](cimagelist-class.md)), которые создаются и назначаются элементу управления представления списка. Каждый элемент управления "список" может иметь до четырех различных типов списков изображений:

- Крупный значок

   Используется в представлении значков для значков полного размера.

- Маленький значок

   Используется в мелких представлениях значков, списков и отчетов для более мелких версий значков, используемых в представлении значков.

- Состояние, определяемое приложением

   Содержит изображения состояния, отображаемые рядом со значком элемента для указания на определенное приложением состояние.

- Элемент заголовка

   Используется в представлении отчетов для небольших изображений, которые отображаются в каждом элементе элемента управления "заголовок".

По умолчанию элемент управления "представление списка" уничтожает назначенные ему списки изображений при его уничтожении. Однако разработчик может настроить это поведение, удалив каждый список изображений, если он больше не используется, как определено приложением. Дополнительные сведения см. [в разделе Использование CListCtrl: список элементов и списки изображений](../list-items-and-image-lists.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](cobject-class.md)

[CCmdTarget](ccmdtarget-class.md)

[CWnd](cwnd-class.md)

`CListCtrl`

## <a name="requirements"></a>Требования

**Заголовок:** afxcmn.h

## <a name="approximateviewrect"></a>CListCtrl:: Аппроксиматевиеврект

Определяет ширину и высоту, необходимые для отображения элементов элемента управления "представление списка".

```
CSize ApproximateViewRect(
    CSize sz = CSize(-1, -1),
    int iCount = -1) const;
```

### <a name="parameters"></a>Параметры

*SZ*<br/>
Предлагаемые размеры элемента управления (в пикселях). Если измерения не указаны, платформа использует текущие значения ширины или высоты элемента управления.

*икаунт*<br/>
Число элементов, отображаемых в элементе управления. Если этот параметр имеет значение-1, платформа использует общее число элементов в элементе управления.

### <a name="return-value"></a>Возвращаемое значение

Объект `CSize`, который содержит приблизительную ширину и высоту, необходимые для вывода элементов в пикселях.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_ApproximateViewRect](/windows/win32/api/commctrl/nf-commctrl-listview_approximateviewrect), как описано в Windows SDK.

## <a name="arrange"></a>CListCtrl:: упорядочение

Перемещает элементы в представлении значков, чтобы они были согласованы по сетке.

```
BOOL Arrange(UINT nCode);
```

### <a name="parameters"></a>Параметры

*нкоде*<br/>
Задает стиль выравнивания для элементов. Может иметь одно из следующих значений.

- LVA_ALIGNLEFT выровняйте элементы вдоль левого края окна.

- LVA_ALIGNTOP выровняйте элементы по верхнему краю окна.

- LVA_DEFAULT выравнивает элементы в соответствии с текущими стилями выравнивания представления списка (значение по умолчанию).

- LVA_SNAPTOGRID привязывает все значки к ближайшей положению сетки.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Параметр *нкоде* задает стиль выравнивания.

### <a name="example"></a>Пример

```cpp
    // Align all of the list view control items along the top
    // of the window (the list view control must be in icon or
    // small icon mode).
    m_myListCtrl.Arrange(LVA_ALIGNTOP);
```

## <a name="canceleditlabel"></a>CListCtrl:: Канцеледитлабел

Отменяет операцию изменения текста элемента.

```
void CancelEditLabel();
```

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_CANCELEDITLABEL](/windows/win32/Controls/lvm-canceleditlabel) сообщения, как описано в Windows SDK.

## <a name="clistctrl"></a>CListCtrl:: CListCtrl

Формирует объект `CListCtrl`.

```
CListCtrl();
```

## <a name="create"></a>CListCtrl:: Create

Создает элемент управления "список" и прикрепляет его к объекту `CListCtrl`.

```
virtual BOOL Create(
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*двстиле*<br/>
Задает стиль элемента управления "список". Примените к элементу управления любое сочетание стилей элементов управления списка. Полный список этих стилей см. в разделе [стили окна списка](/windows/win32/Controls/list-view-window-styles) в Windows SDK. Установка расширенных стилей, относящихся к элементу управления с помощью [сетекстендедстиле](#setextendedstyle).

*rect*<br/>
Задает размер и расположение элемента управления "список". Это может быть либо `CRect`ный объект, либо структура [Rect](/previous-versions/dd162897\(v=vs.85\)) .

*ппарентвнд*<br/>
Указывает родительское окно элемента управления "список", обычно `CDialog`. Оно не должно иметь значение NULL.

*nID*<br/>
Указывает идентификатор элемента управления "список".

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Создание `CListCtrl` выполняется в два этапа. Сначала вызовите конструктор, а затем вызовите `Create`, который создает элемент управления представления списка и присоединяет его к объекту `CListCtrl`.

Чтобы применить расширенные стили Windows к объекту списка элементов управления, вызовите [креатикс](#createex) вместо `Create`.

### <a name="example"></a>Пример

```cpp
    m_myListCtrl.Create(
        WS_CHILD|WS_VISIBLE|WS_BORDER|LVS_REPORT|LVS_EDITLABELS,
        CRect(10,10,400,200), pParentWnd, IDD_MYLISTCTRL);
```

## <a name="createex"></a>CListCtrl:: Креатикс

Создает элемент управления (дочернее окно) и связывает его с объектом `CListCtrl`.

```
virtual BOOL CreateEx(
    DWORD dwExStyle,
    DWORD dwStyle,
    const RECT& rect,
    CWnd* pParentWnd,
    UINT nID);
```

### <a name="parameters"></a>Параметры

*двексстиле*<br/>
Задает расширенный стиль создаваемого элемента управления. Список расширенных стилей Windows см. в разделе параметр *двексстиле* для [CreateWindowEx](/windows/win32/api/winuser/nf-winuser-createwindowexw) в Windows SDK.

*двстиле*<br/>
Задает стиль элемента управления "список". Примените к элементу управления любое сочетание стилей элементов управления списка. Полный список этих стилей см. в разделе [стили окна списка](/windows/win32/Controls/list-view-window-styles) в Windows SDK.

*rect*<br/>
Ссылка на структуру [Rect](/previous-versions/dd162897\(v=vs.85\)) , описывающую размер и расположение создаваемого окна в клиентских координатах *ппарентвнд*.

*ппарентвнд*<br/>
Указатель на окно, которое является родительским элементом управления.

*nID*<br/>
Идентификатор дочернего окна элемента управления.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Используйте `CreateEx` вместо [CREATE](#create) для применения расширенных стилей Windows, заданных в **WS_EX_е**расширенного стиля Windows.

`CreateEx` создает элемент управления с расширенными стилями Windows, заданным параметром *двексстиле*. Чтобы задать расширенные стили, относящиеся к элементу управления, вызовите [сетекстендедстиле](#setextendedstyle). Например, используйте `CreateEx`, чтобы задать такие стили, как WS_EX_CONTEXTHELP, но используйте `SetExtendedStyle` для установки таких стилей, как LVS_EX_FULLROWSELECT. Дополнительные сведения см. в разделе Стили, описанные в статье [Расширенные стили представления списка](/windows/win32/Controls/extended-list-view-styles) в Windows SDK.

## <a name="createdragimage"></a>CListCtrl:: Креатедрагимаже

Создает список изображений для перетаскивания для элемента, указанного параметром *нитем*.

```
CImageList* CreateDragImage(
    int nItem,
    LPPOINT lpPoint);
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента, список изображений перетаскивания которого необходимо создать.

*лппоинт*<br/>
Адрес структуры [точек](/previous-versions/dd162805\(v=vs.85\)) , которая получает начальное расположение верхнего левого угла изображения в координатах представления.

### <a name="return-value"></a>Возвращаемое значение

Указатель на список изображений перетаскивания в случае успеха; в противном случае — NULL.

### <a name="remarks"></a>Remarks

Объект `CImageList` является постоянным, и его необходимо удалить по завершении. Пример:

```cpp
        CImageList* pImageList = m_myListCtrl.CreateDragImage(nItem, &point);

        // do something

        delete pImageList;
```

## <a name="deleteallitems"></a>CListCtrl::D Елетеаллитемс

Удаляет все элементы из элемента управления "представление списка".

```
BOOL DeleteAllItems();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
    // Delete all of the items from the list view control.
    m_myListCtrl.DeleteAllItems();
    ASSERT(m_myListCtrl.GetItemCount() == 0);
```

## <a name="deletecolumn"></a>CListCtrl::D Елетеколумн

Удаляет столбец из элемента управления "представление списка".

```
BOOL DeleteColumn(int nCol);
```

### <a name="parameters"></a>Параметры

*нкол*<br/>
Индекс удаляемого столбца.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Delete all of the columns.
        for (int i=0; i < nColumnCount; i++)
        {
            m_myListCtrl.DeleteColumn(0);
        }
```

## <a name="deleteitem"></a>CListCtrl::D Елетеитем

Удаляет элемент из элемента управления "представление списка".

```
BOOL DeleteItem(int nItem);
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Указывает индекс удаляемого элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        int nCount = m_myListCtrl.GetItemCount();

        // Delete all of the items from the list view control.
        for (int i=0; i < nCount; i++)
        {
            m_myListCtrl.DeleteItem(0);
        }
```

## <a name="drawitem"></a>CListCtrl::D Равитем

Вызывается структурой при изменении визуального аспекта элемента управления представления списка, рисуемого владельцем.

```
virtual void DrawItem(LPDRAWITEMSTRUCT lpDrawItemStruct);
```

### <a name="parameters"></a>Параметры

*лпдравитемструкт*<br/>
Длинный указатель на структуру `DRAWITEMSTRUCT`, содержащую сведения о типе требуемой прорисовки.

### <a name="remarks"></a>Remarks

Элемент `itemAction` структуры [дравитемструкт](/windows/win32/api/winuser/ns-winuser-drawitemstruct) определяет выполняемое действие рисования.

По умолчанию эта функция члена не выполняет никаких действий. Переопределите эту функцию-член, чтобы реализовать Рисование для объекта `CListCtrl`, рисуемого владельцем.

Приложение должно восстановить все объекты интерфейса графических устройств (GDI), выбранные для контекста вывода, указанного в *лпдравитемструкт* , перед завершением этой функции-члена.

## <a name="editlabel"></a>CListCtrl:: Едитлабел

Начинает редактирование текста элемента на месте.

```
CEdit* EditLabel(int nItem);
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс редактируемого элемента представления списка.

### <a name="return-value"></a>Возвращаемое значение

В случае успеха указатель на объект `CEdit`, используемый для изменения текста элемента; в противном случае — NULL.

### <a name="remarks"></a>Remarks

Элемент управления "представление списка", имеющий стиль окна LVS_EDITLABELS, позволяет пользователю изменять метки элементов на месте. Пользователь начинает редактирование, щелкая метку элемента, который находится в фокусе.

Используйте эту функцию, чтобы начать редактирование указанного текста элемента представления списка на месте.

### <a name="example"></a>Пример

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Show the edit control on the label of the first
        // item in the list view control.
        CEdit* pmyEdit = m_myListCtrl.EditLabel(1);
        ASSERT(pmyEdit != NULL);
```

## <a name="enablegroupview"></a>CListCtrl:: Енаблеграупвиев

Включает или отключает отображение элементов в элементе управления "список" в виде группы.

```
LRESULT EnableGroupView(BOOL fEnable);
```

### <a name="parameters"></a>Параметры

*фенабле*<br/>
Указывает, следует ли включить элемент управления ListView для группирования отображаемых элементов. Значение TRUE, чтобы включить группирование; Значение FALSE, чтобы отключить его.

### <a name="return-value"></a>Возвращаемое значение

Возвращает одно из следующих значений:

- **0** возможность отображения элементов списка в виде группы уже включена или отключена.

- **1** состояние элемента управления успешно изменено.

- **-1** Сбой операции.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_ENABLEGROUPVIEW](/windows/win32/Controls/lvm-enablegroupview) сообщения, как описано в Windows SDK.

## <a name="ensurevisible"></a>CListCtrl:: Енсуревисибле

Гарантирует, что элемент списка является по крайней мере частично видимым.

```
BOOL EnsureVisible(
    int nItem,
    BOOL bPartialOK);
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента представления списка, который должен быть видимым.

*бпартиалок*<br/>
Указывает, приемлема ли частичная видимость.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

При необходимости элемент управления "представление списка" прокручивается. Если параметр *бпартиалок* имеет ненулевое значение, прокрутка не происходит, если элемент частично невидим.

### <a name="example"></a>Пример

```cpp
        // Ensure that the last item is visible.
        int nCount = m_myListCtrl.GetItemCount();
        if (nCount > 0)
            m_myListCtrl.EnsureVisible(nCount-1, FALSE);
```

## <a name="finditem"></a>CListCtrl:: FindItem

Выполняет поиск элемента представления списка с указанными характеристиками.

```
int FindItem(
    LVFINDINFO* pFindInfo,
    int nStart = -1) const;
```

### <a name="parameters"></a>Параметры

*пфиндинфо*<br/>
Указатель на структуру [лвфиндинфо](/windows/win32/api/commctrl/ns-commctrl-lvfindinfow) , содержащую сведения об элементе, который необходимо найти.

*нстарт*<br/>
Индекс элемента, с которого начинается поиск, или-1, чтобы начать с начала. Элемент по адресу *нстарт* исключается из поиска, если *нстарт* не равен-1.

### <a name="return-value"></a>Возвращаемое значение

Индекс элемента в случае успеха или-1 в противном случае.

### <a name="remarks"></a>Remarks

Параметр *пфиндинфо* указывает на структуру `LVFINDINFO`, которая содержит сведения, используемые для поиска элемента представления списка.

### <a name="example"></a>Пример

```cpp
        LVFINDINFO info;
        int nIndex;

        info.flags = LVFI_PARTIAL|LVFI_STRING;
        info.psz = _T("item");

        // Delete all of the items that begin with the string.
        while ((nIndex = m_myListCtrl.FindItem(&info)) != -1)
        {
            m_myListCtrl.DeleteItem(nIndex);
        }
```

## <a name="getbkcolor"></a>CListCtrl:: Жетбкколор

Возвращает цвет фона для элемента управления "представление списка".

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение, используемое для указания цвета RGB.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: сетбкколор](#setbkcolor).

## <a name="getbkimage"></a>CListCtrl:: Жетбкимаже

Извлекает текущее фоновое изображение элемента управления "представление списка".

```
BOOL GetBkImage(LVBKIMAGE* plvbkImage) const;
```

### <a name="parameters"></a>Параметры

*плвбкимаже*<br/>
Указатель на структуру `LVBKIMAGE`, содержащую текущее фоновое изображение представления списка.

### <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевое значение в случае успеха или ноль в противном случае.

### <a name="remarks"></a>Remarks

Этот метод реализует поведение макроса Win32, [ListView_GetBkImage](/windows/win32/api/commctrl/nf-commctrl-listview_getbkimage), как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
        LVBKIMAGE bki;

        // If no background image is set for the list view control use
        // the Microsoft homepage image as the background image.
        if (m_myListCtrl.GetBkImage(&bki) && (bki.ulFlags == LVBKIF_SOURCE_NONE))
        {
            m_myListCtrl.SetBkImage(
                _T("https://www.microsoft.com/library/images/gifs/homepage/microsoft.gif"),
                TRUE);
        }
```

## <a name="getcallbackmask"></a>CListCtrl:: Жеткаллбаккмаск

Извлекает маску обратного вызова для элемента управления "представление списка".

```
UINT GetCallbackMask() const;
```

### <a name="return-value"></a>Возвращаемое значение

Маска обратного вызова элемента управления представления списка.

### <a name="remarks"></a>Remarks

"Элемент обратного вызова" — это элемент представления списка, для которого приложение, а не элемент управления, сохраняет текст, значок или и то, и другое. Хотя элемент управления "представление списка" может хранить эти атрибуты, вы можете использовать элементы обратного вызова, если приложение уже поддерживает некоторые из этих сведений. Маска обратного вызова определяет, какие биты состояния элементов поддерживаются приложением, и применяется ко всему элементу управления, а не к конкретному элементу. По умолчанию маска обратного вызова равна нулю, то есть элемент управления отслеживает все состояния элементов. Если приложение использует элементы обратного вызова или задает ненулевую маску обратного вызова, она должна иметь возможность предоставлять атрибуты элементов представления списка по запросу.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: сеткаллбаккмаск](#setcallbackmask).

## <a name="getcheck"></a>CListCtrl:: Check

Возвращает текущее состояние отображения для изображения состояния, связанного с элементом.

```
BOOL GetCheck(int nItem) const;
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Отсчитываемый от нуля индекс элемента управления "список".

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если элемент выбран; в противном случае — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetCheckState](/windows/win32/api/commctrl/nf-commctrl-listview_getcheckstate), как описано в Windows SDK.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: сетчекк](#setcheck).

## <a name="getcolumn"></a>CListCtrl:: DataColumn

Извлекает атрибуты столбца элемента управления "представление списка".

```
BOOL GetColumn(
    int nCol,
    LVCOLUMN* pColumn) const;
```

### <a name="parameters"></a>Параметры

*нкол*<br/>
Индекс столбца, атрибуты которого должны быть извлечены.

*пколумн*<br/>
Адрес структуры [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) , указывающей сведения для извлечения и получения сведений о столбце. Элемент `mask` указывает, какие атрибуты столбца следует извлечь. Если элемент `mask` задает значение LVCF_TEXT, то элемент `pszText` должен содержать адрес буфера, который получает текст элемента, а элемент `cchTextMax` должен указывать размер буфера.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Структура `LVCOLUMN` содержит сведения о столбце в представлении отчета.

### <a name="example"></a>Пример

```cpp
        LVCOLUMN col;

        col.mask = LVCF_WIDTH;

        // Double the column width of the first column.
        if (m_myListCtrl.GetColumn(0, &col))
        {
            col.cx *= 2;
            m_myListCtrl.SetColumn(0, &col);
        }
```

## <a name="getcolumnorderarray"></a>CListCtrl:: Жетколумнордераррай

Возвращает порядок столбцов (слева направо) элемента управления "представление списка".

```
BOOL GetColumnOrderArray(
    LPINT piArray,
    int iCount = -1);
```

### <a name="parameters"></a>Параметры

*пиаррай*<br/>
Указатель на буфер, который будет содержать индексные значения столбцов в элементе управления "список". Буфер должен быть достаточно большим, чтобы вместить общее число столбцов в элементе управления "список".

*икаунт*<br/>
Число столбцов в элементе управления "представление списка". Если этот параметр равен-1, то число столбцов автоматически извлекается платформой.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_getcolumnorderarray), как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
        // Reverse the order of the columns in the list view control
        // (i.e. make the first column the last, the last column
        // the first, and so on...).
        CHeaderCtrl* pHeaderCtrl = m_myListCtrl.GetHeaderCtrl();

        if (pHeaderCtrl != NULL)
        {
            int  nColumnCount = pHeaderCtrl->GetItemCount();
            LPINT pnOrder = (LPINT) malloc(nColumnCount*sizeof(int));
            ASSERT(pnOrder != NULL);
            m_myListCtrl.GetColumnOrderArray(pnOrder, nColumnCount);

            int i, j, nTemp;
            for (i = 0, j = nColumnCount-1; i < j; i++, j--)
            {
                nTemp = pnOrder[i];
                pnOrder[i] = pnOrder[j];
                pnOrder[j] = nTemp;
            }

            m_myListCtrl.SetColumnOrderArray(nColumnCount, pnOrder);
            free(pnOrder);
        }
```

## <a name="getcolumnwidth"></a>CListCtrl:: Жетколумнвидс

Получает ширину столбца в представлении отчета или в виде списка.

```
int GetColumnWidth(int nCol) const;
```

### <a name="parameters"></a>Параметры

*нкол*<br/>
Указывает индекс столбца, ширина которого будет извлечена.

### <a name="return-value"></a>Возвращаемое значение

Ширина (в пикселях) столбца, заданного параметром *нкол*.

### <a name="example"></a>Пример

```cpp
        // Increase the column width of the second column by 20.
        int nWidth = m_myListCtrl.GetColumnWidth(1);
        m_myListCtrl.SetColumnWidth(1, 20 + nWidth);
```

## <a name="getcountperpage"></a>CListCtrl:: Жеткаунтперпаже

Вычисляет количество элементов, которые могут быть размещены вертикально в видимой области элемента управления "представление списка" в представлении списка или отчета.

```
int GetCountPerPage() const;
```

### <a name="return-value"></a>Возвращаемое значение

Число элементов, которые могут быть размещены вертикально в видимой области элемента управления "представление списка" в представлении списка или отчета.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жеттопиндекс](#gettopindex).

## <a name="geteditcontrol"></a>CListCtrl:: Жетедитконтрол

Извлекает маркер элемента управления "поле ввода", используемый для изменения текста элемента представления списка.

```
CEdit* GetEditControl() const;
```

### <a name="return-value"></a>Возвращаемое значение

В случае успеха указатель на объект [CEdit](cedit-class.md) , используемый для изменения текста элемента; в противном случае — NULL.

### <a name="example"></a>Пример

```cpp
        // The string replacing the text in the edit control.
        LPCTSTR lpszmyString = _T("custom label!");

        // If possible, replace the text in the label edit control.
        CEdit* pEdit = m_myListCtrl.GetEditControl();

        if (pEdit != NULL)
        {
            pEdit->SetWindowText(lpszmyString);
        }
```

## <a name="getemptytext"></a>  CListCtrl::GetEmptyText

Возвращает строку, которая будет отображаться, если текущий элемент управления "представление списка" пуст.

```
CString GetEmptyText() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение [CString](../../atl-mfc-shared/reference/cstringt-class.md) , содержащее текст, отображаемый, если элемент управления пуст.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETEMPTYTEXT](/windows/win32/Controls/lvm-getemptytext) сообщение, описанное в Windows SDK.

## <a name="getextendedstyle"></a>CListCtrl:: Жетекстендедстиле

Извлекает текущие расширенные стили элемента управления "представление списка".

```
DWORD GetExtendedStyle();
```

### <a name="return-value"></a>Возвращаемое значение

Сочетание расширенных стилей, используемых в настоящий момент элементом управления "представление списка". Описательный список этих расширенных стилей см. в статье [Расширенные стили представления списка](/windows/win32/Controls/extended-list-view-styles) в Windows SDK.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_getextendedlistviewstyle), как описано в Windows SDK.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: сетекстендедстиле](#setextendedstyle).

## <a name="getfirstselecteditemposition"></a>CListCtrl:: Жетфирстселектедитемпоситион

Возвращает позицию первого выбранного элемента в элементе управления "представление списка".

```
POSITION GetFirstSelectedItemPosition() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение позиции, которое может использоваться для получения итераций или указателя на объект; Значение NULL, если элементы не выбраны.

### <a name="example"></a>Пример

В следующем примере кода демонстрируется использование этой функции.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getfocusedgroup"></a>CListCtrl:: Жетфокуседграуп

Извлекает группу, имеющую фокус клавиатуры в текущем элементе управления "представление списка".

```
int GetFocusedGroup() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс группы, состояние которой LVGS_FOCUSED, если такая группа существует; в противном случае — значение-1.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETFOCUSEDGROUP](/windows/win32/Controls/lvm-getfocusedgroup) сообщение, описанное в Windows SDK. Дополнительные сведения см. в описании значения LVGS_FOCUSED элемента `state` структуры [лвграуп](/windows/win32/api/commctrl/ns-commctrl-lvgroup) .

## <a name="getgroupcount"></a>CListCtrl:: Жетграупкаунт

Возвращает количество групп в текущем элементе управления "представление списка".

```
int GetGroupCount()const;
```

### <a name="return-value"></a>Возвращаемое значение

Число групп в элементе управления "представление списка".

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETGROUPCOUNT](/windows/win32/Controls/lvm-getgroupcount) сообщение, описанное в Windows SDK-->.

## <a name="getgroupinfo"></a>CListCtrl:: Жетграупинфо

Возвращает сведения для указанной группы элемента управления "представление списка".

```
int GetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp) const;
```

### <a name="parameters"></a>Параметры

*играупид*<br/>
Идентификатор группы, сведения о которой необходимо получить.

*пгрп*<br/>
Указатель на [лвграуп](/windows/win32/api/commctrl/ns-commctrl-lvgroup) , содержащий сведения об указанной группе.

### <a name="return-value"></a>Возвращаемое значение

Возвращает идентификатор группы в случае успеха или значение-1 в противном случае.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_GETGROUPINFO](/windows/win32/Controls/lvm-getgroupinfo) сообщения, как описано в Windows SDK.

## <a name="getgroupinfobyindex"></a>CListCtrl:: Жетграупинфобиндекс

Извлекает сведения об указанной группе в текущем элементе управления "представление списка".

```
BOOL GetGroupInfoByIndex(
    int iIndex,
    PLVGROUP pGroup) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*ииндекс*|окне Отсчитываемый от нуля индекс группы.|
|*пграуп*|заполняет Указатель на структуру [лвграуп](/windows/win32/api/commctrl/ns-commctrl-lvgroup) , которая получает сведения о группе, указанной параметром *ииндекс* .<br /><br /> Вызывающий объект отвечает за инициализацию членов структуры [лвграуп](/windows/win32/api/commctrl/ns-commctrl-lvgroup) . Задайте для элемента `cbSize` размер структуры, а флаги элемента `mask`, чтобы указать извлекаемые данные.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETGROUPINFOBYINDEX](/windows/win32/controls/lvm-getgroupinfobyindex) сообщение, описанное в Windows SDK-->.

### <a name="example"></a>Пример

В следующем примере кода определяется переменная, `m_listCtrl`, которая используется для доступа к текущему элементу управления "список-представление". Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

В следующем примере кода демонстрируется метод `GetGroupInfoByIndex`. В предыдущем разделе этого примера кода мы создали элемент управления "представление списка", в котором в представлении отчета отображаются два столбца с названием "ClientID" и "Grade". В следующем примере кода извлекаются сведения о группе, индекс которой равен 0, если такая группа существует.

```cpp
    // GetGroupInfoByIndex
    const int GROUP_HEADER_BUFFER_SIZE = 40;

// Initialize the structure
    LVGROUP gInfo = {0};
    gInfo.cbSize = sizeof(LVGROUP);
    wchar_t wstrHeadGet[GROUP_HEADER_BUFFER_SIZE] = {0};
    gInfo.cchHeader = GROUP_HEADER_BUFFER_SIZE;
    gInfo.pszHeader = wstrHeadGet;
    gInfo.mask = (LVGF_ALIGN | LVGF_STATE | LVGF_HEADER | LVGF_GROUPID);
    gInfo.state = LVGS_NORMAL;
    gInfo.uAlign  = LVGA_HEADER_LEFT;

    BOOL bRet = m_listCtrl.GetGroupInfoByIndex( 0, &gInfo );
    if (bRet == TRUE) {
        CString strHeader = CString( gInfo.pszHeader );
        CString str;
        str.Format(_T("Header: '%s'"), strHeader);
        AfxMessageBox(str, MB_ICONINFORMATION);
    }
    else
    {
        AfxMessageBox(_T("No group information was retrieved."));
    }
```

## <a name="getgroupmetrics"></a>CListCtrl:: Жетграупметрикс

Извлекает метрики группы.

```
void GetGroupMetrics(PLVGROUPMETRICS pGroupMetrics) const;
```

### <a name="parameters"></a>Параметры

*пграупметрикс*<br/>
Указатель на [лвграупметрикс](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) , содержащий сведения о метриках группы.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_GETGROUPMETRICS](/windows/win32/Controls/lvm-getgroupmetrics) сообщения, как описано в Windows SDK.

## <a name="getgrouprect"></a>CListCtrl:: Жетграупрект

Извлекает ограничивающий прямоугольник для указанной группы в текущем элементе управления "представление списка".

```
BOOL GetGroupRect(
    int iGroupId,
    LPRECT lpRect,
    int iCoords = LVGGR_GROUP) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*играупид*|окне Задает группу.|
|*лпрект*|[вход, выход] Указатель на структуру [Rect](/previous-versions/dd162897\(v=vs.85\)) . Если этот метод выполнен успешно, структура получает координаты прямоугольника группы, заданной параметром *играупид*.|
|*икурдс*|окне Задает координаты прямоугольника для извлечения. Используйте одно из следующих значений:<br /><br /> -LVGGR_GROUP-(по умолчанию) координаты всей развернутой группы.<br />-LVGGR_HEADER-координаты только заголовка (свернутая группа).<br />-LVGGR_SUBSETLINK — координаты только ссылки на подмножество (подмножество разметки).|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Remarks

Вызывающий объект отвечает за выделение структуры [Rect](/previous-versions/dd162897\(v=vs.85\)) , на которую указывает параметр *прект* .

Этот метод отправляет [LVM_GETGROUPRECT](/windows/win32/Controls/lvm-getgrouprect) сообщение, описанное в Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяется переменная, `m_listCtrl`, которая используется для доступа к текущему элементу управления "список-представление". Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

В следующем примере кода демонстрируется метод `GetGroupRect`. В предыдущем разделе этого примера кода мы создали элемент управления "представление списка", в котором в представлении отчета отображаются два столбца с названием "ClientID" и "Grade". В следующем примере кода трехмерный прямоугольник рисуется вокруг группы, индекс которой равен 0, если такая группа существует.

```cpp
    // GetGroupRect

    // Get the graphics rectangle that surrounds group 0.
    CRect rect;
    BOOL bRet = m_listCtrl.GetGroupRect( 0, &rect, LVGGR_GROUP);
    // Draw a blue rectangle around group 0.
    if (bRet == TRUE) {
        m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(0, 0, 255), RGB(0, 0, 255));
    }
    else {
        AfxMessageBox(_T("No group information was retrieved."), MB_ICONINFORMATION);
    }
```

## <a name="getgroupstate"></a>CListCtrl:: Жетграупстате

Возвращает состояние указанной группы в текущем элементе управления "представление списка".

```
UINT GetGroupState(
    int iGroupId,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*играупид*|окне Отсчитываемый от нуля индекс группы.|
|*двмаск*|окне Маска, указывающая значение состояния, которое необходимо получить для указанной группы. Дополнительные сведения см. в описании `mask` элемента структуры [лвграуп](/windows/win32/api/commctrl/ns-commctrl-lvgroup) .|

### <a name="return-value"></a>Возвращаемое значение

Запрошенное состояние для указанной группы или значение 0, если группа не найдена.

### <a name="remarks"></a>Remarks

Возвращаемое значение является результатом побитовой операции и для параметра *двмаск* и значения `state` элемента структуры [лвграуп](/windows/win32/api/commctrl/ns-commctrl-lvgroup) , представляющей текущий элемент управления "представление списка".

Этот метод отправляет [LVM_GETGROUPSTATE](/windows/win32/Controls/lvm-getgroupstate) сообщение, описанное в Windows SDK. Дополнительные сведения см. в описании макроса [ListView_GetGroupState](/windows/win32/api/commctrl/nf-commctrl-listview_getgroupstate) .

## <a name="getheaderctrl"></a>CListCtrl:: Жесеадерктрл

Возвращает элемент управления "заголовок" элемента управления "представление списка".

```
CHeaderCtrl* GetHeaderCtrl();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на элемент управления "заголовок", используемый элементом управления "представление списка".

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetHeader](/windows/win32/api/commctrl/nf-commctrl-listview_getheader), как описано в Windows SDK.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жетколумнордераррай](#getcolumnorderarray).

## <a name="gethotcursor"></a>CListCtrl:: Жесоткурсор

Получает курсор, используемый, если для элемента управления "представление списка" включено отслеживание с активной функцией.

```
HCURSOR GetHotCursor();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на текущий ресурс горячего курсора, используемый элементом управления "представление списка".

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_gethotcursor), как описано в Windows SDK. Активный курсор, видимый только при включенном щелчке мыши, отображается при наведении курсора на любой элемент представления списка. Выделение при наведении включено с помощью задания расширенного стиля LVS_EX_TRACKSELECT.

### <a name="example"></a>Пример

```cpp
        // Set the hot cursor to be the system app starting cursor.
        HCURSOR hCursor = ::LoadCursor(NULL, IDC_APPSTARTING);
        m_myListCtrl.SetHotCursor(hCursor);
        ASSERT(m_myListCtrl.GetHotCursor() == hCursor);
```

## <a name="gethotitem"></a>CListCtrl:: Жесотитем

Извлекает элемент представления списка, находящегося в данный момент в курсоре.

```
int GetHotItem();
```

### <a name="return-value"></a>Возвращаемое значение

Индекс текущего горячего элемента элемента управления представления списка.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_gethotitem), как описано в Windows SDK. Горячий элемент определяется как выбранный в данный момент элемент, когда включено отслеживание активных объектов (и выделение при наведении).

Если включено отслеживание, когда пользователь приостанавливается над элементом представления списка, метка элемента автоматически выделяется без использования кнопки мыши.

### <a name="example"></a>Пример

```cpp
    // Set the hot item to the first item only if no other item is
    // highlighted.
    if (m_myListCtrl.GetHotItem() == -1)
        m_myListCtrl.SetHotItem(0);
```

## <a name="gethovertime"></a>CListCtrl:: Жесовертиме

Возвращает текущее время наведения элемента управления представления списка.

```
DWORD GetHoverTime() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает задержку в миллисекундах, на которую курсор мыши должен накладываться перед выделением элемента. Если возвращаемое значение равно-1, то время наведения по умолчанию — время наведения.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_gethovertime), как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
        // If the hover time is the default set to 1 sec.
        DWORD dwTime = m_myListCtrl.GetHoverTime();
        if (dwTime == -1)
            m_myListCtrl.SetHoverTime(1000);
```

## <a name="getimagelist"></a>CListCtrl::/ImageList

Получает маркер списка изображений, используемый для элементов представления списка рисования.

```
CImageList* GetImageList(int nImageList) const;
```

### <a name="parameters"></a>Параметры

*нимажелист*<br/>
Значение, указывающее список изображений для извлечения. Это может быть одно из следующих значений:

- LVSIL_NORMAL список изображений с большими значками.

- LVSIL_SMALL список изображений с мелкими значками.

- LVSIL_STATE список образов с изображениями состояний.

### <a name="return-value"></a>Возвращаемое значение

Указатель на список изображений, используемый для отображения элементов представления списка.

### <a name="example"></a>Пример

```cpp
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == NULL);
        m_myListCtrl.SetImageList(&m_lcImageList, LVSIL_NORMAL);
        ASSERT(m_myListCtrl.GetImageList(LVSIL_NORMAL) == &m_lcImageList);
```

## <a name="getinsertmark"></a>CListCtrl:: Жетинсертмарк

Извлекает текущую позицию метки вставки.

```
BOOL GetInsertMark(LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Параметры

*плвим*<br/>
Указатель на структуру [лвинсертмарк](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) , содержащую сведения для метки вставки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE, если успешно, или FALSE в противном случае. Значение FALSE возвращается, если размер в `cbSize` элемента структуры `LVINSERTMARK` не равен фактическому размеру структуры.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_GETINSERTMARK](/windows/win32/Controls/lvm-getinsertmark) сообщения, как описано в Windows SDK.

## <a name="getinsertmarkcolor"></a>CListCtrl:: Жетинсертмаркколор

Извлекает текущий цвет метки вставки.

```
COLORREF GetInsertMarkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает структуру [COLORREF](/windows/win32/gdi/colorref) , содержащую цвет точки вставки.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_GETINSERTMARKCOLOR](/windows/win32/Controls/lvm-getinsertmarkcolor) сообщения, как описано в Windows SDK.

## <a name="getinsertmarkrect"></a>CListCtrl:: Жетинсертмаркрект

Извлекает прямоугольник, ограничивающий точку вставки.

```
int GetInsertMarkRect(LPRECT pRect) const;
```

### <a name="parameters"></a>Параметры

*прект*<br/>
Указатель на структуру `RECT`, содержащую координаты прямоугольника, ограничивающего точку вставки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает одно из следующих значений:

- **0** точка вставки не найдена.

- найдена **1** точка вставки.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_GETINSERTMARKRECT](/windows/win32/Controls/lvm-getinsertmarkrect) сообщения, как описано в Windows SDK.

## <a name="getitem"></a>CListCtrl:: DataItem

Извлекает некоторые или все атрибуты элемента представления списка.

```
BOOL GetItem(LVITEM* pItem) const;
```

### <a name="parameters"></a>Параметры

*питем*<br/>
Указатель на структуру [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , которая получает атрибуты элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Структура `LVITEM` указывает или получает атрибуты элемента представления списка.

## <a name="getitemcount"></a>CListCtrl:: GetItemCount

Возвращает число элементов в элементе управления "представление списка".

```
int GetItemCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Число элементов в элементе управления "список".

### <a name="example"></a>Пример

См. пример для [CListCtrl::D елетеитем](#deleteitem).

## <a name="getitemdata"></a>CListCtrl:: Жетитемдата

Извлекает значение 32-разрядного приложения, связанное с элементом, указанным `nItem`.

```
DWORD_PTR GetItemData(int nItem) const;
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента списка, данные которого должны быть извлечены.

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение, зависящее от приложения, связанное с указанным элементом.

### <a name="remarks"></a>Remarks

Это значение является `lParam` элементом структуры [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , как описано в Windows SDK

### <a name="example"></a>Пример

```cpp
    // If any item's data is equal to zero then reset it to -1.
    for (int i=0; i < m_myListCtrl.GetItemCount(); i++)
    {
        if (m_myListCtrl.GetItemData(i) == 0)
        {
            m_myListCtrl.SetItemData(i, (DWORD) -1);
        }
    }
```

## <a name="getitemindexrect"></a>CListCtrl:: Жетитеминдексрект

Извлекает ограничивающий прямоугольник для всей или части подэлемента в текущем элементе управления "список-представление".

```
BOOL GetItemIndexRect(
    PLVITEMINDEX pItemIndex,
    int iColumn,
    int rectType,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*питеминдекс*|окне Указатель на структуру [лвитеминдекс](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) для родительского элемента подэлемента.<br /><br /> Вызывающий объект отвечает за выделение и задание элементов структуры [лвитеминдекс](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) . Значение этого параметра не может быть равно NULL.|
|*иколумн*|окне Отсчитываемый от нуля индекс столбца в элементе управления.|
|*ректтипе*|окне Часть подэлемента представления списка, для которого извлекается ограничивающий прямоугольник. Укажите одно из следующих значений.<br /><br /> LVIR_BOUNDS — Возвращает ограничивающий прямоугольник для всего вложенного элемента, включая значок и метку.<br /><br /> LVIR_ICON — возвращает ограничивающий прямоугольник значка или маленький значок подэлемента.<br /><br /> LVIR_LABEL — Возвращает ограничивающий прямоугольник для текста подэлемента.|
|*прект*|заполняет Указатель на структуру [Rect](/previous-versions/dd162897\(v=vs.85\)) , которая получает сведения об ограничивающем прямоугольнике подэлемента.<br /><br /> Вызывающий объект отвечает за выделение структуры [Rect](/previous-versions/dd162897\(v=vs.85\)) . Значение этого параметра не может быть равно NULL.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETITEMINDEXRECT](/windows/win32/Controls/lvm-getitemindexrect) сообщение, описанное в Windows SDK. Дополнительные сведения см. в разделе [ListView_GetItemIndexRect макрос](/windows/win32/api/commctrl/nf-commctrl-listview_getitemindexrect).

### <a name="example"></a>Пример

В следующем примере кода определяется переменная, `m_listCtrl`, которая используется для доступа к текущему элементу управления "список-представление". Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

В следующем примере кода демонстрируется метод `GetGroupRect`. Перед вводом этого примера кода мы создали элемент управления "представление списка", в котором в представлении отчета отображаются два столбца с названием "ClientID" и "Grade". В следующем примере кода трехмерный прямоугольник рисуется вокруг второго подэлемента в обоих столбцах.

```cpp
    // GetItemIndexRect
    // Get the rectangle that bounds the second item in the first group.
    LVITEMINDEX lvItemIndex;
    lvItemIndex.iGroup = 0;
    lvItemIndex.iItem = 1;
    CRect rect;
    BOOL bRet = m_listCtrl.GetItemIndexRect(
        &lvItemIndex, 0, LVIR_BOUNDS, &rect);

    // Draw a red rectangle around the item.
    m_listCtrl.GetDC()->Draw3dRect( &rect, RGB(255, 0, 0), RGB(255, 0, 0) );
```

## <a name="getitemposition"></a>CListCtrl:: Жетитемпоситион

Возвращает позицию элемента представления списка.

```
BOOL GetItemPosition(
    int nItem,
    LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента, позиция которого должна быть извлечена.

*лппоинт*<br/>
Адрес структуры [точек](/previous-versions/dd162805\(v=vs.85\)) , которая получает позицию верхнего левого угла элемента в координатах представления.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        POINT pt;

        // Move all items in the list control 100 pixels to the right.
        UINT i, nCount = m_myListCtrl.GetItemCount();

        for (i=0; i < nCount; i++)
        {
            m_myListCtrl.GetItemPosition(i, &pt);
            pt.x += 100;
            m_myListCtrl.SetItemPosition(i, pt);
        }
```

## <a name="getitemrect"></a>CListCtrl:: Жетитемрект

Извлекает ограничивающий прямоугольник для всего элемента или его части в текущем представлении.

```
BOOL GetItemRect(
    int nItem,
    LPRECT lpRect,
    UINT nCode) const;
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента, позиция которого должна быть извлечена.

*лпрект*<br/>
Адрес структуры [Rect](/previous-versions/dd162897\(v=vs.85\)) , которая получает ограничивающий прямоугольник.

*нкоде*<br/>
Часть элемента представления списка, для которой необходимо получить ограничивающий прямоугольник. Это может быть одно из следующих значений:

- LVIR_BOUNDS Возвращает ограничивающий прямоугольник для всего элемента, включая значок и метку.

- LVIR_ICON возвращает ограничивающий прямоугольник значка или маленький значок.

- LVIR_LABEL Возвращает ограничивающий прямоугольник текста элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
// OnClick is the handler for the NM_CLICK notification
void CListCtrlDlg::OnClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;

    // Get the current mouse location and convert it to client
    // coordinates.
    CPoint pos( ::GetMessagePos() );
    ScreenToClient(&pos);

    // Get indexes of the first and last visible items in
    // the listview control.
    int index = m_myListCtrl.GetTopIndex();
    int last_visible_index = index + m_myListCtrl.GetCountPerPage();
    if (last_visible_index > m_myListCtrl.GetItemCount())
        last_visible_index = m_myListCtrl.GetItemCount();

    // Loop until number visible items has been reached.
    while (index <= last_visible_index)
    {
        // Get the bounding rectangle of an item. If the mouse
        // location is within the bounding rectangle of the item,
        // you know you have found the item that was being clicked.
        CRect r;
        m_myListCtrl.GetItemRect(index, &r, LVIR_BOUNDS);
        if (r.PtInRect(pia->ptAction))
        {
            UINT flag = LVIS_SELECTED | LVIS_FOCUSED;
            m_myListCtrl.SetItemState(index, flag, flag);
            break;
        }

        // Get the next item in listview control.
        index++;
    }
}
```

## <a name="getitemspacing"></a>CListCtrl:: ЖетитемспаЦинг

Вычисляет интервал между элементами в текущем элементе управления "представление списка".

```
BOOL GetItemSpacing(
    BOOL fSmall,
    int* pnHorzSpacing,
    int* pnVertSpacing) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*фсмалл*|окне Представление, для которого нужно получить сведения о промежутке между элементами. Укажите значение TRUE для представления мелких значков или FALSE для представления значков.|
|*пнхорзспаЦинг*|заполняет Содержит интервал по горизонтали между элементами.|
|*пнвертспаЦинг*|заполняет Содержит интервал по вертикали между элементами.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_GETITEMSPACING](/windows/win32/Controls/lvm-getitemspacing) сообщение, описанное в Windows SDK.

## <a name="getitemstate"></a>CListCtrl:: Жетитемстате

Возвращает состояние элемента представления списка.

```
UINT GetItemState(
    int nItem,
    UINT nMask) const;
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента, состояние которого необходимо получить.

*нмаск*<br/>
Маска, указывающая, какие из флагов состояния элемента должны быть возвращены.

### <a name="return-value"></a>Возвращаемое значение

Флаги состояния для указанного элемента представления списка.

### <a name="remarks"></a>Remarks

Состояние элемента задается `state` элементом структуры [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , как описано в Windows SDK. При указании или изменении состояния элемента элемент `stateMask` указывает, какие биты состояния необходимо изменить.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жеттопиндекс](#gettopindex).

## <a name="getitemtext"></a>  CListCtrl::GetItemText

Извлекает текст элемента представления списка или подэлемента.

```
int GetItemText(
    int nItem,
    int nSubItem,
    LPTSTR lpszText,
    int nLen) const;

CString GetItemText(
    int nItem,
    int nSubItem) const;
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента, текст которого необходимо получить.

*нсубитем*<br/>
Указывает подэлемент, текст которого необходимо извлечь.

*lpszText*<br/>
Указатель на строку, которая будет принимать текст элемента.

*нлен*<br/>
Длина буфера, на который указывает *лпсзтекст*.

### <a name="return-value"></a>Возвращаемое значение

Версия, возвращающая **int** , возвращает длину извлеченной строки.

Версия, возвращающая `CString`, возвращает текст элемента.

### <a name="remarks"></a>Remarks

Если *нсубитем* равен нулю, эта функция получает метку элемента; Если *нсубитем* имеет ненулевое значение, извлекается текст подэлемента. Дополнительные сведения о аргументе подэлемента см. в обсуждении структуры [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) в Windows SDK.

## <a name="getnextitem"></a>  CListCtrl::GetNextItem

Выполняет поиск элемента представления списка с указанными свойствами и, который несет указанную связь с данным элементом.

```
int GetNextItem(
    int nItem,
    int nFlags) const;
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента, с которого начинается поиск, или-1, чтобы найти первый элемент, соответствующий указанным флагам. Сам указанный элемент исключен из поиска.

*нфлагс*<br/>
Геометрическая связь запрошенного элемента с заданным элементом и состоянием запрошенного элемента. Геометрический объект может принимать одно из следующих значений:

- LVNI_ABOVE выполняет поиск элемента, расположенного над указанным элементом.

- LVNI_ALL выполняет поиск последующего элемента по индексу (значение по умолчанию).

- LVNI_BELOW выполняет поиск элемента, который находится под указанным элементом.

- LVNI_TOLEFT выполняет поиск элемента слева от указанного элемента.

- LVNI_TORIGHT выполняет поиск элемента справа от указанного элемента.

Состояние может быть равно нулю или может быть одним или несколькими из следующих значений:

- LVNI_DROPHILITED для элемента задан флаг состояния LVIS_DROPHILITED.

- LVNI_FOCUSED для элемента задан флаг состояния LVIS_FOCUSED.

- LVNI_SELECTED для элемента задан флаг состояния LVIS_SELECTED.

Если для элемента не заданы все заданные флаги состояния, поиск будет продолжен со следующим элементом.

### <a name="return-value"></a>Возвращаемое значение

Индекс следующего элемента, если он был успешным, или значение-1 в противном случае.

## <a name="getnextitemindex"></a>  CListCtrl::GetNextItemIndex

Получает индекс элемента в текущем элементе управления "представление списка", имеющий указанный набор свойств.

```
BOOL GetNextItemIndex(
    PLVITEMINDEX pItemIndex,
    int nFlags) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*питеминдекс*|[вход, выход] Указатель на структуру [лвитеминдекс](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) , описывающую элемент, где начинается поиск, или-1, чтобы найти первый элемент, соответствующий флагам в параметре *нфлагс* .<br /><br /> Если этот метод выполнен успешно, структура `LVITEMINDEX` описывает элемент, найденный в результате поиска.|
|*нфлагс*|окне Побитовое сочетание (или) флагов, определяющих способ выполнения поиска.<br /><br /> Поиск может зависеть от индекса, состояния или внешнего вида целевого элемента или от физической позиции целевого элемента относительно элемента, указанного параметром *питеминдекс* . Дополнительные сведения см. в описании параметра *flags* в [LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex) сообщении.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Remarks

Вызывающий объект отвечает за выделение и задание элементов структуры `LVITEMINDEX`, на которую указывает параметр *питеминдекс* .

Этот метод отправляет [LVM_GETNEXTITEMINDEX](/windows/win32/controls/lvm-getnextitemindex) сообщение, описанное в Windows SDK.

## <a name="getnextselecteditem"></a>CListCtrl:: Жетнекстселектедитем

Возвращает индекс элемента списка, идентифицируемого *POS*, а затем устанавливает для *POS* значение позиции.

```
int GetNextSelectedItem(POSITION& pos) const;
```

### <a name="parameters"></a>Параметры

*pos*<br/>
Ссылка на значение значения value, возвращенное предыдущим вызовом метода `GetNextSelectedItem` или `GetFirstSelectedItemPosition`. Значение обновляется до следующей позицией с помощью этого вызова.

### <a name="return-value"></a>Возвращаемое значение

Индекс элемента списка, идентифицируемого *POS*.

### <a name="remarks"></a>Remarks

`GetNextSelectedItem` можно использовать в цикле прямой итерации, если исходное расположение устанавливается с вызовом `GetFirstSelectedItemPosition`.

Необходимо убедиться, что ваше значение должно быть допустимым. Если он является недопустимым, отладочная версия библиотека Microsoft Foundation Class утверждается.

### <a name="example"></a>Пример

В следующем примере кода демонстрируется использование этой функции.

```cpp
        POSITION pos = m_myListCtrl.GetFirstSelectedItemPosition();
        if (pos == NULL)
        {
            TRACE(_T("No items were selected!\n"));
        }
        else
        {
            while (pos)
            {
                int nItem = m_myListCtrl.GetNextSelectedItem(pos);
                TRACE(_T("Item %d was selected!\n"), nItem);
                // you could do your own processing on nItem here
            }
        }
```

## <a name="getnumberofworkareas"></a>CListCtrl:: Жетнумберофворкареас

Извлекает текущее количество рабочих областей для элемента управления "представление списка".

```
UINT GetNumberOfWorkAreas() const;
```

### <a name="return-value"></a>Возвращаемое значение

Не используется в настоящее время.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetNumberOfWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getnumberofworkareas), как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
        UINT i, uCount = m_myListCtrl.GetNumberOfWorkAreas();
        LPRECT lpRects = (LPRECT) malloc(uCount*sizeof(RECT));

        if (lpRects != NULL)
        {
            // Dump all of the work area dimensions.
            m_myListCtrl.GetWorkAreas(uCount, lpRects);

            for (i=0; i < uCount; i++)
            {
                TRACE(_T("Work area %d; left = %d, top = %d, right = %d, ")
                    _T("bottom = %d\r\n"),
                    i, lpRects[i].left, lpRects[i].top, lpRects[i].right,
                    lpRects[i].bottom);
            }

            free(lpRects);
        }
        else
        {
            TRACE(_T("Couldn't allocate enough memory!"));
        }
```

## <a name="getoutlinecolor"></a>CListCtrl:: Жетаутлинеколор

Возвращает цвет границы элемента управления "представление списка".

```
COLORREF GetOutlineColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает структуру [COLORREF](/windows/win32/gdi/colorref) , содержащую цвет контура.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_GETOUTLINECOLOR](/windows/win32/Controls/lvm-getoutlinecolor) сообщения, как описано в Windows SDK.

## <a name="getorigin"></a>CListCtrl:: Origin

Возвращает источник текущего представления для элемента управления представления списка.

```
BOOL GetOrigin(LPPOINT lpPoint) const;
```

### <a name="parameters"></a>Параметры

*лппоинт*<br/>
Адрес структуры [точек](/previous-versions/dd162805\(v=vs.85\)) , которая получает источник представления.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0. Однако если элемент управления находится в представлении отчетов, возвращаемое значение всегда равно нулю.

## <a name="getselectedcolumn"></a>CListCtrl:: Жетселектедколумн

Извлекает индекс выбранного в данный момент столбца в элементе управления "список".

```
UINT GetSelectedColumn() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс выбранного столбца.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_GETSELECTEDCOLUMN](/windows/win32/Controls/lvm-getselectedcolumn) сообщения, как описано в Windows SDK.

## <a name="getselectedcount"></a>CListCtrl:: Жетселектедкаунт

Извлекает число выбранных элементов в элементе управления "представление списка".

```
UINT GetSelectedCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Число выбранных элементов в элементе управления "представление списка".

### <a name="example"></a>Пример

```cpp
        UINT i, uSelectedCount = m_myListCtrl.GetSelectedCount();
        int  nItem = -1;

        // Update all of the selected items.
        if (uSelectedCount > 0)
        {
            for (i=0; i < uSelectedCount; i++)
            {
                nItem = m_myListCtrl.GetNextItem(nItem, LVNI_SELECTED);
                ASSERT(nItem != -1);
                m_myListCtrl.Update(nItem);
            }
        }
```

## <a name="getselectionmark"></a>CListCtrl:: Жетселектионмарк

Извлекает метку выделения для элемента управления представления списка.

```
int GetSelectionMark();
```

### <a name="return-value"></a>Возвращаемое значение

Отметка выделения, начинающаяся с нуля, или-1, если нет отметки выделения.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_getselectionmark), как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Set the selection mark to the first item only if no other item is
    // selected.
    if (m_myListCtrl.GetSelectionMark() == -1)
        m_myListCtrl.SetSelectionMark(0);
```

## <a name="getstringwidth"></a>CListCtrl:: Жетстрингвидс

Определяет минимальную ширину столбца, необходимую для вывода всей заданной строки.

```
int GetStringWidth(LPCTSTR lpsz) const;
```

### <a name="parameters"></a>Параметры

*лпсз*<br/>
Адрес строки, завершающейся нулем, ширина которой необходимо определить.

### <a name="return-value"></a>Возвращаемое значение

Ширина (в пикселях) строки, на которую указывает параметр *лпсз*.

### <a name="remarks"></a>Remarks

Возвращенная ширина учитывает текущий шрифт и поля столбцов элемента управления, но не имеет ширины маленького значка.

### <a name="example"></a>Пример

```cpp
        CString strColumn;
        int nWidth;

        // Insert six columns in the list view control. Make the width of
        // the column be the width of the column header plus 50%.
        for (int i = 0; i < 6; i++)
        {
            strColumn.Format(_T("column %d"), i);
            nWidth = 3*m_myListCtrl.GetStringWidth(strColumn)/2;
            m_myListCtrl.InsertColumn(i, strColumn, LVCFMT_LEFT, nWidth);
        }
```

## <a name="getsubitemrect"></a>CListCtrl:: Жетсубитемрект

Извлекает ограничивающий прямоугольник элемента в элементе управления "представление списка".

```
BOOL GetSubItemRect(
    int iItem,
    int iSubItem,
    int nArea,
    CRect& ref);
```

### <a name="parameters"></a>Параметры

*iItem*<br/>
Индекс родительского элемента подэлемента.

*iSubItem*<br/>
Отсчитываемый от единицы индекс подэлемента.

*нареа*<br/>
Определяет часть ограничивающего прямоугольника (для подэлемента представления списка) для извлечения. Часть (значок, метка или оба) ограничивающего прямоугольника задается путем применения побитового оператора OR к одному или нескольким из следующих значений:

- LVIR_BOUNDS Возвращает ограничивающий прямоугольник для всего элемента, включая значок и метку.

- LVIR_ICON возвращает ограничивающий прямоугольник значка или маленький значок.

- LVIR_LABEL Возвращает ограничивающий прямоугольник для всего элемента, включая значок и метку. Это идентично LVIR_BOUNDS.

*ref*;<br/>
Ссылка на объект [крект](../../atl-mfc-shared/reference/crect-class.md) , содержащий координаты ограничивающего прямоугольника подэлемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetSubItemRect](/windows/win32/api/commctrl/nf-commctrl-listview_getsubitemrect), как описано в Windows SDK.

## <a name="gettextbkcolor"></a>CListCtrl:: Жеттекстбкколор

Извлекает цвет фона текста для элемента управления "представление списка".

```
COLORREF GetTextBkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение, используемое для указания цвета RGB.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: сеттекстбкколор](#settextbkcolor).

## <a name="gettextcolor"></a>  CListCtrl::GetTextColor

Извлекает цвет текста элемента управления "представление списка".

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

32-разрядное значение, используемое для указания цвета RGB.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: сеттекстколор](#settextcolor).

## <a name="gettileinfo"></a>CListCtrl:: Жеттилеинфо

Извлекает сведения о плитке в элементе управления "представление списка".

```
BOOL GetTileInfo(PLVTILEINFO plvti) const;
```

### <a name="parameters"></a>Параметры

*плвти*<br/>
Указатель на структуру [лвтилеинфо](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) , которая получает сведения о плитке.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не используется.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_GETTILEINFO](/windows/win32/Controls/lvm-gettileinfo) сообщения, как описано в Windows SDK.

## <a name="gettileviewinfo"></a>CListCtrl:: Жеттилевиевинфо

Извлекает сведения о элементе управления "представление списка" в мозаичном представлении.

```
BOOL GetTileViewInfo(PLVTILEVIEWINFO ptvi) const;
```

### <a name="parameters"></a>Параметры

*птви*<br/>
Указатель на структуру [лвтилевиевинфо](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) , которая получает извлеченные сведения.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не используется.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_GETTILEVIEWINFO](/windows/win32/Controls/lvm-gettileviewinfo) сообщения, как описано в Windows SDK.

## <a name="gettooltips"></a>CListCtrl:: подсказки

Извлекает элемент управления ToolTip, используемый элементом управления "список" для отображения всплывающих подсказок.

```
CToolTipCtrl* GetToolTips() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CToolTipCtrl](ctooltipctrl-class.md) , который будет использоваться элементом управления "список". Если в функции [CREATE](#create) -Member используется стиль LVS_NOTOOLTIPS, подсказки не используются и возвращается значение null.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [LVM_GETTOOLTIPS](/windows/win32/Controls/lvm-gettooltips), как описано в Windows SDK. Реализация `GetToolTips` MFC возвращает объект `CToolTipCtrl`, который используется элементом управления "список", а не маркером элемента управления ToolTip.

### <a name="example"></a>Пример

```cpp
        CToolTipCtrl* pTip = m_myListCtrl.GetToolTips();
        if (NULL != pTip)
        {
            pTip->UpdateTipText(_T("I'm a list view!"), &m_myListCtrl,
                IDD_MYLISTCTRL);
        }
```

## <a name="gettopindex"></a>CListCtrl:: Жеттопиндекс

Извлекает индекс самого верхнего видимого элемента в представлении списка или отчета.

```
int GetTopIndex() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индекс самого верхнего видимого элемента.

### <a name="example"></a>Пример

```cpp
        // Make sure the focus is set to the list view control.
        m_myListCtrl.SetFocus();

        // Select all of the items that are completely visible.
        int n = m_myListCtrl.GetTopIndex();
        int nLast = n + m_myListCtrl.GetCountPerPage();

        for (; n < nLast; n++)
        {
            m_myListCtrl.SetItemState(n, LVIS_SELECTED, LVIS_SELECTED);
            ASSERT(m_myListCtrl.GetItemState(n, LVIS_SELECTED) == LVIS_SELECTED);
        }
```

## <a name="getview"></a>CListCtrl:: View

Возвращает представление элемента управления "представление списка".

```
DWORD GetView() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущее представление элемента управления "представление списка".

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_GETVIEW](/windows/win32/Controls/lvm-getview) сообщения, как описано в Windows SDK.

## <a name="getviewrect"></a>CListCtrl:: Жетвиеврект

Извлекает ограничивающий прямоугольник всех элементов в элементе управления "представление списка".

```
BOOL GetViewRect(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Адрес структуры [Rect](/previous-versions/dd162897\(v=vs.85\)) .

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Представление списка должно быть в виде значков или мелких значков.

## <a name="getworkareas"></a>CListCtrl:: Жетворкареас

Извлекает текущие рабочие области элемента управления "представление списка".

```
void GetWorkAreas(
    int nWorkAreas,
    LPRECT pRect) const;
```

### <a name="parameters"></a>Параметры

*нворкареас*<br/>
Число структур `RECT`, содержащихся в массиве *прект* .

*прект*<br/>
Указатель на массив `RECT`ных структур (или объектов [крект](../../atl-mfc-shared/reference/crect-class.md) ), которые получают рабочие области элемента управления "представление списка". Значения в этих структурах находятся в клиентских координатах.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_GetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_getworkareas), как описано в Windows SDK.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жетнумберофворкареас](#getnumberofworkareas).

## <a name="hasgroup"></a>CListCtrl:: Хасграуп

Определяет, имеет ли элемент управления "представление списка" указанную группу.

```
BOOL HasGroup(int iGroupId) const;
```

### <a name="parameters"></a>Параметры

*играупид*<br/>
Идентификатор запрашиваемой группы.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE при успешном выполнении, FALSE в случае сбоя.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_HASGROUP](/windows/win32/Controls/lvm-hasgroup) сообщения, как описано в Windows SDK.

## <a name="hittest"></a>CListCtrl:: HitTest

Определяет, какой элемент представления списка (если имеется) находится в указанной позиции.

```
int HitTest(LVHITTESTINFO* pHitTestInfo) const;

int HitTest(
    CPoint pt,
    UINT* pFlags = NULL) const;
```

### <a name="parameters"></a>Параметры

*фиттестинфо*<br/>
Адрес структуры `LVHITTESTINFO`, содержащей расположение для проверки попадания и получающего сведения о результатах проверки попадания.

*пт*<br/>
Проверяемая точка.

*пфлагс*<br/>
Указатель на целое число, получающее сведения о результатах теста. См. Описание элемента `flags` структуры [лвхиттестинфо](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Индекс элемента в позиции, указанной параметром *фиттестинфо*, если он есть, или значение-1 в противном случае.

### <a name="remarks"></a>Remarks

Можно использовать значения LVHT_ABOVE, LVHT_BELOW, LVHT_TOLEFT и LVHT_TORIGHT элемента `flag` структуры, чтобы определить, следует ли прокручивать содержимое элемента управления "представление списка". Два из этих флагов можно комбинировать, например, если они расположены выше и слева от клиентской области.

Можно проверить LVHT_ONITEM значение элемента `flag` структуры, чтобы определить, находится ли данная позиция над элементом представления списка. Это значение является операцией побитового или для LVHT_ONITEMICON, LVHT_ONITEMLABEL и LVHT_ONITEMSTATEICON значений элемента `flag` структуры.

### <a name="example"></a>Пример

```cpp
void CListCtrlDlg::OnRClick(NMHDR* pNMHDR, LRESULT* pResult)
{
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    CPoint point(pia->ptAction);

    // Select the item the user clicked on.
    UINT uFlags;
    int nItem = m_myListCtrl.HitTest(point, &uFlags);

    if (uFlags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItem(nItem, 0, LVIF_STATE, NULL, 0, LVIS_SELECTED,
            LVIS_SELECTED, 0);
    }

    *pResult = 0;
}
```

## <a name="insertcolumn"></a>CListCtrl:: Инсертколумн

Вставляет новый столбец в элемент управления "представление списка".

```
int InsertColumn(
    int nCol,
    const LVCOLUMN* pColumn);

int InsertColumn(
    int nCol,
    LPCTSTR lpszColumnHeading,
    int nFormat = LVCFMT_LEFT,
    int nWidth = -1,
    int nSubItem = -1);
```

### <a name="parameters"></a>Параметры

*нкол*<br/>
Индекс нового столбца.

*пколумн*<br/>
Адрес структуры `LVCOLUMN`, содержащей атрибуты нового столбца.

*лпсзколумнхеадинг*<br/>
Адрес строки, содержащей заголовок столбца.

*нформат*<br/>
Целое число, указывающее выравнивание столбца. Может принимать одно из следующих значений: LVCFMT_LEFT, LVCFMT_RIGHT или LVCFMT_CENTER.

*нвидс*<br/>
Ширина столбца в пикселях. Если этот параметр имеет значение-1, ширина столбца не задана.

*нсубитем*<br/>
Индекс подэлемента, связанного со столбцом. Если этот параметр имеет значение-1, подэлемент не связан со столбцом.

### <a name="return-value"></a>Возвращаемое значение

Индекс нового столбца в случае успеха или-1 в противном случае.

### <a name="remarks"></a>Remarks

Крайний левый столбец в элементе управления "представление списка" должен быть по левому краю.

Структура [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) содержит атрибуты столбца в представлении отчетов. Он также используется для получения сведений о столбце. Эта структура описана в Windows SDK.

## <a name="insertgroup"></a>CListCtrl:: Инсертграуп

Вставляет группу в элемент управления представлением списка.

```
LRESULT InsertGroup(
    int index,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Параметры

*index*<br/>
Индекс элемента, в который будет вставлена группа.

*пгрп*<br/>
Указатель на структуру [лвграуп](/windows/win32/api/commctrl/ns-commctrl-lvgroup) , содержащую добавляемую группу.

### <a name="return-value"></a>Возвращаемое значение

Возвращает индекс элемента, к которому была добавлена группа, или значение-1, если операция завершилась ошибкой.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_INSERTGROUP](/windows/win32/Controls/lvm-insertgroup) сообщения, как описано в Windows SDK.

## <a name="insertgroupsorted"></a>CListCtrl:: Инсертграупсортед

Вставляет указанную группу в упорядоченный список групп.

```
LRESULT InsertGroupSorted(PLVINSERTGROUPSORTED pStructInsert);
```

### <a name="parameters"></a>Параметры

*пструктинсерт*<br/>
Указатель на структуру [лвинсертграупсортед](/windows/win32/api/commctrl/ns-commctrl-lvinsertgroupsorted) , содержащую вставляемую группу.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не используется.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_INSERTGROUPSORTED](/windows/win32/Controls/lvm-insertgroupsorted) сообщения, как описано в Windows SDK.

## <a name="insertitem"></a>CListCtrl:: InsertItem

Вставляет элемент в элемент управления "представление списка".

```
int InsertItem(const LVITEM* pItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem);

int InsertItem(
    int nItem,
    LPCTSTR lpszItem,
    int nImage);

int InsertItem(
    UINT nMask,
    int nItem,
    LPCTSTR lpszItem,
    UINT nState,
    UINT nStateMask,
    int nImage,
    LPARAM lParam);
```

### <a name="parameters"></a>Параметры

*питем*<br/>
Указатель на структуру [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , указывающую атрибуты элемента, как описано в Windows SDK.

*нитем*<br/>
Индекс вставляемого элемента.

*лпсзитем*<br/>
Адрес строки, содержащей метку элемента, или LPSTR_TEXTCALLBACK, если элемент является элементом обратного вызова. Дополнительные сведения об элементах обратного вызова см. в разделе [CListCtrl:: жеткаллбаккмаск](#getcallbackmask).

*нимаже*<br/>
Индекс изображения элемента или I_IMAGECALLBACK, если элемент является элементом обратного вызова. Дополнительные сведения об элементах обратного вызова см. в разделе [CListCtrl:: жеткаллбаккмаск](#getcallbackmask).

*нмаск*<br/>
Параметр *нмаск* указывает, какие атрибуты элементов передаются как параметры. Это может быть одно или несколько значений маски, описанных в разделе [Структура лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) в Windows SDK. Допустимые значения могут сочетаться с оператором побитового или.

*Nсведения*<br/>
Указывает состояние элемента, изображение состояния и изображение оверлея. Дополнительные сведения см. в разделах Windows SDK [Лвитем Structure](/windows/win32/api/commctrl/ns-commctrl-lvitemw) и [List-View](/windows/win32/Controls/list-view-item-states) List, посвященных допустимым флагам.

*нстатемаск*<br/>
Указывает, какие биты члена состояния будут извлечены или изменены. Дополнительные сведения см. в разделе [Структура лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) в Windows SDK.

*lParam*<br/>
32-разрядное значение, зависящее от приложения, связанное с элементом. Если этот параметр указан, необходимо задать атрибут *нмаск* LVIF_PARAM.

### <a name="return-value"></a>Возвращаемое значение

Индекс нового элемента в случае успеха или-1 в противном случае.

### <a name="remarks"></a>Remarks

Вызов этого метода может привести к отправке сообщения LVM_INSERTITEM в окно управления. Связанный обработчик сообщений для элемента управления может не задать текст элемента при определенных условиях (например, с помощью стилей окон, например LVS_OWNERDRAW). Дополнительные сведения об этих условиях см. в разделе [LVM_INSERTITEM](/windows/win32/Controls/lvm-insertitem) в Windows SDK.

### <a name="example"></a>Пример

```cpp
        CString strText;
        int nColumnCount = m_myListCtrl.GetHeaderCtrl()->GetItemCount();

        // Insert 10 items in the list view control.
        for (int i = 0; i < 10; i++)
        {
            strText.Format(TEXT("item %d"), i);

            // Insert the item, select every other item.
            m_myListCtrl.InsertItem(LVIF_TEXT | LVIF_STATE, i, strText,
                (i % 2) == 0 ? LVIS_SELECTED : 0, LVIS_SELECTED, 0, 0);

            // Initialize the text of the subitems.
            for (int j = 1; j < nColumnCount; j++)
            {
                strText.Format(TEXT("sub-item %d %d"), i, j);
                m_myListCtrl.SetItemText(i, j, strText);
            }
        }
```

## <a name="insertmarkhittest"></a>CListCtrl:: Инсертмаркхиттест

Извлекает точку вставки, ближайшую к заданной точке.

```
int InsertMarkHitTest(
    LPPOINT pPoint,
    LPLVINSERTMARK plvim) const;
```

### <a name="parameters"></a>Параметры

*ппоинт*<br/>
Указатель на структуру [точек](/previous-versions/dd162805\(v=vs.85\)) , содержащую координаты проверки попадания относительно клиентской области элемента управления "список".

*плвим*<br/>
Указатель на структуру [лвинсертмарк](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) , указывающую точку вставки, ближайшую к координатам, определенным параметром Point.

### <a name="return-value"></a>Возвращаемое значение

Точка вставки, ближайшая к указанной точке.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_INSERTMARKHITTEST](/windows/win32/Controls/lvm-insertmarkhittest) сообщения, как описано в Windows SDK.

## <a name="isgroupviewenabled"></a>CListCtrl:: Исграупвиевенаблед

Определяет, включено ли представление группы для элемента управления "представление списка".

```
BOOL IsGroupViewEnabled() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE, если представление группы включено, или значение FALSE в противном случае.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_ISGROUPVIEWENABLED](/windows/win32/Controls/lvm-isgroupviewenabled) сообщения, как описано в Windows SDK.

## <a name="isitemvisible"></a>CListCtrl:: Иситемвисибле

Указывает, является ли видимым указанный элемент в текущем элементе управления "представление списка".

```
BOOL IsItemVisible(int index) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*index*|окне Отсчитываемый от нуля индекс элемента в текущем элементе управления "представление списка".|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если указанный элемент является видимым; в противном случае — значение FALSE.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_ISITEMVISIBLE](/windows/win32/Controls/lvm-isitemvisible) сообщение, описанное в Windows SDK.

## <a name="mapidtoindex"></a>CListCtrl:: Мапидтоиндекс

Сопоставляет уникальный идентификатор элемента в текущем элементе управления "список-представление" с индексом.

```
UINT MapIDToIndex(UINT id) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*идентификатор*|окне Уникальный идентификатор элемента.|

### <a name="return-value"></a>Возвращаемое значение

Текущий индекс для указанного идентификатора.

### <a name="remarks"></a>Remarks

Элемент управления "представление списка" внутренне отслеживает элементы по индексу. Это может представлять проблемы, так как индексы могут изменяться во время существования элемента управления. Элемент управления "список" может помечать элемент с ИДЕНТИФИКАТОРом при создании элемента и использовать этот идентификатор для гарантии уникальности в течение времени существования элемента управления "представление списка".

Обратите внимание, что в многопоточной среде индекс гарантируется только в потоке, где размещается элемент управления "представление списка", а не в фоновых потоках.

Этот метод отправляет [LVM_MAPIDTOINDEX](/windows/win32/controls/lvm-mapidtoindex) сообщение, описанное в Windows SDK.

## <a name="mapindextoid"></a>CListCtrl:: Мапиндекстоид

Сопоставляет индекс элемента в текущем элементе управления "представление списка" с уникальным ИДЕНТИФИКАТОРом.

```
UINT MapIndexToID(UINT index) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*index*|окне Отсчитываемый от нуля индекс элемента.|

### <a name="return-value"></a>Возвращаемое значение

Уникальный идентификатор указанного элемента.

### <a name="remarks"></a>Remarks

Элемент управления "представление списка" внутренне отслеживает элементы по индексу. Это может представлять проблемы, так как индексы могут изменяться во время существования элемента управления. Элемент управления "представление списка" может помечать элемент с ИДЕНТИФИКАТОРом при создании элемента. Этот идентификатор можно использовать для доступа к определенному элементу во время существования элемента управления "представление списка".

Обратите внимание, что в многопоточной среде индекс гарантируется только в потоке, где размещается элемент управления "представление списка", а не в фоновых потоках.

Этот метод отправляет [LVM_MAPINDEXTOID](/windows/win32/Controls/lvm-mapindextoid) сообщение, описанное в Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяется переменная, `m_listCtrl`, которая используется для доступа к текущему элементу управления "список-представление". Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

В следующем примере кода демонстрируется метод `MapIndexToID`. В предыдущем разделе этого примера кода мы создали элемент управления "представление списка", в котором в представлении отчета отображаются два столбца с названием "ClientID" и "Grade". В следующем примере индекс каждого элемента представления списка сопоставляется с идентификационным номером, а затем извлекается индекс для каждого идентификационного номера. Наконец, в примере сообщается о том, были ли извлечены исходные индексы.

```cpp
    // MapIndexToID
    int iCount = m_listCtrl.GetItemCount();
    UINT nId = 0;
    UINT nIndex = 0;
    for (int iIndexOriginal = 0; iIndexOriginal < iCount; iIndexOriginal++)
    {
        // Map index to ID.
        nId = m_listCtrl.MapIndexToID((UINT)iIndexOriginal);

        // Map ID to index.
        nIndex = m_listCtrl.MapIDToIndex(nId);

        if (nIndex != (UINT)(iIndexOriginal))
        {
            CString str;
            str.Format(_T("Mapped index (%d) is not equal to original index (%d)"),
                nIndex, (UINT)(iIndexOriginal));
            AfxMessageBox(str);
            return;
        }
    }
    AfxMessageBox(_T("The mapped indexes and original indexes are equal."),
        MB_ICONINFORMATION);
```

## <a name="movegroup"></a>CListCtrl:: Мовеграуп

Перемещает указанную группу в указанный Отсчитываемый от нуля индекс элемента управления "представление списка".

```
LRESULT MoveGroup(
    int iGroupId,
    int toIndex);
```

### <a name="parameters"></a>Параметры

*играупид*<br/>
Идентификатор перемещаемой группы.

*тоиндекс*<br/>
Отсчитываемый от нуля индекс, по которому будет перемещена группа.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не используется.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_MOVEGROUP](/windows/win32/Controls/lvm-movegroup) сообщения, как описано в Windows SDK.

## <a name="moveitemtogroup"></a>CListCtrl:: Мовеитемтограуп

Перемещает указанный элемент в указанную группу.

```
void MoveItemToGroup(
    int idItemFrom,
    int idGroupTo);
```

### <a name="parameters"></a>Параметры

*идитемфром*<br/>
окне Индекс перемещаемого элемента.

*идграупто*<br/>
окне Идентификатор группы, в которую будет перемещен элемент.

### <a name="remarks"></a>Remarks

> [!NOTE]
>  В настоящее время этот метод не реализован.

Этот метод эмулирует функциональность [LVM_MOVEITEMTOGROUP](/windows/win32/Controls/lvm-moveitemtogroup) сообщения, как описано в Windows SDK.

## <a name="redrawitems"></a>CListCtrl:: Редравитемс

Заставляет элемент управления представления списка перерисовывать диапазон элементов.

```
BOOL RedrawItems(
    int nFirst,
    int nLast);
```

### <a name="parameters"></a>Параметры

*Nпервая*<br/>
Индекс первого элемента, который необходимо перерисовать.

*Nпоследний*<br/>
Индекс последнего элемента, который необходимо перерисовать.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Указанные элементы на самом деле не перерисовывается, пока окно просмотра списка не получит сообщение WM_PAINT. Для немедленного перерисовки вызовите функцию Windows [упдатевиндов](/windows/win32/api/winuser/nf-winuser-updatewindow) после использования этой функции.

## <a name="removeallgroups"></a>CListCtrl:: Ремовеаллграупс

Удаляет все группы из элемента управления представлением списка.

```
void RemoveAllGroups();
```

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_REMOVEALLGROUPS](/windows/win32/Controls/lvm-removeallgroups) сообщения, как описано в Windows SDK.

## <a name="removegroup"></a>CListCtrl:: Ремовеграуп

Удаляет указанную группу из элемента управления представлением списка.

```
LRESULT RemoveGroup(int iGroupId);
```

### <a name="parameters"></a>Параметры

*играупид*<br/>
Идентификатор удаляемой группы.

### <a name="return-value"></a>Возвращаемое значение

Возвращает индекс группы в случае успеха или значение-1 в противном случае.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_REMOVEGROUP](/windows/win32/Controls/lvm-removegroup) сообщения, как описано в Windows SDK.

## <a name="scroll"></a>CListCtrl:: Scroll

Прокручивает содержимое элемента управления "представление списка".

```
BOOL Scroll(CSize size);
```

### <a name="parameters"></a>Параметры

*size*<br/>
Объект `CSize`, указывающий величину горизонтальной и вертикальной прокрутки в пикселях. `y` элемент *size* делится на высоту (в пикселях) строки элемента управления "список", и элемент управления прокручивается по результирующему количеству строк.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

## <a name="setbkcolor"></a>CListCtrl:: Сетбкколор

Задает цвет фона для элемента управления "представление списка".

```
BOOL SetBkColor(COLORREF cr);
```

### <a name="parameters"></a>Параметры

*Кредит*<br/>
Цвет фона для установки или значение CLR_NONE не для цвета фона. Элементы управления "представление списка" с фоновыми цветами перерисуются значительно быстрее, чем без фоновых цветов. Дополнительные сведения см. в разделе [COLORREF](/windows/win32/gdi/colorref) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetBkColor() == crBkColor);
```

## <a name="setbkimage"></a>CListCtrl:: Сетбкимаже

Задает фоновое изображение для элемента управления "представление списка".

```
BOOL SetBkImage(LVBKIMAGE* plvbkImage);

BOOL SetBkImage(
    HBITMAP hBitmap,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);

BOOL SetBkImage(
    LPTSTR pszUrl,
    BOOL fTile = TRUE,
    int xOffsetPercent = 0,
    int yOffsetPercent = 0);
```

### <a name="parameters"></a>Параметры

*плвбкимаже*<br/>
Адрес структуры `LVBKIMAGE`, содержащей новые сведения о фоновом изображении.

*хбитмап*<br/>
Маркер для точечного рисунка.

*псзурл*<br/>
Строка, завершающаяся нулем, которая содержит URL-адрес фонового изображения.

*фтиле*<br/>
Ненулевое значение, если изображение должно быть мозаичным в фоне элемента управления "представление списка"; в противном случае — 0.

*ксоффсетперцент*<br/>
Смещение (в пикселях) левого края изображения от начала элемента управления представления списка.

*йоффсетперцент*<br/>
Смещение (в пикселях) верхнего края изображения от начала элемента управления представления списка.

### <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевое значение в случае успеха или ноль в противном случае.

### <a name="remarks"></a>Remarks

> [!NOTE]
>  Поскольку `CListCtrl::SetBkImage` использует функции OLE COM, библиотеки OLE должны быть инициализированы перед использованием `SetBkImage`. Рекомендуется инициализировать библиотеки COM при инициализации приложения и деинициализировать библиотеки при завершении работы приложения. Это автоматически выполняется в приложениях MFC, которые используют технологию ActiveX, OLE-автоматизацию, связывание и внедрение OLE, а также операции ODBC/DAO.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жетбкимаже](#getbkimage).

## <a name="setcallbackmask"></a>CListCtrl:: Сеткаллбаккмаск

Задает маску обратного вызова для элемента управления представления списка.

```
BOOL SetCallbackMask(UINT nMask);
```

### <a name="parameters"></a>Параметры

*нмаск*<br/>
Новое значение маски обратного вызова.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
    // Set the callback mask so that only the selected and focused states
    // are stored for each item.
    m_myListCtrl.SetCallbackMask(LVIS_SELECTED|LVIS_FOCUSED);
    ASSERT(m_myListCtrl.GetCallbackMask() ==
        (LVIS_SELECTED|LVIS_FOCUSED));
```

## <a name="setcheck"></a>CListCtrl:: Сетчекк

Определяет, является ли изображение состояния элемента управления "список" видимым.

```
BOOL SetCheck(
    int nItem,
    BOOL fCheck = TRUE);
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Отсчитываемый от нуля индекс элемента управления "список".

*фчекк*<br/>
Указывает, следует ли отображать изображение состояния элемента. По умолчанию *фчекк* имеет значение true, а изображение состояния является видимым. Если *фчекк* имеет значение false, оно не отображается.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если элемент установлен, в противном случае — 0.

### <a name="example"></a>Пример

```cpp
        int nCount = m_myListCtrl.GetItemCount();
        BOOL fCheck = FALSE;

        // Set the check state of every other item to TRUE and
        // all others to FALSE.
        for (int i = 0; i < nCount; i++)
        {
            m_myListCtrl.SetCheck(i, fCheck);
            ASSERT((m_myListCtrl.GetCheck(i) && fCheck) ||
                (!m_myListCtrl.GetCheck(i) && !fCheck));
            fCheck = !fCheck;
        }
```

## <a name="setcolumn"></a>CListCtrl:: Сетколумн

Задает атрибуты столбца представления списка.

```
BOOL SetColumn(
    int nCol,
    const LVCOLUMN* pColumn);
```

### <a name="parameters"></a>Параметры

*нкол*<br/>
Индекс столбца, атрибуты которого должны быть заданы.

*пколумн*<br/>
Адрес структуры [LVCOLUMN](/windows/win32/api/commctrl/ns-commctrl-lvcolumnw) , которая содержит атрибуты нового столбца, как описано в Windows SDK. Элемент `mask` структуры указывает, какие атрибуты столбца задаются. Если элемент `mask` задает значение LVCF_TEXT, то элемент `pszText` структуры является адресом строки, завершающейся нулем, а элемент `cchTextMax` структуры игнорируется.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: DataColumn](#getcolumn).

## <a name="setcolumnorderarray"></a>CListCtrl:: Сетколумнордераррай

Задает порядок столбцов (слева направо) элемента управления "представление списка".

```
BOOL SetColumnOrderArray(
    int iCount,
    LPINT piArray);
```

### <a name="parameters"></a>Параметры

*пиаррай*<br/>
Указатель на буфер, содержащий значения индекса столбцов в элементе управления "список" (слева направо). Буфер должен быть достаточно большим, чтобы вместить общее число столбцов в элементе управления "список".

*икаунт*<br/>
Число столбцов в элементе управления "представление списка".

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetColumnOrderArray](/windows/win32/api/commctrl/nf-commctrl-listview_setcolumnorderarray), как описано в Windows SDK.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жетколумнордераррай](#getcolumnorderarray).

## <a name="setcolumnwidth"></a>CListCtrl:: Сетколумнвидс

Изменяет ширину столбца в представлении отчета или в виде списка.

```
BOOL SetColumnWidth(
    int nCol,
    int cx);
```

### <a name="parameters"></a>Параметры

*нкол*<br/>
Индекс столбца, для которого задается ширина. В представлении списка этот параметр должен иметь значение 0.

*cx*<br/>
Новое значение ширины столбца. Может быть либо LVSCW_AUTOSIZE, либо LVSCW_AUTOSIZE_USEHEADER, как описано в [LVM_SETCOLUMNWIDTH](/windows/win32/Controls/lvm-setcolumnwidth) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

## <a name="setextendedstyle"></a>CListCtrl:: Сетекстендедстиле

Задает текущие расширенные стили элемента управления "представление списка".

```
DWORD SetExtendedStyle(DWORD dwNewStyle);
```

### <a name="parameters"></a>Параметры

*двневстиле*<br/>
Сочетание расширенных стилей, используемых элементом управления "представление списка". Описательный список этих стилей см. в разделе [Расширенные стили представления списка](/windows/win32/Controls/extended-list-view-styles) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Сочетание предыдущих расширенных стилей, используемых элементом управления "представление списка".

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetExtendedListViewStyle](/windows/win32/api/commctrl/nf-commctrl-listview_setextendedlistviewstyle), как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Allow the header controls item to be movable by the user.
    m_myListCtrl.SetExtendedStyle
        (m_myListCtrl.GetExtendedStyle()|LVS_EX_HEADERDRAGDROP);
```

## <a name="setgroupinfo"></a>CListCtrl:: Сетграупинфо

Задает сведения, описывающие указанную группу текущего элемента управления "представление списка".

```
int SetGroupInfo(
    int iGroupId,
    PLVGROUP pgrp);
```

### <a name="parameters"></a>Параметры

*играупид*<br/>
Идентификатор группы, сведения о которой заданы.

*пгрп*<br/>
Указатель на структуру [лвграуп](/windows/win32/api/commctrl/ns-commctrl-lvgroup) , содержащую сведения, которые необходимо задать. Вызывающий объект отвечает за выделение этой структуры и задание ее членов.

### <a name="return-value"></a>Возвращаемое значение

Идентификатор группы, если метод выполнен успешно; в противном случае — значение-1.

### <a name="remarks"></a>Remarks

Этот метод отправляет [LVM_SETGROUPINFO](/windows/win32/Controls/lvm-setgroupinfo) сообщение, описанное в Windows SDK.

## <a name="setgroupmetrics"></a>CListCtrl:: Сетграупметрикс

Задает метрики группы для элемента управления представления списка.

```
void SetGroupMetrics(PLVGROUPMETRICS pGroupMetrics);
```

### <a name="parameters"></a>Параметры

*пграупметрикс*<br/>
Указатель на структуру [лвграупметрикс](/windows/win32/api/commctrl/ns-commctrl-lvgroupmetrics) , содержащую сведения о метриках группы, которые необходимо задать.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_SETGROUPMETRICS](/windows/win32/Controls/lvm-setgroupmetrics) сообщения, как описано в Windows SDK.

## <a name="sethotcursor"></a>CListCtrl:: Сесоткурсор

Задает курсор, используемый при включенном отключении отслеживания для элемента управления "представление списка".

```
HCURSOR SetHotCursor(HCURSOR hc);
```

### <a name="parameters"></a>Параметры

*HC*<br/>
Указатель на ресурс курсора, используемый для представления горячего курсора.

### <a name="return-value"></a>Возвращаемое значение

Указатель предыдущего ресурса горячего курсора, используемого элементом управления "список".

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetHotCursor](/windows/win32/api/commctrl/nf-commctrl-listview_sethotcursor), как описано в Windows SDK.

Активный курсор, видимый только при включении выделения при наведении, отображается, когда курсор передается над любым элементом представления списка. Выделение при наведении включено с помощью задания расширенного стиля LVS_EX_TRACKSELECT.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жесоткурсор](#gethotcursor).

## <a name="sethotitem"></a>CListCtrl:: Сесотитем

Задает текущий активный элемент элемента управления "представление списка".

```
int SetHotItem(int iIndex);
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
Отсчитываемый от нуля индекс элемента, который должен быть установлен в качестве горячего элемента.

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от нуля индекс ранее неактивного элемента.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetHotItem](/windows/win32/api/commctrl/nf-commctrl-listview_sethotitem), как описано в Windows SDK.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жесотитем](#gethotitem).

## <a name="sethovertime"></a>CListCtrl:: Сесовертиме

Задает текущее время наведения на элемент управления представления списка.

```
DWORD SetHoverTime(DWORD dwHoverTime = (DWORD)-1);
```

### <a name="parameters"></a>Параметры

*двховертиме*<br/>
Новая задержка (в миллисекундах), на которую должен навести курсор мыши над элементом, прежде чем он будет выбран. Если передается значение по умолчанию, то время настраивается на время наведения по умолчанию.

### <a name="return-value"></a>Возвращаемое значение

Предыдущее время наведения (в миллисекундах).

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetHoverTime](/windows/win32/api/commctrl/nf-commctrl-listview_sethovertime), как описано в Windows SDK.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жесовертиме](#gethovertime).

## <a name="seticonspacing"></a>CListCtrl:: СетиконспаЦинг

Задает интервал между значками в элементе управления "представление списка".

```
CSize SetIconSpacing(
    int cx,
    int cy);

CSize SetIconSpacing(CSize size);
```

### <a name="parameters"></a>Параметры

*cx*<br/>
Расстояние (в пикселях) между значками на оси x.

*CY*<br/>
Расстояние (в пикселях) между значками на оси y.

*size*<br/>
Объект `CSize`, указывающий расстояние (в пикселях) между значками осей x и y.

### <a name="return-value"></a>Возвращаемое значение

Объект [ксизе](../../atl-mfc-shared/reference/csize-class.md) , содержащий предыдущие значения для промежутков между значками.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetIconSpacing](/windows/win32/api/commctrl/nf-commctrl-listview_seticonspacing), как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Leave lots of space between icons.
    m_myListCtrl.SetIconSpacing(CSize(100, 100));
```

## <a name="setimagelist"></a>CListCtrl:: Сетимажелист

Присваивает список изображений элементу управления "представление списка".

```
CImageList* SetImageList(
    CImageList* pImageList,
    int nImageListType);
```

### <a name="parameters"></a>Параметры

*пимажелист*<br/>
Указатель на список изображений для назначения.

*нимажелисттипе*<br/>
Тип списка изображений. Это может быть одно из следующих значений:

- LVSIL_NORMAL список изображений с большими значками.

- LVSIL_SMALL список изображений с мелкими значками.

- LVSIL_STATE список образов с изображениями состояний.

### <a name="return-value"></a>Возвращаемое значение

Указатель на предыдущий список изображений.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: коimagelist](#getimagelist).

## <a name="setinfotip"></a>CListCtrl:: Сетинфотип

Задает текст подсказки.

```
BOOL SetInfoTip(PLVSETINFOTIP plvInfoTip);
```

### <a name="parameters"></a>Параметры

*плвинфотип*<br/>
Указатель на структуру [лвфсетинфотип](/windows/win32/api/commctrl/ns-commctrl-lvsetinfotip) , содержащую данные, которые необходимо задать.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE при успешном выполнении, FALSE в случае сбоя.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_SETINFOTIP](/windows/win32/Controls/lvm-setinfotip) сообщения, как описано в Windows SDK.

## <a name="setinsertmark"></a>CListCtrl:: Сетинсертмарк

Задает точку вставки в заданную позицию.

```
BOOL SetInsertMark(LPLVINSERTMARK plvim);
```

### <a name="parameters"></a>Параметры

*плвим*<br/>
Указатель на структуру [лвинсертмарк](/windows/win32/api/commctrl/ns-commctrl-lvinsertmark) , указывающую, где следует установить точку вставки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает значение TRUE, если успешно, или FALSE в противном случае. Значение FALSE возвращается, если размер в `cbSize` элемента структуры `LVINSERTMARK` не равен фактическому размеру структуры или если точка вставки не применяется в текущем представлении.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_SETINSERTMARK](/windows/win32/Controls/lvm-setinsertmark) сообщения, как описано в Windows SDK.

## <a name="setinsertmarkcolor"></a>CListCtrl:: Сетинсертмаркколор

Задает цвет точки вставки.

```
COLORREF SetInsertMarkColor(COLORREF color);
```

### <a name="parameters"></a>Параметры

*color*<br/>
Структура [COLORREF](/windows/win32/gdi/colorref) , указывающая цвет для установки точки вставки.

### <a name="return-value"></a>Возвращаемое значение

Возвращает структуру `COLORREF`, содержащую предыдущий цвет.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_SETINSERTMARKCOLOR](/windows/win32/Controls/lvm-setinsertmarkcolor) сообщения, как описано в Windows SDK.

## <a name="setitem"></a>CListCtrl:: Сетитем

Задает некоторые или все атрибуты элемента представления списка.

```
BOOL SetItem(const LVITEM* pItem);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam);

BOOL SetItem(
    int nItem,
    int nSubItem,
    UINT nMask,
    LPCTSTR lpszItem,
    int nImage,
    UINT nState,
    UINT nStateMask,
    LPARAM lParam,
    int nIndent);
```

### <a name="parameters"></a>Параметры

*питем*<br/>
Адрес структуры [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , содержащей новые атрибуты элемента, как описано в Windows SDK. Элементы `iItem` и `iSubItem` структуры определяют элемент или подэлемент, а элемент `mask` структуры определяет, какие атрибуты следует задать. Дополнительные сведения об элементе `mask` см. в разделе **"Примечания**".

*нитем*<br/>
Индекс элемента, атрибуты которого должны быть заданы.

*нсубитем*<br/>
Индекс подэлемента, атрибуты которого должны быть заданы.

*нмаск*<br/>
Указывает, какие атрибуты должны быть установлены (см. примечания).

*лпсзитем*<br/>
Адрес строки с завершающим нулем, указывающей метку элемента.

*нимаже*<br/>
Индекс изображения элемента в списке изображений.

*Nсведения*<br/>
Указывает значения для изменяемых состояний (см. примечания).

*нстатемаск*<br/>
Указывает, какие состояния должны быть изменены (см. примечания).

*lParam*<br/>
32-битное значение, зависящее от приложения, которое должно быть связано с элементом.

*ниндент*<br/>
Ширина (в пикселях) отступа. Если *ниндент* меньше, чем определенная системой минимальная ширина, то для новой ширины задается минимум, определенный системой.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Элементы `iItem` и `iSubItem` структуры `LVITEM`, а также параметры *нитем* и *нсубитем* определяют элемент и подэлемент, атрибуты которого должны быть заданы.

Элемент `mask` структуры `LVITEM` и параметр *нмаск* определяют, какие атрибуты элементов должны быть установлены:

- LVIF_TEXT элемент `pszText` или параметр *лпсзитем* является адресом строки, завершающейся нулем; элемент `cchTextMax` игнорируется.

- LVIF_STATE параметр `stateMask` Member или *нстатемаск* указывает, какие состояния элементов следует изменить, а параметр элемента `state` или *nсведения* содержит значения этих состояний.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: HitTest](#hittest).

## <a name="setitemcount"></a>CListCtrl:: Сетитемкаунт

Подготавливает элемент управления "представление списка" для добавления большого количества элементов.

```
void SetItemCount(int nItems);
```

### <a name="parameters"></a>Параметры

*нитемс*<br/>
Количество элементов, которые в конечном итоге будет содержать элемент управления.

### <a name="remarks"></a>Remarks

Сведения о задании числа элементов для элемента управления виртуального представления списка см. в разделе [CListCtrl:: сетитемкаунтекс](#setitemcountex).

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetItemCount](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcount), как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
        CString str;

        // Add 1024 items to the list view control.
        m_myListCtrl.SetItemCount(1024);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemcountex"></a>CListCtrl:: Сетитемкаунтекс

Задает число элементов для элемента управления виртуального представления списка.

```
BOOL SetItemCountEx(
    int iCount,
    DWORD dwFlags = LVSICF_NOINVALIDATEALL);
```

### <a name="parameters"></a>Параметры

*икаунт*<br/>
Количество элементов, которые в конечном итоге будет содержать элемент управления.

*dwFlags*<br/>
Задает поведение элемента управления "представление списка" после сброса числа элементов. Это значение может быть сочетанием следующих значений:

- LVSICF_NOINVALIDATEALL элемент управления "список" не будет перерисовываться, если только затронутые элементы в настоящее время находятся в представлении. Это значение по умолчанию.

- LVSICF_NOSCROLL элемент управления "представление списка" не изменит позицию прокрутки при изменении числа элементов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetItemCountEx](/windows/win32/api/commctrl/nf-commctrl-listview_setitemcountex), как описано в разделе Windows сдканд, только для виртуальных представлений списка.

### <a name="example"></a>Пример

```cpp
        CString str;

        // Add 1024 items to the list view control.

        // Force my virtual list view control to allocate
        // enough memory for my 1024 items.
        m_myVirtualListCtrl.SetItemCountEx(1024, LVSICF_NOSCROLL|
            LVSICF_NOINVALIDATEALL);

        for (int i = 0; i < 1024; i++)
        {
            str.Format(TEXT("item %d"), i);
            m_myVirtualListCtrl.InsertItem(i, str);
        }
```

## <a name="setitemdata"></a>CListCtrl:: Сетитемдата

Задает значение 32-разрядного приложения, связанное с элементом, заданным параметром *нитем*.

```
BOOL SetItemData(int nItem, DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента списка, данные которого должны быть заданы.

*двдата*<br/>
32-разрядное значение, связываемое с элементом.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Remarks

Это значение является `lParam` элементом структуры [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Set the data of each item to be equal to its index.
    for (int i = 0; i < m_myListCtrl.GetItemCount(); i++)
    {
        m_myListCtrl.SetItemData(i, i);
    }
```

## <a name="setitemindexstate"></a>CListCtrl:: Сетитеминдексстате

Задает состояние элемента в текущем элементе управления "представление списка".

```
BOOL SetItemIndexState(
    PLVITEMINDEX pItemIndex,
    DWORD dwState,
    DWORD dwMask) const;
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*питеминдекс*|окне Указатель на структуру [лвитеминдекс](/windows/win32/api/commctrl/ns-commctrl-lvitemindex) , описывающую элемент. Вызывающий объект отвечает за выделение этой структуры и задание ее членов.|
|*двстате*|окне Состояние для задания элемента, который является побитовым сочетанием [состояний элементов представления списка](/windows/win32/Controls/list-view-item-states). Укажите нуль для сброса или один для задания состояния.|
|*двмаск*|окне Маска допустимых битов состояния, заданных параметром *двстате* . Укажите побитовое сочетание (или) [состояний элементов представления списка](/windows/win32/Controls/list-view-item-states).|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Remarks

Дополнительные сведения о параметре *двстате* см. в разделе [список состояний элементов представления списка](/windows/win32/Controls/list-view-item-states).

Дополнительные сведения о параметре *двмаск* см. в описании элемента *статемаск* структуры [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) .

Этот метод отправляет [LVM_SETITEMINDEXSTATE](/windows/win32/Controls/lvm-setitemindexstate) сообщение, описанное в Windows SDK.

## <a name="setitemposition"></a>CListCtrl:: Сетитемпоситион

Перемещает элемент в указанную позицию в элементе управления "представление списка".

```
BOOL SetItemPosition(
    int nItem,
    POINT pt);
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента, позиция которого должна быть задана.

*пт*<br/>
Структура [точек](/previous-versions/dd162805\(v=vs.85\)) , указывающая новую позицию в координатах представления в левом верхнем углу элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Элемент управления должен быть в виде значка или маленького значка.

Если элемент управления "представление списка" имеет стиль LVS_AUTOARRANGE, представление списка упорядочивается после установки позиции элемента.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жетитемпоситион](#getitemposition).

## <a name="setitemstate"></a>CListCtrl:: Сетитемстате

Изменяет состояние элемента в элементе управления "представление списка".

```
BOOL SetItemState(
    int nItem,
    LVITEM* pItem);

BOOL SetItemState(
    int nItem,
    UINT nState,
    UINT nMask);
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента, состояние которого должно быть задано.

*питем*<br/>
Адрес структуры [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) , как описано в Windows SDK. Элемент `stateMask` структуры указывает, какие биты состояния следует изменить, а элемент `state` структуры содержит новые значения для этих битов. Остальные элементы игнорируются.

*Nсведения*<br/>
Новые значения для битов состояния. Список возможных значений см. в разделе [CListCtrl:: жетнекститем](#getnextitem) и элемент State [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) .

*нмаск*<br/>
Маска, указывающая, какие биты состояния следует изменить. Это значение соответствует элементу Статемаск структуры [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) .

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Состояние элемента — это значение, которое указывает доступность элемента, указывает действия пользователя или иным образом отражает состояние элемента. Элемент управления "представление списка" изменяет некоторые биты состояния, например, когда пользователь выбирает элемент. Приложение может изменить другие биты состояния, чтобы отключить или скрыть элемент, или указать изображение оверлея или изображение состояния.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жеттопиндекс](#gettopindex).

## <a name="setitemtext"></a>  CListCtrl::SetItemText

Изменяет текст элемента представления списка или подэлемента.

```
BOOL SetItemText(
    int nItem,
    int nSubItem,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс элемента, текст которого необходимо задать.

*нсубитем*<br/>
Индекс подэлемента или нуль, чтобы задать метку элемента.

*lpszText*<br/>
Указатель на строку, содержащую новый текст элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Этот метод не предназначен для использования с элементами управления, содержащими стиль окна LVS_OWNERDATA (на самом деле это приведет к утверждению в отладочных сборках). Дополнительные сведения об этом стиле элемента управления "список" см. в разделе [Общие сведения о элементах управления "список](/windows/win32/Controls/list-view-controls-overview)".

### <a name="example"></a>Пример

См. пример для [CListCtrl:: InsertItem](#insertitem).

## <a name="setoutlinecolor"></a>  CListCtrl::SetOutlineColor

Задает цвет границы элемента управления "представление списка", если задан расширенный стиль окна [LVS_EX_BORDERSELECT](/windows/win32/Controls/list-view-window-styles) .

```
COLORREF SetOutlineColor(COLORREF color);
```

### <a name="parameters"></a>Параметры

*color*<br/>
Новая структура [COLORREF](/windows/win32/gdi/colorref) , содержащая цвет контура.

### <a name="return-value"></a>Возвращаемое значение

Предыдущая структура `COLORREF`, содержащая цвет контура

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_SETOUTLINECOLOR](/windows/win32/Controls/lvm-setoutlinecolor) сообщения, как описано в Windows SDK.

## <a name="setselectedcolumn"></a>CListCtrl:: Сетселектедколумн

Задает выбранный столбец элемента управления "представление списка".

```
LRESULT SetSelectedColumn(int iCol);
```

### <a name="parameters"></a>Параметры

*iCol*<br/>
Индекс столбца, который необходимо выбрать.

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не используется.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_SETSELECTEDCOLUMN](/windows/win32/Controls/lvm-setselectedcolumn) сообщения, как описано в Windows SDK.

## <a name="setselectionmark"></a>CListCtrl:: Сетселектионмарк

Задает отметку выделения для элемента управления представления списка.

```
int SetSelectionMark(int iIndex);
```

### <a name="parameters"></a>Параметры

*ииндекс*<br/>
Отсчитываемый от нуля индекс первого элемента в множественном выделении.

### <a name="return-value"></a>Возвращаемое значение

Предыдущая отметка выделения или-1, если нет отметки выделения.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetSelectionMark](/windows/win32/api/commctrl/nf-commctrl-listview_setselectionmark), как описано в Windows SDK.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жетселектионмарк](#getselectionmark).

## <a name="settextbkcolor"></a>CListCtrl:: Сеттекстбкколор

Задает цвет фона для текста в элементе управления "представление списка".

```
BOOL SetTextBkColor(COLORREF cr);
```

### <a name="parameters"></a>Параметры

*Кредит*<br/>
Объект COLORREF, указывающий новый цвет фона текста. Дополнительные сведения см. в разделе [COLORREF](/windows/win32/gdi/colorref) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
        // Use the 3D button face color for the background.
        COLORREF crBkColor = ::GetSysColor(COLOR_3DFACE);
        m_myListCtrl.SetTextBkColor(crBkColor);
        ASSERT(m_myListCtrl.GetTextBkColor() == crBkColor);
```

## <a name="settextcolor"></a>  CListCtrl::SetTextColor

Задает цвет текста для элемента управления "представление списка".

```
BOOL SetTextColor(COLORREF cr);
```

### <a name="parameters"></a>Параметры

*Кредит*<br/>
Объект COLORREF, указывающий новый цвет текста. Дополнительные сведения см. в разделе [COLORREF](/windows/win32/gdi/colorref) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="example"></a>Пример

```cpp
    // Use the window text color for
    // the item text of the list view control.
    COLORREF crTextColor = ::GetSysColor(COLOR_WINDOWTEXT);
    m_myListCtrl.SetTextColor(crTextColor);
    ASSERT(m_myListCtrl.GetTextColor() == crTextColor);
```

## <a name="settileinfo"></a>CListCtrl:: Сеттилеинфо

Задает сведения для плитки элемента управления представления списка.

```
BOOL SetTileInfo(PLVTILEINFO pTileInfo);
```

### <a name="parameters"></a>Параметры

*птилеинфо*<br/>
Указатель на структуру [лвтилеинфо](/windows/win32/api/commctrl/ns-commctrl-lvtileinfo) , содержащую данные, которые необходимо задать.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE при успешном выполнении, FALSE в случае сбоя.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_SETTILEINFO](/windows/win32/Controls/lvm-settileinfo) сообщения, как описано в Windows SDK.

## <a name="settileviewinfo"></a>CListCtrl:: Сеттилевиевинфо

Задает сведения, используемые элементом управления "представление списка" в мозаичном представлении.

```
BOOL SetTileViewInfo(PLVTILEVIEWINFO ptvi);
```

### <a name="parameters"></a>Параметры

*птви*<br/>
Указатель на структуру [лвтилевиевинфо](/windows/win32/api/commctrl/ns-commctrl-lvtileviewinfo) , содержащую сведения, которые необходимо задать.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE при успешном выполнении, FALSE в случае сбоя.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_SETTILEVIEWINFO](/windows/win32/Controls/lvm-settileviewinfo) сообщения, как описано в Windows SDK.

## <a name="settooltips"></a>CListCtrl:: Сеттултипс

Задает элемент управления ToolTip, который будет использоваться элементом управления "представление списка" для отображения всплывающих подсказок.

```
CToolTipCtrl* SetToolTips(CToolTipCtrl* pWndTip);
```

### <a name="parameters"></a>Параметры

*пвндтип*<br/>
Указатель на объект `CToolTipCtrl`, который будет использоваться элементом управления "список".

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [CToolTipCtrl](ctooltipctrl-class.md) , содержащий подсказку, ранее используемую элементом управления, или значение null, если ни одна из подсказок не использовалась ранее.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение сообщения Win32 [LVM_SETTOOLTIPS](/windows/win32/Controls/lvm-settooltips), как описано в Windows SDK.

Чтобы не использовать подсказки, укажите стиль LVS_NOTOOLTIPS при создании объекта `CListCtrl`.

## <a name="setview"></a>CListCtrl:: Сетвиев

Задает представление элемента управления "представление списка".

```
DWORD SetView(int iView);
```

### <a name="parameters"></a>Параметры

*iView*<br/>
Выбранное представление.

### <a name="return-value"></a>Возвращаемое значение

Возвращает 1, если успешно, или-1 в противном случае. Например, если представление недопустимо, возвращается значение-1.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_SETVIEW](/windows/win32/Controls/lvm-setview) сообщения, как описано в Windows SDK.

## <a name="setworkareas"></a>CListCtrl:: Сетворкареас

Задает область, в которой значки могут отображаться в элементе управления "представление списка".

```
void SetWorkAreas(
    int nWorkAreas,
    LPRECT lpRect);
```

### <a name="parameters"></a>Параметры

*нворкареас*<br/>
Число структур `RECT` (или объектов [крект](../../atl-mfc-shared/reference/crect-class.md) ) в массиве, на который указывает *лпрект*.

*лпрект*<br/>
Адрес массива структур `RECT` (или `CRect` объектов), которые указывают новые рабочие области элемента управления "представление списка". Эти области должны быть указаны в клиентских координатах. Если этот параметр имеет значение NULL, то Рабочая область будет задаваться в клиентской области элемента управления.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SetWorkAreas](/windows/win32/api/commctrl/nf-commctrl-listview_setworkareas), как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
    // Remove all working areas.
    m_myListCtrl.SetWorkAreas(0, NULL);
```

## <a name="sortgroups"></a>CListCtrl:: Сортграупс

Использует определяемую приложением функцию сравнения для сортировки групп по ИДЕНТИФИКАТОРу в элементе управления представления списка.

```
BOOL SortGroups(
    PFNLVGROUPCOMPARE _pfnGroupCompare,
    LPVOID _plv);
```

### <a name="parameters"></a>Параметры

*_pfnGroupCompare*<br/>
Указатель на функцию сравнения групп.

*_plv*<br/>
Указатель void.

### <a name="return-value"></a>Возвращаемое значение

Возвращает TRUE при успешном выполнении, FALSE в случае сбоя.

### <a name="remarks"></a>Remarks

Эта функция члена эмулирует функциональность [LVM_SORTGROUPS](/windows/win32/Controls/lvm-sortgroups) сообщения, как описано в Windows SDK.

## <a name="sortitems"></a>  CListCtrl::SortItems

Сортирует элементы представления списка с помощью определяемой приложением функции сравнения.

```
BOOL SortItems(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

*пфнкомпаре*<br/>
окне Адрес определяемой приложением функции сравнения.

Операция сортировки вызывает функцию сравнения каждый раз, когда необходимо определить относительный порядок двух элементов списка. Функция сравнения должна быть статическим элементом класса или изолированной функцией, которая не является членом какого-либо класса.

*двдата*<br/>
окне Определяемое приложением значение, которое передается в функцию сравнения.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если метод выполнен успешно; в противном случае — FALSE.

### <a name="remarks"></a>Remarks

Этот метод изменяет индекс каждого элемента в соответствии с новой последовательностью.

Функция сравнения *пфнкомпаре*имеет следующую форму:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

Функция сравнения должна возвращать отрицательное значение, если первый элемент должен предшествовать второму, положительное значение, если первый элемент должен следовать за вторым, или равняться нулю, если два элемента равны.

Параметр *lParam1* — это 32-разрядное значение, связанное с первым сравниваемым элементом, а параметр *lParam2* — значение, связанное со вторым элементом. Это значения, указанные в элементе *lParam* структуры [лвитем](/windows/win32/api/commctrl/ns-commctrl-lvitemw) элементов, когда они вставляются в список. Параметр *лпарамсорт* совпадает со значением *двдата* .

Этот метод отправляет [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems) сообщение, описанное в Windows SDK.

### <a name="example"></a>Пример

Ниже приведена простая функция сравнения, которая приводит к сортировке элементов по значениям *lParam* .

```cpp
// Sort items by associated lParam
int CALLBACK CListCtrlDlg::MyCompareProc(LPARAM lParam1, LPARAM lParam2,
    LPARAM lParamSort)
{
    UNREFERENCED_PARAMETER(lParamSort);
    return (int)(lParam1 - lParam2);
}
```

```cpp
// Sort the items by passing in the comparison function.
void CListCtrlDlg::Sort()
{
    m_myListCtrl.SortItems(&CListCtrlDlg::MyCompareProc, 0);
}
```

## <a name="sortitemsex"></a>  CListCtrl::SortItemsEx

Сортирует элементы текущего элемента управления "представление списка" с помощью определяемой приложением функции сравнения.

```
BOOL SortItemsEx(
    PFNLVCOMPARE pfnCompare,
    DWORD_PTR dwData);
```

### <a name="parameters"></a>Параметры

|Параметр|Description|
|---------------|-----------------|
|*пфнкомпаре*|окне Адрес определяемой приложением функции сравнения.<br /><br /> Операция сортировки вызывает функцию сравнения каждый раз, когда необходимо определить относительный порядок двух элементов списка. Функция сравнения должна быть статическим элементом класса или изолированной функцией, которая не является членом какого-либо класса.|
|*двдата*|окне Определяемое приложением значение, передаваемое функции сравнения.|

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если этот метод успешно выполнен; в противном случае — значение FALSE.

### <a name="remarks"></a>Remarks

Этот метод изменяет индекс каждого элемента в соответствии с новой последовательностью.

Функция сравнения *пфнкомпаре*имеет следующую форму:

```
int CALLBACK CompareFunc(LPARAM lParam1,
    LPARAM lParam2,
    LPARAM lParamSort);
```

Это сообщение похоже на [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems), за исключением типа данных, передаваемых в функцию сравнения. В [LVM_SORTITEMS](/windows/win32/Controls/lvm-sortitems) *lParam1* и *lParam2* — это значения сравниваемых элементов. В [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex) *lParam1* — это текущий индекс первого сравниваемого элемента, а *lParam2* — текущий индекс второго элемента. Вы можете отправить [LVM_GETITEMTEXT](/windows/win32/Controls/lvm-getitemtext) сообщение, чтобы получить дополнительные сведения об элементе.

Функция сравнения должна возвращать отрицательное значение, если первый элемент должен предшествовать второму, положительное значение, если первый элемент должен следовать за вторым, или равняться нулю, если два элемента равны.

> [!NOTE]
>  В процессе сортировки содержимое представления списка нестабильно. Если функция обратного вызова отправляет все сообщения в элемент управления "представление списка", кроме [LVM_GETITEM](/windows/win32/Controls/lvm-getitem), результаты могут оказаться непредсказуемыми.

Этот метод отправляет [LVM_SORTITEMSEX](/windows/win32/Controls/lvm-sortitemsex) сообщение, описанное в Windows SDK.

### <a name="example"></a>Пример

В следующем примере кода определяется переменная, `m_listCtrl`, которая используется для доступа к текущему элементу управления "список-представление". Эта переменная используется в следующем примере.

```cpp
public:
    // Variable used to access the list control.
    CListCtrl m_listCtrl;
```

### <a name="example"></a>Пример

В следующем примере кода демонстрируется метод `SortItemEx`. В предыдущем разделе этого примера кода мы создали элемент управления "представление списка", в котором в представлении отчета отображаются два столбца с названием "ClientID" и "Grade". В следующем примере кода таблица сортируется с использованием значений в столбце «Категория».

```cpp
// The ListCompareFunc() method is a global function used by SortItemEx().
int CALLBACK ListCompareFunc(
                             LPARAM lParam1,
                             LPARAM lParam2,
                             LPARAM lParamSort)
{
    CListCtrl* pListCtrl = (CListCtrl*) lParamSort;
    CString    strItem1 = pListCtrl->GetItemText(static_cast<int>(lParam1), 1);
    CString    strItem2 = pListCtrl->GetItemText(static_cast<int>(lParam2), 1)
    int x1 = _tstoi(strItem1.GetBuffer());
    int x2 = _tstoi(strItem2.GetBuffer());
    int result = 0;
    if ((x1 - x2) < 0)
        result = -1;
    else if ((x1 - x2) == 0)
        result = 0;
    else
        result = 1;

    return result;
}

void CCListCtrl_s2Dlg::OnBnClickedButton1()
{
    // SortItemsEx
    m_listCtrl.SortItemsEx( ListCompareFunc, (LPARAM)&m_listCtrl );
}
```

## <a name="subitemhittest"></a>CListCtrl:: Субитемхиттест

Определяет, какой элемент представления списка (если имеется) находится в заданной позиции.

```
int SubItemHitTest(LPLVHITTESTINFO pInfo);
```

### <a name="parameters"></a>Параметры

*пинфо*<br/>
Указатель на структуру [лвхиттестинфо](/windows/win32/api/commctrl/ns-commctrl-lvhittestinfo) .

### <a name="return-value"></a>Возвращаемое значение

Отсчитываемый от единицы индекс элемента или подэлемента, который тестируется (если имеется), или значение-1 в противном случае.

### <a name="remarks"></a>Remarks

Эта функция члена реализует поведение макроса Win32, [ListView_SubItemHitTest](/windows/win32/api/commctrl/nf-commctrl-listview_subitemhittest), как описано в Windows SDK.

### <a name="example"></a>Пример

```cpp
void CListCtrlDlg::OnDblClk(NMHDR* pNMHDR, LRESULT* pResult)
{
    UNREFERENCED_PARAMETER(pResult);
    LPNMITEMACTIVATE pia = (LPNMITEMACTIVATE)pNMHDR;
    LVHITTESTINFO lvhti;

    // Clear the subitem text the user clicked on.
    lvhti.pt = pia->ptAction;
    m_myListCtrl.SubItemHitTest(&lvhti);

    if (lvhti.flags & LVHT_ONITEMLABEL)
    {
        m_myListCtrl.SetItemText(lvhti.iItem, lvhti.iSubItem, NULL);
    }
}
```

## <a name="update"></a>CListCtrl:: Update

Заставляет элемент управления представления списка перерисовывать элемент, заданный параметром *нитем*.

```
BOOL Update(int nItem);
```

### <a name="parameters"></a>Параметры

*нитем*<br/>
Индекс обновляемого элемента.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение в случае успеха, иначе — 0.

### <a name="remarks"></a>Remarks

Эта функция также упорядочивает элемент управления представления списка, если он имеет стиль LVS_AUTOARRANGE.

### <a name="example"></a>Пример

См. пример для [CListCtrl:: жетселектедкаунт](#getselectedcount).

## <a name="see-also"></a>См. также раздел

[Пример РОВЛИСТ для MFC](../../overview/visual-cpp-samples.md)<br/>
[Класс CWnd](cwnd-class.md)<br/>
[Диаграмма иерархии](../hierarchy-chart.md)<br/>
[Класс CImageList](cimagelist-class.md)
