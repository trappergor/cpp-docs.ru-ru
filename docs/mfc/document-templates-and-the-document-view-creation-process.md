---
title: Шаблоны документов и процесс создания представления документов
ms.date: 11/19/2018
helpviewer_keywords:
- icons, for multiple document templates
- document templates [MFC], and views
- document/view architecture [MFC], creating document/view
- single document template
- MFC, document templates
- multiple document template
- CDocTemplate class [MFC]
- templates [MFC], document templates
ms.assetid: 311ce4cd-fbdf-4ea1-a51b-5bb043abbcee
ms.openlocfilehash: b96a11926927e89890ca268dcff7d347079b25fb
ms.sourcegitcommit: c21b05042debc97d14875e019ee9d698691ffc0b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2020
ms.locfileid: "84615775"
---
# <a name="document-templates-and-the-documentview-creation-process"></a>Шаблоны документов и процесс создания документов и представлений

Чтобы управлять сложным процессом создания документов со связанными представлениями и окнами фрейма, платформа использует два класса шаблонов документов: [ксингледоктемплате](reference/csingledoctemplate-class.md) для приложений SDI и [КМУЛТИДОКТЕМПЛАТЕ](reference/cmultidoctemplate-class.md) для приложений MDI. `CSingleDocTemplate`Может создавать и хранить по одному документу одного типа за раз. `CMultiDocTemplate`Позволяет хранить список из множества открытых документов одного типа.

Некоторые приложения поддерживают несколько типов документов. Например, приложение может поддерживать текстовые документы и графические документы. В таком приложении, когда пользователь выбирает команду "создать" в меню "файл", в диалоговом окне отображается список возможных новых типов документов для открытия. Для каждого поддерживаемого типа документа приложение использует отдельный объект шаблона документа. На следующем рисунке показана конфигурация приложения MDI, которое поддерживает два типа документов и показывает несколько открытых документов.

![Приложение MDI, имеющее два типа документов](../mfc/media/vc387h1.gif "Приложение MDI, имеющее два типа документов") <br/>
Приложение MDI с двумя типами документов

Шаблоны документов создаются и обслуживаются объектом Application. Одной из ключевых задач, выполняемых во время `InitInstance` работы приложения, является создание одного или нескольких шаблонов документов соответствующего типа. Эта функция описана в разделе [Создание шаблона документа](document-template-creation.md). Объект приложения хранит указатель на каждый шаблон документа в его списке шаблонов и предоставляет интерфейс для добавления шаблонов документов.

Если требуется поддержка двух или более типов документов, необходимо добавить дополнительный вызов [AddDocTemplate](reference/cwinapp-class.md#adddoctemplate) для каждого типа документа.

Значок регистрируется для каждого шаблона документа в зависимости от его расположения в списке шаблонов документов приложения. Порядок шаблонов документов определяется порядком их добавления с помощью вызовов `AddDocTemplate` . В MFC предполагается, что первый ресурс значка в приложении является значком приложения, следующий ресурс значка — первый значок документа и т. д.

Например, шаблон документа является третьим из трех для приложения. Если в приложении с индексом 3 имеется ресурс значка, этот значок используется для шаблона документа. В противном случае значок с индексом 0 используется по умолчанию.

## <a name="see-also"></a>См. также раздел

[Общие разделы по MFC](general-mfc-topics.md)<br/>
[Создание шаблонов документов](document-template-creation.md)<br/>
[Создание документа или представления](document-view-creation.md)<br/>
[Связи между объектами MFC](relationships-among-mfc-objects.md)<br/>
[Создание новых документов, окон и представлений](creating-new-documents-windows-and-views.md)
