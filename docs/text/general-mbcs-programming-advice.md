---
title: Общие советы по программированию многобайтовой кодировки
ms.date: 11/04/2016
helpviewer_keywords:
- MBCS [C++], dialog box fonts
- MS Shell Dlg
- MBCS [C++], programming
- dialog boxes [C++], fonts
ms.assetid: 7b541235-f3e5-4af0-b2c2-a0112cd5fbfb
ms.openlocfilehash: 887387220105614eb3257f008ec601a6fc0adc18
ms.sourcegitcommit: fcb48824f9ca24b1f8bd37d647a4d592de1cc925
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "69491188"
---
# <a name="general-mbcs-programming-advice"></a>Общие советы по программированию многобайтовой кодировки

Используйте следующие советы.

- Для гибкости Используйте макросы времени выполнения, например `_tcschr` и `_tcscpy` , если это возможно. Дополнительные сведения см. [в разделе Универсальные текстовые сопоставления в файле Tchar. h](../text/generic-text-mappings-in-tchar-h.md).

- Используйте функцию времени `_getmbcp` выполнения C для получения сведений о текущей кодовой странице.

- Не используйте строковые ресурсы повторно. В зависимости от целевого языка заданная строка может иметь другой смысл при переводе. Например, "файл" в главном меню приложения может отличаться от строки "файл" в диалоговом окне. Если необходимо использовать несколько строк с одинаковыми именами, используйте разные идентификаторы строк для каждой из них.

- Может потребоваться узнать, работает ли приложение в операционной системе с поддержкой многобайтовой кодировки. Для этого установите флаг при запуске программы. не полагайтесь на вызовы API.

- При проектировании диалоговых окон разрешите около 30% дополнительного пространства в конце статических текстовых элементов управления для преобразования MBCS.

- Будьте внимательны при выборе шрифтов для приложения, так как некоторые шрифты доступны не во всех системах.

- При выборе шрифта для диалоговых окон используйте [MS Shell Dlg](/windows/win32/Intl/using-ms-shell-dlg-and-ms-shell-dlg-2) вместо MS Sans Serif или Helvetica. Перед созданием диалогового окна MS Shell Dlg заменяется правильным шрифтом системы. Использование MS Shell Dlg гарантирует, что любые изменения в операционной системе для работы с этим шрифтом будут автоматически доступны. (MFC заменяет MS Shell Dlg на DEFAULT_GUI_FONT или системный шрифт в Windows 95, Windows 98 и Windows NT 4, так как эти системы не обрабатывали MS Shell Dlg правильно.)

- При проектировании приложения определите, какие строки могут быть локализованы. В случае сомнений Предположим, что любая заданная строка будет локализована. Таким образом, не следует смешивать строки, которые могут быть локализованы с помощью тех, которые не могут.

## <a name="see-also"></a>См. также

[Советы по программированию многобайтовой кодировки](../text/mbcs-programming-tips.md)<br/>
[Увеличение и уменьшение значений указателей](../text/incrementing-and-decrementing-pointers.md)
