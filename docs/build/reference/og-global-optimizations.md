---
title: /Og (Виды глобальной оптимизации)
description: Описывает устаревший параметр компилятора КОМПИЛЯТОРОМ MSVC/OG, который ранее использовался для включения глобальной оптимизации.
ms.date: 07/08/2020
f1_keywords:
- VC.Project.VCCLCompilerTool.GlobalOptimizations
- /og
helpviewer_keywords:
- -Og compiler option [C++]
- global optimizations compiler option [C++]
- automatic register allocation
- /Og compiler option [C++]
- loop structures, optimizing
- common subexpression elimination
- Og compiler option [C++]
ms.assetid: d10630cc-b9cf-4e97-bde3-8d7ee79e9435
ms.openlocfilehash: 2d5baf4967f4f4f945540d2a7baef399974d2d42
ms.sourcegitcommit: a1676bf6caae05ecd698f26ed80c08828722b237
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/29/2020
ms.locfileid: "91506573"
---
# <a name="og-global-optimizations"></a>`/Og` (Глобальные оптимизации)

Не рекомендуется. Обеспечивает локальную и глобальную оптимизацию, автоматическую регистрацию и оптимизацию цикла. Вместо этого рекомендуется использовать либо [ `/O1` (уменьшить размер)](o1-o2-minimize-size-maximize-speed.md) , либо [ `/O2` (максимизировать скорость)](o1-o2-minimize-size-maximize-speed.md) .

## <a name="syntax"></a>Синтаксис

> **`/Og`**

## <a name="remarks"></a>Remarks

**`/Og`** не рекомендуется к использованию. Эти оптимизации теперь включены по умолчанию при включении любой оптимизации. Дополнительные сведения о оптимизациях см. в статьях [ `/O1` `/O2` (минимальный размер, максимальная скорость)](o1-o2-minimize-size-maximize-speed.md)или [ `/Ox` (включение большинства быстрых оптимизаций)](ox-full-optimization.md).

Следующие оптимизации доступны в следующих разделах **`/Og`** :

- Локальное и глобальное исключение общего представления части выражения

   В этой оптимизации значение общей части выражения вычисляется один раз. В следующем примере, если значения `b` и `c` не меняются между тремя выражениями, компилятор может назначить вычисление `b + c` для временной переменной и использовать эту переменную для `b + c` :

    ```C
    a = b + c;
    d = b + c;
    e = b + c;
    ```

   Для локальной оптимизации общей части выражения компилятор проверяет короткие части кода для общих частей выражения. Для глобальной оптимизации общей части выражения компилятор выполняет поиск по всем функциям для общих частей выражения.

- Автоматическое выделение регистра

   Такая оптимизация позволяет компилятору хранить часто используемые переменные и части выражений в регистрах; **`register`** ключевое слово игнорируется.

- Оптимизация цикла

   Эта оптимизация удаляет инвариантные части выражения из тела цикла. Оптимальный цикл содержит только те выражения, значения которых изменяются при каждом выполнении цикла. В следующем примере выражение `x + y` не изменяется в теле цикла:

    ```C
    i = -100;
    while( i < 0 ) {
        i += x + y;
    }
    ```

   После оптимизации `x + y` вычисляется один раз, а не при каждом выполнении цикла:

    ```C
    i = -100;
    t = x + y;
    while( i < 0 ) {
        i += t;
    }
    ```

   Оптимизация цикла гораздо эффективнее, когда компилятор может не допустить присвоения псевдонимов, заданных с помощью [`__restrict`](../../cpp/extension-restrict.md) , [`noalias`](../../cpp/noalias.md) или [`restrict`](../../cpp/restrict.md) .

   > [!NOTE]
   > Можно включить или отключить глобальную оптимизацию для каждой функции с помощью `optimize` директивы pragma вместе с `g` параметром.

Связанные сведения см. в разделе [ `/Oi` (создание встроенных функций)](oi-generate-intrinsic-functions.md) и [ `/Ox` (включение большинства быстрых оптимизаций)](ox-full-optimization.md).

### <a name="to-set-this-compiler-option-in-the-visual-studio-development-environment"></a>Установка данного параметра компилятора в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Подробнее см. в статье [Настройка компилятора C++ и свойства сборки в Visual Studio](../working-with-project-properties.md).

1. Выберите страницу свойств **Свойства конфигурации**  >  **C/C++**  >  **Командная строка** .

1. В поле **Дополнительные параметры** введите параметр компилятора.

### <a name="to-set-this-compiler-option-programmatically"></a>Установка данного параметра компилятора программным способом

- См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.

## <a name="see-also"></a>См. также раздел

[Синтаксис командной строки компилятора КОМПИЛЯТОРОМ MSVC](compiler-command-line-syntax.md)
