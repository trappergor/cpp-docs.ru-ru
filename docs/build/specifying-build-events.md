---
title: Задание событий построения
ms.date: 12/28/2017
f1_keywords:
- VC.Project.IVCEventTool.CommandLine
- VC.Project.IVCEventTool.ExcludedFromBuild
- VC.Project.IVCEventTool.Description
helpviewer_keywords:
- Pre-Link event
- build events [C++], specifying
- custom build steps [C++], build events
- builds [C++], events
- events [C++], build
- builds [C++], customizing C++
- build events [C++]
- post-build events
ms.assetid: 788a6c18-2dbe-4a49-8cd6-86c1ad7a95cc
ms.openlocfilehash: c8097e013f934c45b8e3860b8377bdb2bdb9d9a0
ms.sourcegitcommit: 0ab61bc3d2b6cfbd52a16c6ab2b97a8ea1864f12
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "62315239"
---
# <a name="specifying-build-events"></a>Задание событий сборки

Вы можете использовать события сборки для указания команд, которые выполняются до начала сборки, перед процессом компоновки или после завершения сборки.

События сборки выполняются, только если сборка успешно достигает этих точек в процессе сборки. При возникновении ошибки в сборке событие *после сборки* не возникает. Если эта ошибка возникает до этапа компоновки, ни событие *перед компоновкой*, ни событие *после сборки* не возникают. Кроме того, если нет файлов для компоновки, событие *перед компоновкой* не возникает. Событие *перед компоновкой* также недоступно в проектах, не содержащих этапа компоновки.

Если отсутствуют файлы для сборки, события сборки не возникают.

Общие сведения о событиях сборки см. в разделе [Сведения об этапах настраиваемой сборки и событиях сборки](understanding-custom-build-steps-and-build-events.md).

### <a name="to-specify-a-build-event"></a>Чтобы указать событие сборки

1. В **обозревателе решений** выберите проект, для которого необходимо задать событие сборки.

1. Откройте диалоговое окно **Страницы свойств** проекта. Подробнее см. в статье [Настройка компилятора C++ и свойств сборки в Visual Studio](working-with-project-properties.md).

1. В папке **События сборки** выберите страницу свойств события сборки.

1. Укажите свойства, связанные с событием сборки:

   - В поле **Командная строка** укажите команду так, как использовали бы ее в командной строке. Укажите допустимую команду или пакетный файл, а также все нужные входные или выходные файлы. Укажите пакетную команду **call** перед именем пакетного файла, чтобы обеспечить выполнение всех последующих команд.

      Несколько входных и выходных файлов можно указать символьно с помощью макросов MSBuild. Сведения о том, как указать расположение файлов и имена наборов файлов, см. в разделе [Стандартные макросы для команд и свойств сборки](reference/common-macros-for-build-commands-and-properties.md).

      Так как символ "%" зарезервирован MSBuild, при указании переменной среды замените каждый escape-символ **%** шестнадцатеричной escape-последовательностью **%25**. Например, замените **%WINDIR%** на **%25WINDIR%25**. MSBuild заменяет каждую последовательность **%25** на символ **%** перед обращением к переменной среды.

   - В поле **Описание** введите описание события. Это описание выводится в окне **Вывод** при возникновении данного события.

   - В поле **Исключено из сборки** укажите **Да**, если запускать событие не нужно.

## <a name="see-also"></a>См. также

[Сведения об этапах настраиваемой сборки и событиях сборки](understanding-custom-build-steps-and-build-events.md)<br>
[Стандартные макросы для команд и свойств сборки](reference/common-macros-for-build-commands-and-properties.md)<br>
[Устранение неполадок настроек сборки](troubleshooting-build-customizations.md)
